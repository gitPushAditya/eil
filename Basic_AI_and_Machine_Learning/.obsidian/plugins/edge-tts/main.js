/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var wv=Object.create;var gr=Object.defineProperty;var Mv=Object.getOwnPropertyDescriptor;var Cv=Object.getOwnPropertyNames;var Av=Object.getPrototypeOf,xv=Object.prototype.hasOwnProperty;var Ov=(e,t)=>()=>(e&&(t=e(e=0)),t);var N=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Fd=(e,t)=>{for(var n in t)gr(e,n,{get:t[n],enumerable:!0})},$d=(e,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Cv(t))!xv.call(e,i)&&i!==n&&gr(e,i,{get:()=>t[i],enumerable:!(a=Mv(t,i))||a.enumerable});return e};var Ce=(e,t,n)=>(n=e!=null?wv(Av(e)):{},$d(t||!e||!e.__esModule?gr(n,"default",{value:e,enumerable:!0}):n,e)),Jl=e=>$d(gr({},"__esModule",{value:!0}),e);var Yd=N((U3,_v)=>{_v.exports=`<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" viewBox="0 0 256 283">
  <path fill="#EA4335" d="M119.5531 134.9164 1.06 259.0605c2.6963 9.5565 9.6584 17.3301 18.861 21.0595 9.2025 3.7294 19.6122 2.9957 28.2008-1.9875l133.327-75.9346-61.8956-67.2815Z"/>
  <path fill="#FBBC04" d="M239.3708 113.8136 181.7135 80.791l-64.8975 56.951 65.1624 64.2794 57.2158-32.6695C249.5257 163.9425 256 153.2447 256 141.5828c0-11.662-6.4743-22.3598-16.8058-27.7692h.1766Z"/>
  <path fill="#4285F4" d="M1.0599 23.4868A30.565 30.565 0 0 0 0 31.61v219.3273a32.3326 32.3326 0 0 0 1.0599 8.1232L123.6148 138.095 1.0599 23.4868Z"/>
  <path fill="#34A853" d="m120.4361 141.2737 61.2774-60.4828L48.5632 4.5032A32.8468 32.8468 0 0 0 32.0518 0C17.6444-.0285 4.9784 9.5342 1.0599 23.3985l119.3762 117.8752Z"/>
</svg>
`});var Xd=N((k3,Rv)=>{Rv.exports=`<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" viewBox="0 0 256 256">
  <defs>
    <linearGradient id="a" x1="50%" x2="50%" y1="0%" y2="100%">
      <stop offset="0%" stop-color="#17C9FB"/>
      <stop offset="100%" stop-color="#1A74E8"/>
    </linearGradient>
  </defs>
  <path fill="url(#a)" d="M56.0638 0h143.8724C230.8994 0 256 25.1006 256 56.0638v143.8724C256 230.8994 230.8994 256 199.9362 256H56.0638C25.1006 256 0 230.8994 0 199.9362V56.0638C0 25.1006 25.1006 0 56.0638 0Z"/>
  <path fill="#FFF" d="m82.0417 185.8103.024.0076-8.7526 15.16c-3.1948 5.5338-10.2713 7.4299-15.805 4.2348-5.5336-3.1945-7.4297-10.271-4.2349-15.8048l6.4479-11.1679.6187-1.0717c1.1051-1.5887 3.8322-4.3295 9.2872-3.8145 0 0 12.8368 1.3932 13.7656 8.065.0002 0 .1269 2.1957-1.351 4.3915Zm124.1434-38.721H178.891c-1.8586-.1244-2.6706-.7882-2.989-1.174l-.0203-.0353-29.2177-50.6061-.0377.0253-1.7525-2.5125c-2.8715-4.3914-7.4316 6.8406-7.4316 6.8406-5.4446 12.5155.7724 26.7452 2.9404 31.0459l40.5814 70.289c3.1945 5.5338 10.271 7.4299 15.8048 4.2348 5.5335-3.1945 7.4296-10.271 4.2348-15.8048l-10.1479-17.5762c-.1963-.4257-.5386-1.5822 1.5424-1.5868h13.7871c6.3899 0 11.57-5.18 11.57-11.57 0-6.3898-5.1801-11.57-11.57-11.57Zm-53.014 15.729s1.4568 7.4107-4.1804 7.4107h-5.6371v.0002H48.0919c-6.39 0-11.57-5.18-11.57-11.57 0-6.3898 5.18-11.57 11.57-11.57h25.94c4.188-.2426 5.1808-2.6601 5.1808-2.6601l.0228.0116 33.8604-58.6481-.0101-.002c.6174-1.133.1033-2.2035.0139-2.373l-11.1823-19.3682c-3.195-5.5338-1.299-12.61 4.2348-15.8048 5.5338-3.195 12.6097-1.299 15.8048 4.2348l5.1862 8.983 5.177-8.967c3.1948-5.5338 10.271-7.4299 15.8048-4.2348 5.5338 3.195 7.4299 10.2712 4.2348 15.8048l-47.1176 81.61c-.206.4967-.2691 1.2766 1.2637 1.4139H134.67l.006.2744s16.2781.2533 18.495 15.4546Z"/>
</svg>
`});var uh=N(Ae=>{"use strict";var Dv=class{constructor(e,t="Microsoft Server Speech Text to Speech Voice (en-US, EmmaMultilingualNeural)",n={}){this.ws=null,this.WSS_URL="wss://speech.platform.bing.com/consumer/speech/synthesize/readaloud/edge/v1",this.TRUSTED_CLIENT_TOKEN="6A5AA1D4EAFF4E9FB37E23D68491D6F4",this.text=e,this.voice=t,this.rate=n.rate||"+0%",this.volume=n.volume||"+0%",this.pitch=n.pitch||"+0Hz"}async synthesize(){if(await this.connect(),!this.ws||this.ws.readyState!==WebSocket.OPEN)throw new Error("WebSocket is not connected.");return this.ws.send(this.createSpeechConfig()),this.ws.send(this.createSSML()),new Promise((e,t)=>{let n=[],a=[];this.ws&&(this.ws.onmessage=i=>{if(typeof i.data=="string"){let{headers:s,body:r}=this.parseMessage(i.data);if(s.Path==="audio.metadata")try{let o=JSON.parse(r);if(o.Metadata&&Array.isArray(o.Metadata)){let l=o.Metadata.filter(u=>u.Type==="WordBoundary"&&u.Data).map(u=>({offset:u.Data.Offset,duration:u.Data.Duration,text:u.Data.text.Text}));a=a.concat(l)}}catch(o){}else s.Path==="turn.end"&&this.ws&&this.ws.close()}else i.data instanceof Blob&&i.data.arrayBuffer().then(s=>{let o=new DataView(s).getUint16(0);if(s.byteLength>o+2){let l=new Uint8Array(s,o+2);n.push(l)}})},this.ws.onclose=()=>{let i=new Blob(n,{type:"audio/mpeg"});e({audio:i,subtitle:a})},this.ws.onerror=i=>{t(i)})})}connect(){let e=this.generateConnectionId(),t=this.generateSecMsGec(),n=`${this.WSS_URL}?TrustedClientToken=${this.TRUSTED_CLIENT_TOKEN}&ConnectionId=${e}&Sec-MS-GEC=${t}&Sec-MS-GEC-Version=1-130.0.2849.68`;return this.ws=new WebSocket(n),new Promise((a,i)=>{if(!this.ws)return i(new Error("WebSocket not initialized"));this.ws.onopen=()=>{a()},this.ws.onerror=s=>{i(s)}})}parseMessage(e){let t=e.split(`\r
\r
`),n=t[0].split(`\r
`),a={};return n.forEach(i=>{let[s,r]=i.split(":",2);s&&r&&(a[s.trim()]=r.trim())}),{headers:a,body:t[1]||""}}createSpeechConfig(){let e={context:{synthesis:{audio:{metadataoptions:{sentenceBoundaryEnabled:!1,wordBoundaryEnabled:!0},outputFormat:"audio-24khz-48kbitrate-mono-mp3"}}}};return`X-Timestamp:${this.getTimestamp()}\r
Content-Type:application/json; charset=utf-8\r
Path:speech.config\r
\r
${JSON.stringify(e)}`}createSSML(){let e=`<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xml:lang='en-US'>
      <voice name='${this.voice}'>
        <prosody pitch='${this.pitch}' rate='${this.rate}' volume='${this.volume}'>
          ${this.escapeXml(this.text)}
        </prosody>
      </voice>
    </speak>`;return`X-RequestId:${this.generateConnectionId()}\r
Content-Type:application/ssml+xml\r
X-Timestamp:${this.getTimestamp()}Z\r
Path:ssml\r
\r
${e}`}generateConnectionId(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}getTimestamp(){return new Date().toISOString().replace(/[:-]|\.\d{3}/g,"")}escapeXml(e){return e.replace(/[<>&'"]/g,t=>{switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}})}async generateSecMsGec(){let n=Date.now()/1e3;n+=11644473600,n-=n%300,n*=1e7;let a=`${n.toFixed(0)}${this.TRUSTED_CLIENT_TOKEN}`,s=new TextEncoder().encode(a),r=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(r)).map(l=>l.toString(16).padStart(2,"0")).join("").toUpperCase()}};function nu(){let e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=Array.from(e,a=>a.toString(16).padStart(2,"0")).join("");return`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12,16)}-${t.slice(16,20)}-${t.slice(20,32)}`.replace(/-/g,"")}function Bv(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Pv(e){return e.replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function zv(e){return e.replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F]/g," ")}function au(){return new Date().toUTCString().replace("GMT","GMT+0000 (Coordinated Universal Time)")}function Jd(e,t,n,a,i){return`<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xml:lang='en-US'><voice name='${e}'><prosody pitch='${a}' rate='${t}' volume='${n}'>${i}</prosody></voice></speak>`}function eh(e,t,n){return`X-RequestId:${e}\r
Content-Type:application/ssml+xml\r
X-Timestamp:${t}Z\r
Path:ssml\r
\r
${n}`}function Lv(e,t,n,a){return 65536-(eh(nu(),au(),Jd(e,t,n,a,"")).length+50)}var ta=class extends Error{constructor(e){super(e),this.name="EdgeTTSException"}},Sr=class extends ta{constructor(e){super(e),this.name="SkewAdjustmentError"}},iu=class extends ta{constructor(e){super(e),this.name="UnknownResponse"}},Nt=class extends ta{constructor(e){super(e),this.name="UnexpectedResponse"}},th=class extends ta{constructor(e){super(e),this.name="NoAudioReceived"}},Er=class extends ta{constructor(e){super(e),this.name="WebSocketError"}},Tr=class extends ta{constructor(e){super(e),this.name="ValueError"}},qv=class Vi{constructor({voice:t,rate:n="+0%",volume:a="+0%",pitch:i="+0Hz"}){this.voice=t,this.rate=n,this.volume=a,this.pitch=i,this.validate()}validate(){let t=/^([a-z]{2,})-([A-Z]{2,})-(.+Neural)$/.exec(this.voice);if(t){let[,n]=t,[,,a,i]=t;if(i.includes("-")){let s=i.split("-");a+=`-${s[0]}`,i=s[1]}this.voice=`Microsoft Server Speech Text to Speech Voice (${n}-${a}, ${i})`}Vi.validateStringParam("voice",this.voice,/^Microsoft Server Speech Text to Speech Voice \(.+,.+\)$/),Vi.validateStringParam("rate",this.rate,/^[+-]\d+%$/),Vi.validateStringParam("volume",this.volume,/^[+-]\d+%$/),Vi.validateStringParam("pitch",this.pitch,/^[+-]\d+Hz$/)}static validateStringParam(t,n,a){if(typeof n!="string")throw new TypeError(`${t} must be a string`);if(!a.test(n))throw new Tr(`Invalid ${t} '${n}'.`)}},nh="speech.platform.bing.com/consumer/speech/synthesize/readaloud",su="6A5AA1D4EAFF4E9FB37E23D68491D6F4",Hv=`wss://${nh}/edge/v1?TrustedClientToken=${su}`,Qv=`https://${nh}/voices/list?trustedclienttoken=${su}`,jv="en-US-EmmaMultilingualNeural",ah="130.0.2849.68",wr=ah.split(".")[0],ih=`1-${ah}`,Vv={"User-Agent":`Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/${wr}.0.0.0 Safari/537.36 Edg/${wr}.0.0.0`,"Accept-Encoding":"gzip, deflate, br","Accept-Language":"en-US,en;q=0.9"},Gv={...Vv,Authority:"speech.platform.bing.com","Sec-CH-UA":`" Not;A Brand";v="99", "Microsoft Edge";v="${wr}", "Chromium";v="${wr}"`,"Sec-CH-UA-Mobile":"?0",Accept:"*/*","Sec-Fetch-Site":"none","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty"},Fv=11644473600,$v=1e9,sh=class ea{static adjClockSkewSeconds(t){ea.clockSkewSeconds+=t}static getUnixTimestamp(){return Date.now()/1e3+ea.clockSkewSeconds}static parseRfc2616Date(t){try{return new Date(t).getTime()/1e3}catch(n){return null}}static handleClientResponseError(t){if(!t.headers)throw new Sr("No headers in response.");let n=t.headers.date||t.headers.Date;if(!n)throw new Sr("No server date in headers.");let a=ea.parseRfc2616Date(n);if(a===null)throw new Sr(`Failed to parse server date: ${n}`);let i=ea.getUnixTimestamp();ea.adjClockSkewSeconds(a-i)}static async generateSecMsGec(){let t=ea.getUnixTimestamp();t+=Fv,t-=t%300,t*=$v/100;let n=`${t.toFixed(0)}${su}`,i=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(s)).map(o=>o.toString(16).padStart(2,"0")).join("").toUpperCase()}};sh.clockSkewSeconds=0;var Cr=sh,br=class{static from(e,t){if(typeof e=="string")return new TextEncoder().encode(e);if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return e;throw new Error("Unsupported input type for BrowserBuffer.from")}static concat(e){let t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t),a=0;for(let i of e)n.set(i,a),a+=i.length;return n}};function Yv(e){let t=new TextDecoder().decode(e),n=t.indexOf(`\r
\r
`),a={};if(n!==-1){let r=t.substring(0,n).split(`\r
`);for(let o of r){let[l,u]=o.split(":",2);l&&u&&(a[l]=u.trim())}}let i=new TextEncoder().encode(t.substring(0,n+4)).length;return[a,e.slice(i)]}function Zd(e){if(e.length<2)throw new Error("Message too short to contain header length");let t=e[0]<<8|e[1],n={};if(t>0&&t+2<=e.length){let a=e.slice(2,t+2),s=new TextDecoder().decode(a).split(`\r
`);for(let r of s){let[o,l]=r.split(":",2);o&&l&&(n[o]=l.trim())}}return[n,e.slice(t+2)]}function Xv(e,t){return function*(){let n=new TextEncoder().encode(e);if(t<=0)throw new Error("byteLength must be greater than 0");for(;n.length>t;){let i=t,s=n.slice(0,t),r=new TextDecoder().decode(s),o=r.lastIndexOf(`
`),l=r.lastIndexOf(" ");o>0?i=new TextEncoder().encode(r.substring(0,o)).length:l>0&&(i=new TextEncoder().encode(r.substring(0,l)).length);let u=n.slice(0,i),c=new TextDecoder().decode(u).trim();c&&(yield new TextEncoder().encode(c)),n=n.slice(i)}let a=new TextDecoder().decode(n).trim();a&&(yield new TextEncoder().encode(a))}()}var rh=class{constructor(e,t={}){if(this.state={partialText:br.from(""),offsetCompensation:0,lastDurationOffset:0,streamWasCalled:!1},this.ttsConfig=new qv({voice:t.voice||jv,rate:t.rate,volume:t.volume,pitch:t.pitch}),typeof e!="string")throw new TypeError("text must be a string");this.texts=Xv(Bv(zv(e)),Lv(this.ttsConfig.voice,this.ttsConfig.rate,this.ttsConfig.volume,this.ttsConfig.pitch)),this.connectionTimeout=t.connectionTimeout}parseMetadata(e){let t=JSON.parse(new TextDecoder().decode(e));for(let n of t.Metadata){let a=n.Type;if(a==="WordBoundary"){let i=n.Data.Offset+this.state.offsetCompensation,s=n.Data.Duration;return{type:a,offset:i,duration:s,text:Pv(n.Data.text.Text)}}if(a!=="SessionEnd")throw new iu(`Unknown metadata type: ${a}`)}throw new Nt("No WordBoundary metadata found")}async*_stream(){let e=`${Hv}&Sec-MS-GEC=${await Cr.generateSecMsGec()}&Sec-MS-GEC-Version=${ih}&ConnectionId=${nu()}`,t=new WebSocket(e),n=[],a=null,i;this.connectionTimeout&&(i=window.setTimeout(()=>{t.close(),n.push(new Er("Connection timeout")),a&&a()},this.connectionTimeout)),t.onmessage=r=>{i&&(window.clearTimeout(i),i=void 0);let o=r.data;if(typeof o=="string"){let[l,u]=Yv(br.from(o)),c=l.Path;if(c==="audio.metadata")try{let f=this.parseMetadata(u);this.state.lastDurationOffset=f.offset+f.duration,n.push(f)}catch(f){n.push(f)}else c==="turn.end"?(this.state.offsetCompensation=this.state.lastDurationOffset,t.close()):c!=="response"&&c!=="turn.start"&&n.push(new iu(`Unknown path received: ${c}`))}else if(o instanceof ArrayBuffer){let l=br.from(o);if(l.length<2)n.push(new Nt("We received a binary message, but it is missing the header length."));else{let[u,c]=Zd(l);u.Path!=="audio"?n.push(new Nt("Received binary message, but the path is not audio.")):u["Content-Type"]!=="audio/mpeg"?c.length>0&&n.push(new Nt("Received binary message, but with an unexpected Content-Type.")):c.length===0?n.push(new Nt("Received binary message, but it is missing the audio data.")):n.push({type:"audio",data:c})}}else o instanceof Blob&&o.arrayBuffer().then(l=>{let u=br.from(l);if(u.length<2)n.push(new Nt("We received a binary message, but it is missing the header length."));else{let[c,f]=Zd(u);c.Path!=="audio"?n.push(new Nt("Received binary message, but the path is not audio.")):c["Content-Type"]!=="audio/mpeg"?f.length>0&&n.push(new Nt("Received binary message, but with an unexpected Content-Type.")):f.length===0?n.push(new Nt("Received binary message, but it is missing the audio data.")):n.push({type:"audio",data:f})}a&&a()});a&&a()},t.onerror=r=>{i&&(window.clearTimeout(i),i=void 0),n.push(new Er("WebSocket error occurred")),a&&a()},t.onclose=()=>{i&&(window.clearTimeout(i),i=void 0),n.push("close"),a&&a()},await new Promise((r,o)=>{t.onopen=()=>{i&&(window.clearTimeout(i),i=void 0),r()},this.connectionTimeout&&setTimeout(()=>{t.readyState===WebSocket.CONNECTING&&(t.close(),o(new Er("Connection timeout")))},this.connectionTimeout)}),t.send(`X-Timestamp:${au()}\r
Content-Type:application/json; charset=utf-8\r
Path:speech.config\r
\r
{"context":{"synthesis":{"audio":{"metadataoptions":{"sentenceBoundaryEnabled":"false","wordBoundaryEnabled":"true"},"outputFormat":"audio-24khz-48kbitrate-mono-mp3"}}}}\r
`),t.send(eh(nu(),au(),Jd(this.ttsConfig.voice,this.ttsConfig.rate,this.ttsConfig.volume,this.ttsConfig.pitch,new TextDecoder().decode(this.state.partialText))));let s=!1;for(;;)if(n.length>0){let r=n.shift();if(r==="close"){if(!s)throw new th("No audio was received.");break}else{if(r instanceof Error)throw r;r.type==="audio"&&(s=!0),yield r}}else await new Promise(r=>{a=r,setTimeout(r,50)})}async*stream(){if(this.state.streamWasCalled)throw new Error("stream can only be called once.");this.state.streamWasCalled=!0;for(let e of this.texts){this.state.partialText=e;for await(let t of this._stream())yield t}}};function Iv(e){if(e.length===0)return new Uint8Array(0);if(e.length===1)return e[0];let t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t),a=0;for(let i of e)i.length>0&&(n.set(i,a),a+=i.length);return n}var Zv=class{constructor(e,t="Microsoft Server Speech Text to Speech Voice (en-US, EmmaMultilingualNeural)",n={}){this.text=e,this.voice=t,this.rate=n.rate||"+0%",this.volume=n.volume||"+0%",this.pitch=n.pitch||"+0Hz"}async synthesize(){let e=new rh(this.text,{voice:this.voice,rate:this.rate,volume:this.volume,pitch:this.pitch}),t=[],n=[];for await(let s of e.stream())s.type==="audio"&&s.data?t.push(s.data):s.type==="WordBoundary"&&s.offset!==void 0&&s.duration!==void 0&&s.text!==void 0&&n.push({offset:s.offset,duration:s.duration,text:s.text});let a=Iv(t);return{audio:new Blob([a],{type:"audio/mpeg"}),subtitle:n}}};function Mr(e,t){let n=Math.floor(e/1e7),a=Math.floor(n/3600),i=Math.floor(n%3600/60),s=n%60,r=Math.floor(e%1e7/1e4),o=t==="vtt"?".":",";return`${vr(a)}:${vr(i)}:${vr(s)}${o}${vr(r,3)}`}function vr(e,t=2){return e.toString().padStart(t,"0")}function Kv(e){let t=`WEBVTT

`;return e.forEach((n,a)=>{let i=Mr(n.offset,"vtt"),s=Mr(n.offset+n.duration,"vtt");t+=`${a+1}
`,t+=`${i} --> ${s}
`,t+=`${n.text}

`}),t}function Wv(e){let t="";return e.forEach((n,a)=>{let i=Mr(n.offset,"srt"),s=Mr(n.offset+n.duration,"srt");t+=`${a+1}
`,t+=`${i} --> ${s}
`,t+=`${n.text}

`}),t}var Gi=class extends Error{constructor(e,t){super(e),this.name="BrowserFetchError",this.response=t}};async function Kd(){let e=`${Qv}&Sec-MS-GEC=${await Cr.generateSecMsGec()}&Sec-MS-GEC-Version=${ih}`;try{let t=await fetch(e,{headers:Gv});if(!t.ok){let a={};throw t.headers.forEach((i,s)=>{a[s]=i}),new Gi(`HTTP ${t.status}`,{status:t.status,headers:a})}let n=await t.json();for(let a of n)a.VoiceTag.ContentCategories=a.VoiceTag.ContentCategories.map(i=>i.trim()),a.VoiceTag.VoicePersonalities=a.VoiceTag.VoicePersonalities.map(i=>i.trim());return n}catch(t){throw t instanceof Gi?t:new Gi(t instanceof Error?t.message:"Unknown fetch error")}}async function oh(){var e;try{return await Kd()}catch(t){if(t instanceof Gi&&((e=t.response)==null?void 0:e.status)===403)return Cr.handleClientResponseError(t.response),await Kd();throw t}}var Jv=class lh{constructor(){this.voices=[],this.calledCreate=!1}static async create(t){let n=new lh,a=t!=null?t:await oh();return n.voices=a.map(i=>({...i,Language:i.Locale.split("-")[0]})),n.calledCreate=!0,n}find(t){if(!this.calledCreate)throw new Error("BrowserVoicesManager.find() called before BrowserVoicesManager.create()");return this.voices.filter(n=>Object.entries(t).every(([a,i])=>n[a]===i))}};function Wd(e){let t=Math.floor(e/3600),n=Math.floor(e%3600/60),a=Math.floor(e%60),i=Math.round((e-Math.floor(e))*1e3),s=(r,o=2)=>r.toString().padStart(o,"0");return`${s(t)}:${s(n)}:${s(a)},${s(i,3)}`}var eS=class{constructor(){this.cues=[]}feed(e){if(e.type!=="WordBoundary"||e.offset===void 0||e.duration===void 0||e.text===void 0)throw new Tr("Invalid message type, expected 'WordBoundary' with offset, duration and text");let t=e.offset/1e7,n=(e.offset+e.duration)/1e7;this.cues.push({index:this.cues.length+1,start:t,end:n,content:e.text})}mergeCues(e){if(e<=0)throw new Tr("Invalid number of words to merge, expected > 0");if(this.cues.length===0)return;let t=[],n=this.cues[0];for(let a of this.cues.slice(1))n.content.split(" ").length<e?n={...n,end:a.end,content:`${n.content} ${a.content}`}:(t.push(n),n=a);t.push(n),this.cues=t.map((a,i)=>({...a,index:i+1}))}getSrt(){return this.cues.map(e=>`${e.index}\r
${Wd(e.start)} --> ${Wd(e.end)}\r
${e.content}\r
`).join(`\r
`)}toString(){return this.getSrt()}};Ae.Communicate=rh;Ae.DRM=Cr;Ae.EdgeTTS=Zv;Ae.EdgeTTSBrowser=Dv;Ae.EdgeTTSException=ta;Ae.FetchError=Gi;Ae.NoAudioReceived=th;Ae.SkewAdjustmentError=Sr;Ae.SubMaker=eS;Ae.UnexpectedResponse=Nt;Ae.UnknownResponse=iu;Ae.ValueError=Tr;Ae.VoicesManager=Jv;Ae.WebSocketError=Er;Ae.createSRT=Wv;Ae.createVTT=Kv;Ae.listVoices=oh});var ch=N(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.default="ffffffff-ffff-ffff-ffff-ffffffffffff"});var fh=N(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.default="00000000-0000-0000-0000-000000000000"});var dh=N(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});var Fi=N(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});var tS=dh();function nS(e){return typeof e=="string"&&tS.default.test(e)}uu.default=nS});var $i=N(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});var aS=Fi();function iS(e){if(!(0,aS.default)(e))throw TypeError("Invalid UUID");let t;return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,t&255,(t=parseInt(e.slice(9,13),16))>>>8,t&255,(t=parseInt(e.slice(14,18),16))>>>8,t&255,(t=parseInt(e.slice(19,23),16))>>>8,t&255,(t=parseInt(e.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255)}cu.default=iS});var It=N(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.unsafeStringify=void 0;var sS=Fi(),Ue=[];for(let e=0;e<256;++e)Ue.push((e+256).toString(16).slice(1));function hh(e,t=0){return(Ue[e[t+0]]+Ue[e[t+1]]+Ue[e[t+2]]+Ue[e[t+3]]+"-"+Ue[e[t+4]]+Ue[e[t+5]]+"-"+Ue[e[t+6]]+Ue[e[t+7]]+"-"+Ue[e[t+8]]+Ue[e[t+9]]+"-"+Ue[e[t+10]]+Ue[e[t+11]]+Ue[e[t+12]]+Ue[e[t+13]]+Ue[e[t+14]]+Ue[e[t+15]]).toLowerCase()}Yi.unsafeStringify=hh;function rS(e,t=0){let n=hh(e,t);if(!(0,sS.default)(n))throw TypeError("Stringified UUID is invalid");return n}Yi.default=rS});var Ar=N(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});var fu,oS=new Uint8Array(16);function lS(){if(!fu){if(typeof crypto=="undefined"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");fu=crypto.getRandomValues.bind(crypto)}return fu(oS)}du.default=lS});var hu=N(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.updateV1State=void 0;var ph=Ar(),uS=It(),Xi={};function cS(e,t,n){var s,r,o,l;let a,i=(s=e==null?void 0:e._v6)!=null?s:!1;if(e){let u=Object.keys(e);u.length===1&&u[0]==="_v6"&&(e=void 0)}if(e)a=mh((l=(o=e.random)!=null?o:(r=e.rng)==null?void 0:r.call(e))!=null?l:(0,ph.default)(),e.msecs,e.nsecs,e.clockseq,e.node,t,n);else{let u=Date.now(),c=(0,ph.default)();gh(Xi,u,c),a=mh(c,Xi.msecs,Xi.nsecs,i?void 0:Xi.clockseq,i?void 0:Xi.node,t,n)}return t!=null?t:(0,uS.unsafeStringify)(a)}function gh(e,t,n){var a,i;return(a=e.msecs)!=null||(e.msecs=-1/0),(i=e.nsecs)!=null||(e.nsecs=0),t===e.msecs?(e.nsecs++,e.nsecs>=1e4&&(e.node=void 0,e.nsecs=0)):t>e.msecs?e.nsecs=0:t<e.msecs&&(e.node=void 0),e.node||(e.node=n.slice(10,16),e.node[0]|=1,e.clockseq=(n[8]<<8|n[9])&16383),e.msecs=t,e}Ii.updateV1State=gh;function mh(e,t,n,a,i,s,r=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!s)s=new Uint8Array(16),r=0;else if(r<0||r+16>s.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);t!=null||(t=Date.now()),n!=null||(n=0),a!=null||(a=(e[8]<<8|e[9])&16383),i!=null||(i=e.slice(10,16)),t+=122192928e5;let o=((t&268435455)*1e4+n)%4294967296;s[r++]=o>>>24&255,s[r++]=o>>>16&255,s[r++]=o>>>8&255,s[r++]=o&255;let l=t/4294967296*1e4&268435455;s[r++]=l>>>8&255,s[r++]=l&255,s[r++]=l>>>24&15|16,s[r++]=l>>>16&255,s[r++]=a>>>8|128,s[r++]=a&255;for(let u=0;u<6;++u)s[r++]=i[u];return s}Ii.default=cS});var mu=N(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});var fS=$i(),dS=It();function hS(e){let t=typeof e=="string"?(0,fS.default)(e):e,n=pS(t);return typeof e=="string"?(0,dS.unsafeStringify)(n):n}pu.default=hS;function pS(e){return Uint8Array.of((e[6]&15)<<4|e[7]>>4&15,(e[7]&15)<<4|(e[4]&240)>>4,(e[4]&15)<<4|(e[5]&240)>>4,(e[5]&15)<<4|(e[0]&240)>>4,(e[0]&15)<<4|(e[1]&240)>>4,(e[1]&15)<<4|(e[2]&240)>>4,96|e[2]&15,e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}});var bh=N(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});function mS(e){let t=bS(e),n=yS(t,e.length*8);return gS(n)}function gS(e){let t=new Uint8Array(e.length*4);for(let n=0;n<e.length*4;n++)t[n]=e[n>>2]>>>n%4*8&255;return t}function yh(e){return(e+64>>>9<<4)+14+1}function yS(e,t){let n=new Uint32Array(yh(t)).fill(0);n.set(e),n[t>>5]|=128<<t%32,n[n.length-1]=t,e=n;let a=1732584193,i=-271733879,s=-1732584194,r=271733878;for(let o=0;o<e.length;o+=16){let l=a,u=i,c=s,f=r;a=Pe(a,i,s,r,e[o],7,-680876936),r=Pe(r,a,i,s,e[o+1],12,-389564586),s=Pe(s,r,a,i,e[o+2],17,606105819),i=Pe(i,s,r,a,e[o+3],22,-1044525330),a=Pe(a,i,s,r,e[o+4],7,-176418897),r=Pe(r,a,i,s,e[o+5],12,1200080426),s=Pe(s,r,a,i,e[o+6],17,-1473231341),i=Pe(i,s,r,a,e[o+7],22,-45705983),a=Pe(a,i,s,r,e[o+8],7,1770035416),r=Pe(r,a,i,s,e[o+9],12,-1958414417),s=Pe(s,r,a,i,e[o+10],17,-42063),i=Pe(i,s,r,a,e[o+11],22,-1990404162),a=Pe(a,i,s,r,e[o+12],7,1804603682),r=Pe(r,a,i,s,e[o+13],12,-40341101),s=Pe(s,r,a,i,e[o+14],17,-1502002290),i=Pe(i,s,r,a,e[o+15],22,1236535329),a=ze(a,i,s,r,e[o+1],5,-165796510),r=ze(r,a,i,s,e[o+6],9,-1069501632),s=ze(s,r,a,i,e[o+11],14,643717713),i=ze(i,s,r,a,e[o],20,-373897302),a=ze(a,i,s,r,e[o+5],5,-701558691),r=ze(r,a,i,s,e[o+10],9,38016083),s=ze(s,r,a,i,e[o+15],14,-660478335),i=ze(i,s,r,a,e[o+4],20,-405537848),a=ze(a,i,s,r,e[o+9],5,568446438),r=ze(r,a,i,s,e[o+14],9,-1019803690),s=ze(s,r,a,i,e[o+3],14,-187363961),i=ze(i,s,r,a,e[o+8],20,1163531501),a=ze(a,i,s,r,e[o+13],5,-1444681467),r=ze(r,a,i,s,e[o+2],9,-51403784),s=ze(s,r,a,i,e[o+7],14,1735328473),i=ze(i,s,r,a,e[o+12],20,-1926607734),a=Le(a,i,s,r,e[o+5],4,-378558),r=Le(r,a,i,s,e[o+8],11,-2022574463),s=Le(s,r,a,i,e[o+11],16,1839030562),i=Le(i,s,r,a,e[o+14],23,-35309556),a=Le(a,i,s,r,e[o+1],4,-1530992060),r=Le(r,a,i,s,e[o+4],11,1272893353),s=Le(s,r,a,i,e[o+7],16,-155497632),i=Le(i,s,r,a,e[o+10],23,-1094730640),a=Le(a,i,s,r,e[o+13],4,681279174),r=Le(r,a,i,s,e[o],11,-358537222),s=Le(s,r,a,i,e[o+3],16,-722521979),i=Le(i,s,r,a,e[o+6],23,76029189),a=Le(a,i,s,r,e[o+9],4,-640364487),r=Le(r,a,i,s,e[o+12],11,-421815835),s=Le(s,r,a,i,e[o+15],16,530742520),i=Le(i,s,r,a,e[o+2],23,-995338651),a=qe(a,i,s,r,e[o],6,-198630844),r=qe(r,a,i,s,e[o+7],10,1126891415),s=qe(s,r,a,i,e[o+14],15,-1416354905),i=qe(i,s,r,a,e[o+5],21,-57434055),a=qe(a,i,s,r,e[o+12],6,1700485571),r=qe(r,a,i,s,e[o+3],10,-1894986606),s=qe(s,r,a,i,e[o+10],15,-1051523),i=qe(i,s,r,a,e[o+1],21,-2054922799),a=qe(a,i,s,r,e[o+8],6,1873313359),r=qe(r,a,i,s,e[o+15],10,-30611744),s=qe(s,r,a,i,e[o+6],15,-1560198380),i=qe(i,s,r,a,e[o+13],21,1309151649),a=qe(a,i,s,r,e[o+4],6,-145523070),r=qe(r,a,i,s,e[o+11],10,-1120210379),s=qe(s,r,a,i,e[o+2],15,718787259),i=qe(i,s,r,a,e[o+9],21,-343485551),a=Tn(a,l),i=Tn(i,u),s=Tn(s,c),r=Tn(r,f)}return Uint32Array.of(a,i,s,r)}function bS(e){if(e.length===0)return new Uint32Array;let t=new Uint32Array(yh(e.length*8)).fill(0);for(let n=0;n<e.length;n++)t[n>>2]|=(e[n]&255)<<n%4*8;return t}function Tn(e,t){let n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535}function vS(e,t){return e<<t|e>>>32-t}function xr(e,t,n,a,i,s){return Tn(vS(Tn(Tn(t,e),Tn(a,s)),i),n)}function Pe(e,t,n,a,i,s,r){return xr(t&n|~t&a,e,t,i,s,r)}function ze(e,t,n,a,i,s,r){return xr(t&a|n&~a,e,t,i,s,r)}function Le(e,t,n,a,i,s,r){return xr(t^n^a,e,t,i,s,r)}function qe(e,t,n,a,i,s,r){return xr(n^(t|~a),e,t,i,s,r)}gu.default=mS});var Zi=N(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.URL=Zt.DNS=Zt.stringToBytes=void 0;var vh=$i(),SS=It();function Sh(e){e=unescape(encodeURIComponent(e));let t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}Zt.stringToBytes=Sh;Zt.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Zt.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function ES(e,t,n,a,i,s){let r=typeof n=="string"?Sh(n):n,o=typeof a=="string"?(0,vh.default)(a):a;if(typeof a=="string"&&(a=(0,vh.default)(a)),(a==null?void 0:a.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+r.length);if(l.set(o),l.set(r,o.length),l=t(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,i){s=s||0;for(let u=0;u<16;++u)i[s+u]=l[u];return i}return(0,SS.unsafeStringify)(l)}Zt.default=ES});var Th=N(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.URL=na.DNS=void 0;var TS=bh(),yu=Zi(),Eh=Zi();Object.defineProperty(na,"DNS",{enumerable:!0,get:function(){return Eh.DNS}});Object.defineProperty(na,"URL",{enumerable:!0,get:function(){return Eh.URL}});function bu(e,t,n,a){return(0,yu.default)(48,TS.default,e,t,n,a)}bu.DNS=yu.DNS;bu.URL=yu.URL;na.default=bu});var wh=N(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});var wS=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);vu.default={randomUUID:wS}});var Ch=N(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});var Mh=wh(),MS=Ar(),CS=It();function AS(e,t,n){var i,s,r;if(Mh.default.randomUUID&&!t&&!e)return Mh.default.randomUUID();e=e||{};let a=(r=(s=e.random)!=null?s:(i=e.rng)==null?void 0:i.call(e))!=null?r:(0,MS.default)();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){if(n=n||0,n<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let o=0;o<16;++o)t[n+o]=a[o];return t}return(0,CS.unsafeStringify)(a)}Su.default=AS});var Ah=N(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});function xS(e,t,n,a){switch(e){case 0:return t&n^~t&a;case 1:return t^n^a;case 2:return t&n^t&a^n&a;case 3:return t^n^a}}function Eu(e,t){return e<<t|e>>>32-t}function OS(e){let t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520],a=new Uint8Array(e.length+1);a.set(e),a[e.length]=128,e=a;let i=e.length/4+2,s=Math.ceil(i/16),r=new Array(s);for(let o=0;o<s;++o){let l=new Uint32Array(16);for(let u=0;u<16;++u)l[u]=e[o*64+u*4]<<24|e[o*64+u*4+1]<<16|e[o*64+u*4+2]<<8|e[o*64+u*4+3];r[o]=l}r[s-1][14]=(e.length-1)*8/Math.pow(2,32),r[s-1][14]=Math.floor(r[s-1][14]),r[s-1][15]=(e.length-1)*8&4294967295;for(let o=0;o<s;++o){let l=new Uint32Array(80);for(let b=0;b<16;++b)l[b]=r[o][b];for(let b=16;b<80;++b)l[b]=Eu(l[b-3]^l[b-8]^l[b-14]^l[b-16],1);let u=n[0],c=n[1],f=n[2],d=n[3],m=n[4];for(let b=0;b<80;++b){let y=Math.floor(b/20),v=Eu(u,5)+xS(y,c,f,d)+m+t[y]+l[b]>>>0;m=d,d=f,f=Eu(c,30)>>>0,c=u,u=v}n[0]=n[0]+u>>>0,n[1]=n[1]+c>>>0,n[2]=n[2]+f>>>0,n[3]=n[3]+d>>>0,n[4]=n[4]+m>>>0}return Uint8Array.of(n[0]>>24,n[0]>>16,n[0]>>8,n[0],n[1]>>24,n[1]>>16,n[1]>>8,n[1],n[2]>>24,n[2]>>16,n[2]>>8,n[2],n[3]>>24,n[3]>>16,n[3]>>8,n[3],n[4]>>24,n[4]>>16,n[4]>>8,n[4])}Tu.default=OS});var Oh=N(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.URL=aa.DNS=void 0;var _S=Ah(),wu=Zi(),xh=Zi();Object.defineProperty(aa,"DNS",{enumerable:!0,get:function(){return xh.DNS}});Object.defineProperty(aa,"URL",{enumerable:!0,get:function(){return xh.URL}});function Mu(e,t,n,a){return(0,wu.default)(80,_S.default,e,t,n,a)}Mu.DNS=wu.DNS;Mu.URL=wu.URL;aa.default=Mu});var _h=N(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});var RS=It(),US=hu(),kS=mu();function NS(e,t,n){e!=null||(e={}),n!=null||(n=0);let a=(0,US.default)({...e,_v6:!0},new Uint8Array(16));if(a=(0,kS.default)(a),t){for(let i=0;i<16;i++)t[n+i]=a[i];return t}return(0,RS.unsafeStringify)(a)}Cu.default=NS});var Rh=N(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});var DS=$i(),BS=It();function PS(e){let t=typeof e=="string"?(0,DS.default)(e):e,n=zS(t);return typeof e=="string"?(0,BS.unsafeStringify)(n):n}Au.default=PS;function zS(e){return Uint8Array.of((e[3]&15)<<4|e[4]>>4&15,(e[4]&15)<<4|(e[5]&240)>>4,(e[5]&15)<<4|e[6]&15,e[7],(e[1]&15)<<4|(e[2]&240)>>4,(e[2]&15)<<4|(e[3]&240)>>4,16|(e[0]&240)>>4,(e[0]&15)<<4|(e[1]&240)>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}});var Dh=N(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.updateV7State=void 0;var Uh=Ar(),LS=It(),xu={};function qS(e,t,n){var i,s,r;let a;if(e)a=kh((r=(s=e.random)!=null?s:(i=e.rng)==null?void 0:i.call(e))!=null?r:(0,Uh.default)(),e.msecs,e.seq,t,n);else{let o=Date.now(),l=(0,Uh.default)();Nh(xu,o,l),a=kh(l,xu.msecs,xu.seq,t,n)}return t!=null?t:(0,LS.unsafeStringify)(a)}function Nh(e,t,n){var a,i;return(a=e.msecs)!=null||(e.msecs=-1/0),(i=e.seq)!=null||(e.seq=0),t>e.msecs?(e.seq=n[6]<<23|n[7]<<16|n[8]<<8|n[9],e.msecs=t):(e.seq=e.seq+1|0,e.seq===0&&e.msecs++),e}Ki.updateV7State=Nh;function kh(e,t,n,a,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!a)a=new Uint8Array(16),i=0;else if(i<0||i+16>a.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return t!=null||(t=Date.now()),n!=null||(n=e[6]*127<<24|e[7]<<16|e[8]<<8|e[9]),a[i++]=t/1099511627776&255,a[i++]=t/4294967296&255,a[i++]=t/16777216&255,a[i++]=t/65536&255,a[i++]=t/256&255,a[i++]=t&255,a[i++]=112|n>>>28&15,a[i++]=n>>>20&255,a[i++]=128|n>>>14&63,a[i++]=n>>>6&255,a[i++]=n<<2&255|e[10]&3,a[i++]=e[11],a[i++]=e[12],a[i++]=e[13],a[i++]=e[14],a[i++]=e[15],a}Ki.default=qS});var Bh=N(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});var HS=Fi();function QS(e){if(!(0,HS.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}Ou.default=QS});var _u=N(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.version=W.validate=W.v7=W.v6ToV1=W.v6=W.v5=W.v4=W.v3=W.v1ToV6=W.v1=W.stringify=W.parse=W.NIL=W.MAX=void 0;var jS=ch();Object.defineProperty(W,"MAX",{enumerable:!0,get:function(){return jS.default}});var VS=fh();Object.defineProperty(W,"NIL",{enumerable:!0,get:function(){return VS.default}});var GS=$i();Object.defineProperty(W,"parse",{enumerable:!0,get:function(){return GS.default}});var FS=It();Object.defineProperty(W,"stringify",{enumerable:!0,get:function(){return FS.default}});var $S=hu();Object.defineProperty(W,"v1",{enumerable:!0,get:function(){return $S.default}});var YS=mu();Object.defineProperty(W,"v1ToV6",{enumerable:!0,get:function(){return YS.default}});var XS=Th();Object.defineProperty(W,"v3",{enumerable:!0,get:function(){return XS.default}});var IS=Ch();Object.defineProperty(W,"v4",{enumerable:!0,get:function(){return IS.default}});var ZS=Oh();Object.defineProperty(W,"v5",{enumerable:!0,get:function(){return ZS.default}});var KS=_h();Object.defineProperty(W,"v6",{enumerable:!0,get:function(){return KS.default}});var WS=Rh();Object.defineProperty(W,"v6ToV1",{enumerable:!0,get:function(){return WS.default}});var JS=Dh();Object.defineProperty(W,"v7",{enumerable:!0,get:function(){return JS.default}});var e1=Fi();Object.defineProperty(W,"validate",{enumerable:!0,get:function(){return e1.default}});var t1=Bh();Object.defineProperty(W,"version",{enumerable:!0,get:function(){return t1.default}})});var Ru=N((b2,Ph)=>{var n1=Ph.exports=function e(t,n){var a;if(t!=null)return n=(n||"").replace(/[^&"<>\']/g,""),a=`([&"<>'])`.replace(new RegExp("["+n+"]","g"),""),t.replace(new RegExp(a,"g"),function(i,s){return e.map[s]})},y2=n1.map={">":"&gt;","<":"&lt;","'":"&apos;",'"':"&quot;","&":"&amp;"}});var Uu={};Fd(Uu,{default:()=>a1});var za,a1,ku=Ov(()=>{za=null;typeof WebSocket!="undefined"?za=WebSocket:typeof MozWebSocket!="undefined"?za=MozWebSocket:typeof global!="undefined"?za=global.WebSocket||global.MozWebSocket:typeof window!="undefined"?za=window.WebSocket||window.MozWebSocket:typeof self!="undefined"&&(za=self.WebSocket||self.MozWebSocket);a1=za});var Nu=N((wn,zh)=>{var Or=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof global!="undefined"&&global,_r=function(){function e(){this.fetch=!1,this.DOMException=Or.DOMException}return e.prototype=Or,new e}();(function(e){var t=function(n){var a=typeof e!="undefined"&&e||typeof self!="undefined"&&self||typeof global!="undefined"&&global||{},i={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(S){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function s(S){return S&&DataView.prototype.isPrototypeOf(S)}if(i.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(S){return S&&r.indexOf(Object.prototype.toString.call(S))>-1};function l(S){if(typeof S!="string"&&(S=String(S)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(S)||S==="")throw new TypeError('Invalid character in header field name: "'+S+'"');return S.toLowerCase()}function u(S){return typeof S!="string"&&(S=String(S)),S}function c(S){var C={next:function(){var D=S.shift();return{done:D===void 0,value:D}}};return i.iterable&&(C[Symbol.iterator]=function(){return C}),C}function f(S){this.map={},S instanceof f?S.forEach(function(C,D){this.append(D,C)},this):Array.isArray(S)?S.forEach(function(C){if(C.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+C.length);this.append(C[0],C[1])},this):S&&Object.getOwnPropertyNames(S).forEach(function(C){this.append(C,S[C])},this)}f.prototype.append=function(S,C){S=l(S),C=u(C);var D=this.map[S];this.map[S]=D?D+", "+C:C},f.prototype.delete=function(S){delete this.map[l(S)]},f.prototype.get=function(S){return S=l(S),this.has(S)?this.map[S]:null},f.prototype.has=function(S){return this.map.hasOwnProperty(l(S))},f.prototype.set=function(S,C){this.map[l(S)]=u(C)},f.prototype.forEach=function(S,C){for(var D in this.map)this.map.hasOwnProperty(D)&&S.call(C,this.map[D],D,this)},f.prototype.keys=function(){var S=[];return this.forEach(function(C,D){S.push(D)}),c(S)},f.prototype.values=function(){var S=[];return this.forEach(function(C){S.push(C)}),c(S)},f.prototype.entries=function(){var S=[];return this.forEach(function(C,D){S.push([D,C])}),c(S)},i.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function d(S){if(!S._noBody){if(S.bodyUsed)return Promise.reject(new TypeError("Already read"));S.bodyUsed=!0}}function m(S){return new Promise(function(C,D){S.onload=function(){C(S.result)},S.onerror=function(){D(S.error)}})}function b(S){var C=new FileReader,D=m(C);return C.readAsArrayBuffer(S),D}function y(S){var C=new FileReader,D=m(C),X=/charset=([A-Za-z0-9_-]+)/.exec(S.type),k=X?X[1]:"utf-8";return C.readAsText(S,k),D}function v(S){for(var C=new Uint8Array(S),D=new Array(C.length),X=0;X<C.length;X++)D[X]=String.fromCharCode(C[X]);return D.join("")}function p(S){if(S.slice)return S.slice(0);var C=new Uint8Array(S.byteLength);return C.set(new Uint8Array(S)),C.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(S){this.bodyUsed=this.bodyUsed,this._bodyInit=S,S?typeof S=="string"?this._bodyText=S:i.blob&&Blob.prototype.isPrototypeOf(S)?this._bodyBlob=S:i.formData&&FormData.prototype.isPrototypeOf(S)?this._bodyFormData=S:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)?this._bodyText=S.toString():i.arrayBuffer&&i.blob&&s(S)?(this._bodyArrayBuffer=p(S.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(S)||o(S))?this._bodyArrayBuffer=p(S):this._bodyText=S=Object.prototype.toString.call(S):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof S=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var S=d(this);if(S)return S;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var S=d(this);return S||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(i.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var S=d(this);if(S)return S;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(S){var C=S.toUpperCase();return g.indexOf(C)>-1?C:S}function M(S,C){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');C=C||{};var D=C.body;if(S instanceof M){if(S.bodyUsed)throw new TypeError("Already read");this.url=S.url,this.credentials=S.credentials,C.headers||(this.headers=new f(S.headers)),this.method=S.method,this.mode=S.mode,this.signal=S.signal,!D&&S._bodyInit!=null&&(D=S._bodyInit,S.bodyUsed=!0)}else this.url=String(S);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new f(C.headers)),this.method=E(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal||function(){if("AbortController"in a){var _=new AbortController;return _.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(D),(this.method==="GET"||this.method==="HEAD")&&(C.cache==="no-store"||C.cache==="no-cache")){var X=/([?&])_=[^&]*/;if(X.test(this.url))this.url=this.url.replace(X,"$1_="+new Date().getTime());else{var k=/\?/;this.url+=(k.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function O(S){var C=new FormData;return S.trim().split("&").forEach(function(D){if(D){var X=D.split("="),k=X.shift().replace(/\+/g," "),_=X.join("=").replace(/\+/g," ");C.append(decodeURIComponent(k),decodeURIComponent(_))}}),C}function A(S){var C=new f,D=S.replace(/\r?\n[\t ]+/g," ");return D.split("\r").map(function(X){return X.indexOf(`
`)===0?X.substr(1,X.length):X}).forEach(function(X){var k=X.split(":"),_=k.shift().trim();if(_){var I=k.join(":").trim();try{C.append(_,I)}catch(Me){console.warn("Response "+Me.message)}}}),C}h.call(M.prototype);function x(S,C){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=C.statusText===void 0?"":""+C.statusText,this.headers=new f(C.headers),this.url=C.url||"",this._initBody(S)}h.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},x.error=function(){var S=new x(null,{status:200,statusText:""});return S.ok=!1,S.status=0,S.type="error",S};var H=[301,302,303,307,308];x.redirect=function(S,C){if(H.indexOf(C)===-1)throw new RangeError("Invalid status code");return new x(null,{status:C,headers:{location:S}})},n.DOMException=a.DOMException;try{new n.DOMException}catch(S){n.DOMException=function(C,D){this.message=C,this.name=D;var X=Error(C);this.stack=X.stack},n.DOMException.prototype=Object.create(Error.prototype),n.DOMException.prototype.constructor=n.DOMException}function R(S,C){return new Promise(function(D,X){var k=new M(S,C);if(k.signal&&k.signal.aborted)return X(new n.DOMException("Aborted","AbortError"));var _=new XMLHttpRequest;function I(){_.abort()}_.onload=function(){var ye={statusText:_.statusText,headers:A(_.getAllResponseHeaders()||"")};k.url.indexOf("file://")===0&&(_.status<200||_.status>599)?ye.status=200:ye.status=_.status,ye.url="responseURL"in _?_.responseURL:ye.headers.get("X-Request-URL");var Wn="response"in _?_.response:_.responseText;setTimeout(function(){D(new x(Wn,ye))},0)},_.onerror=function(){setTimeout(function(){X(new TypeError("Network request failed"))},0)},_.ontimeout=function(){setTimeout(function(){X(new TypeError("Network request timed out"))},0)},_.onabort=function(){setTimeout(function(){X(new n.DOMException("Aborted","AbortError"))},0)};function Me(ye){try{return ye===""&&a.location.href?a.location.href:ye}catch(Wn){return ye}}if(_.open(k.method,Me(k.url),!0),k.credentials==="include"?_.withCredentials=!0:k.credentials==="omit"&&(_.withCredentials=!1),"responseType"in _&&(i.blob?_.responseType="blob":i.arrayBuffer&&(_.responseType="arraybuffer")),C&&typeof C.headers=="object"&&!(C.headers instanceof f||a.Headers&&C.headers instanceof a.Headers)){var Kn=[];Object.getOwnPropertyNames(C.headers).forEach(function(ye){Kn.push(l(ye)),_.setRequestHeader(ye,u(C.headers[ye]))}),k.headers.forEach(function(ye,Wn){Kn.indexOf(Wn)===-1&&_.setRequestHeader(Wn,ye)})}else k.headers.forEach(function(ye,Wn){_.setRequestHeader(Wn,ye)});k.signal&&(k.signal.addEventListener("abort",I),_.onreadystatechange=function(){_.readyState===4&&k.signal.removeEventListener("abort",I)}),_.send(typeof k._bodyInit=="undefined"?null:k._bodyInit)})}return R.polyfill=!0,a.fetch||(a.fetch=R,a.Headers=f,a.Request=M,a.Response=x),n.Headers=f,n.Request=M,n.Response=x,n.fetch=R,n}({})})(_r);_r.fetch.ponyfill=!0;delete _r.fetch.polyfill;var La=Or.fetch?Or:_r;wn=La.fetch;wn.default=La.fetch;wn.fetch=La.fetch;wn.Headers=La.Headers;wn.Request=La.Request;wn.Response=La.Response;zh.exports=wn});var qh=N((v2,Lh)=>{var qa=1e3,Ha=qa*60,Qa=Ha*60,ia=Qa*24,i1=ia*7,s1=ia*365.25;Lh.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return r1(e);if(n==="number"&&isFinite(e))return t.long?l1(e):o1(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function r1(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),a=(t[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return n*s1;case"weeks":case"week":case"w":return n*i1;case"days":case"day":case"d":return n*ia;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Qa;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ha;case"seconds":case"second":case"secs":case"sec":case"s":return n*qa;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function o1(e){var t=Math.abs(e);return t>=ia?Math.round(e/ia)+"d":t>=Qa?Math.round(e/Qa)+"h":t>=Ha?Math.round(e/Ha)+"m":t>=qa?Math.round(e/qa)+"s":e+"ms"}function l1(e){var t=Math.abs(e);return t>=ia?Rr(e,t,ia,"day"):t>=Qa?Rr(e,t,Qa,"hour"):t>=Ha?Rr(e,t,Ha,"minute"):t>=qa?Rr(e,t,qa,"second"):e+" ms"}function Rr(e,t,n,a){var i=t>=n*1.5;return Math.round(e/n)+" "+a+(i?"s":"")}});var Qh=N((S2,Hh)=>{function u1(e){n.debug=n,n.default=n,n.coerce=l,n.disable=r,n.enable=i,n.enabled=o,n.humanize=qh(),n.destroy=u,Object.keys(e).forEach(c=>{n[c]=e[c]}),n.names=[],n.skips=[],n.formatters={};function t(c){let f=0;for(let d=0;d<c.length;d++)f=(f<<5)-f+c.charCodeAt(d),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(c){let f,d=null,m,b;function y(...v){if(!y.enabled)return;let p=y,h=Number(new Date),g=h-(f||h);p.diff=g,p.prev=f,p.curr=h,f=h,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let E=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(O,A)=>{if(O==="%%")return"%";E++;let x=n.formatters[A];if(typeof x=="function"){let H=v[E];O=x.call(p,H),v.splice(E,1),E--}return O}),n.formatArgs.call(p,v),(p.log||n.log).apply(p,v)}return y.namespace=c,y.useColors=n.useColors(),y.color=n.selectColor(c),y.extend=a,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(m!==n.namespaces&&(m=n.namespaces,b=n.enabled(c)),b),set:v=>{d=v}}),typeof n.init=="function"&&n.init(y),y}function a(c,f){let d=n(this.namespace+(typeof f=="undefined"?":":f)+c);return d.log=this.log,d}function i(c){n.save(c),n.namespaces=c,n.names=[],n.skips=[];let f=(typeof c=="string"?c:"").trim().replace(" ",",").split(",").filter(Boolean);for(let d of f)d[0]==="-"?n.skips.push(d.slice(1)):n.names.push(d)}function s(c,f){let d=0,m=0,b=-1,y=0;for(;d<c.length;)if(m<f.length&&(f[m]===c[d]||f[m]==="*"))f[m]==="*"?(b=m,y=d,m++):(d++,m++);else if(b!==-1)m=b+1,y++,d=y;else return!1;for(;m<f.length&&f[m]==="*";)m++;return m===f.length}function r(){let c=[...n.names,...n.skips.map(f=>"-"+f)].join(",");return n.enable(""),c}function o(c){for(let f of n.skips)if(s(c,f))return!1;for(let f of n.names)if(s(c,f))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}Hh.exports=u1});var Du=N((it,Ur)=>{it.formatArgs=f1;it.save=d1;it.load=h1;it.useColors=c1;it.storage=p1();it.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();it.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function c1(){if(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function f1(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Ur.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,a=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(a=n))}),e.splice(a,0,t)}it.log=console.debug||console.log||(()=>{});function d1(e){try{e?it.storage.setItem("debug",e):it.storage.removeItem("debug")}catch(t){}}function h1(){let e;try{e=it.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function p1(){try{return localStorage}catch(e){}}Ur.exports=Qh()(it);var{formatters:m1}=Ur.exports;m1.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Gh=N(Ie=>{"use strict";var g1=Ie&&Ie.__createBinding||(Object.create?function(e,t,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]}),y1=Ie&&Ie.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jh=Ie&&Ie.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&g1(t,e,n);return y1(t,e),t};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.req=Ie.json=Ie.toBuffer=void 0;var b1=jh(require("http")),v1=jh(require("https"));async function Vh(e){let t=0,n=[];for await(let a of e)t+=a.length,n.push(a);return Buffer.concat(n,t)}Ie.toBuffer=Vh;async function S1(e){let n=(await Vh(e)).toString("utf8");try{return JSON.parse(n)}catch(a){let i=a;throw i.message+=` (input: ${n})`,i}}Ie.json=S1;function E1(e,t={}){let a=((typeof e=="string"?e:e.href).startsWith("https:")?v1:b1).request(e,t),i=new Promise((s,r)=>{a.once("response",s).once("error",r).end()});return a.then=i.then.bind(i),a}Ie.req=E1});var Xh=N(st=>{"use strict";var $h=st&&st.__createBinding||(Object.create?function(e,t,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]}),T1=st&&st.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Yh=st&&st.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&$h(t,e,n);return T1(t,e),t},w1=st&&st.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&$h(t,e,n)};Object.defineProperty(st,"__esModule",{value:!0});st.Agent=void 0;var M1=Yh(require("net")),Fh=Yh(require("http")),C1=require("https");w1(Gh(),st);var Dt=Symbol("AgentBaseInternalState"),Bu=class extends Fh.Agent{constructor(t){super(t),this[Dt]={}}isSecureEndpoint(t){if(t){if(typeof t.secureEndpoint=="boolean")return t.secureEndpoint;if(typeof t.protocol=="string")return t.protocol==="https:"}let{stack:n}=new Error;return typeof n!="string"?!1:n.split(`
`).some(a=>a.indexOf("(https.js:")!==-1||a.indexOf("node:https:")!==-1)}incrementSockets(t){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[t]||(this.sockets[t]=[]);let n=new M1.Socket({writable:!1});return this.sockets[t].push(n),this.totalSocketCount++,n}decrementSockets(t,n){if(!this.sockets[t]||n===null)return;let a=this.sockets[t],i=a.indexOf(n);i!==-1&&(a.splice(i,1),this.totalSocketCount--,a.length===0&&delete this.sockets[t])}getName(t){return(typeof t.secureEndpoint=="boolean"?t.secureEndpoint:this.isSecureEndpoint(t))?C1.Agent.prototype.getName.call(this,t):super.getName(t)}createSocket(t,n,a){let i={...n,secureEndpoint:this.isSecureEndpoint(n)},s=this.getName(i),r=this.incrementSockets(s);Promise.resolve().then(()=>this.connect(t,i)).then(o=>{if(this.decrementSockets(s,r),o instanceof Fh.Agent)try{return o.addRequest(t,i)}catch(l){return a(l)}this[Dt].currentSocket=o,super.createSocket(t,n,a)},o=>{this.decrementSockets(s,r),a(o)})}createConnection(){let t=this[Dt].currentSocket;if(this[Dt].currentSocket=void 0,!t)throw new Error("No socket was returned in the `connect()` function");return t}get defaultPort(){var t;return(t=this[Dt].defaultPort)!=null?t:this.protocol==="https:"?443:80}set defaultPort(t){this[Dt]&&(this[Dt].defaultPort=t)}get protocol(){var t;return(t=this[Dt].protocol)!=null?t:this.isSecureEndpoint()?"https:":"http:"}set protocol(t){this[Dt]&&(this[Dt].protocol=t)}};st.Agent=Bu});var Ih=N(ja=>{"use strict";var A1=ja&&ja.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ja,"__esModule",{value:!0});ja.parseProxyResponse=void 0;var x1=A1(Du()),kr=(0,x1.default)("https-proxy-agent:parse-proxy-response");function O1(e){return new Promise((t,n)=>{let a=0,i=[];function s(){let c=e.read();c?u(c):e.once("readable",s)}function r(){e.removeListener("end",o),e.removeListener("error",l),e.removeListener("readable",s)}function o(){r(),kr("onend"),n(new Error("Proxy connection ended before receiving CONNECT response"))}function l(c){r(),kr("onerror %o",c),n(c)}function u(c){i.push(c),a+=c.length;let f=Buffer.concat(i,a),d=f.indexOf(`\r
\r
`);if(d===-1){kr("have not received end of HTTP headers yet..."),s();return}let m=f.slice(0,d).toString("ascii").split(`\r
`),b=m.shift();if(!b)return e.destroy(),n(new Error("No header received from proxy CONNECT response"));let y=b.split(" "),v=+y[1],p=y.slice(2).join(" "),h={};for(let g of m){if(!g)continue;let E=g.indexOf(":");if(E===-1)return e.destroy(),n(new Error(`Invalid header from proxy CONNECT response: "${g}"`));let M=g.slice(0,E).toLowerCase(),O=g.slice(E+1).trimStart(),A=h[M];typeof A=="string"?h[M]=[A,O]:Array.isArray(A)?A.push(O):h[M]=O}kr("got proxy server response: %o %o",b,h),r(),t({connect:{statusCode:v,statusText:p,headers:h},buffered:f})}e.on("error",l),e.on("end",o),s()})}ja.parseProxyResponse=O1});var Br=N(gt=>{"use strict";var _1=gt&&gt.__createBinding||(Object.create?function(e,t,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]}),R1=gt&&gt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Jh=gt&&gt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&_1(t,e,n);return R1(t,e),t},ep=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gt,"__esModule",{value:!0});gt.HttpsProxyAgent=void 0;var Nr=Jh(require("net")),Zh=Jh(require("tls")),U1=ep(require("assert")),k1=ep(Du()),N1=Xh(),D1=require("url"),B1=Ih(),Wi=(0,k1.default)("https-proxy-agent"),Kh=e=>e.servername===void 0&&e.host&&!Nr.isIP(e.host)?{...e,servername:e.host}:e,Dr=class extends N1.Agent{constructor(t,n){var s;super(n),this.options={path:void 0},this.proxy=typeof t=="string"?new D1.URL(t):t,this.proxyHeaders=(s=n==null?void 0:n.headers)!=null?s:{},Wi("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let a=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...n?Wh(n,"headers"):null,host:a,port:i}}async connect(t,n){let{proxy:a}=this;if(!n.host)throw new TypeError('No "host" provided');let i;a.protocol==="https:"?(Wi("Creating `tls.Socket`: %o",this.connectOpts),i=Zh.connect(Kh(this.connectOpts))):(Wi("Creating `net.Socket`: %o",this.connectOpts),i=Nr.connect(this.connectOpts));let s=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},r=Nr.isIPv6(n.host)?`[${n.host}]`:n.host,o=`CONNECT ${r}:${n.port} HTTP/1.1\r
`;if(a.username||a.password){let d=`${decodeURIComponent(a.username)}:${decodeURIComponent(a.password)}`;s["Proxy-Authorization"]=`Basic ${Buffer.from(d).toString("base64")}`}s.Host=`${r}:${n.port}`,s["Proxy-Connection"]||(s["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let d of Object.keys(s))o+=`${d}: ${s[d]}\r
`;let l=(0,B1.parseProxyResponse)(i);i.write(`${o}\r
`);let{connect:u,buffered:c}=await l;if(t.emit("proxyConnect",u),this.emit("proxyConnect",u,t),u.statusCode===200)return t.once("socket",P1),n.secureEndpoint?(Wi("Upgrading socket connection to TLS"),Zh.connect({...Wh(Kh(n),"host","path","port"),socket:i})):i;i.destroy();let f=new Nr.Socket({writable:!1});return f.readable=!0,t.once("socket",d=>{Wi("Replaying proxy buffer for failed request"),(0,U1.default)(d.listenerCount("data")>0),d.push(c),d.push(null)}),f}};Dr.protocols=["http","https"];gt.HttpsProxyAgent=Dr;function P1(e){e.resume()}function Wh(e,...t){let n={},a;for(a in e)t.includes(a)||(n[a]=e[a]);return n}});var pp=N(ke=>{"use strict";var z1=_u(),L1=Ru(),q1=(ku(),Jl(Uu)),H1=Nu();function Qu(e){return e&&e.__esModule?e:{default:e}}var Q1=Qu(L1),j1=Qu(q1),V1=Qu(H1),G1=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,n)=>(typeof require!="undefined"?require:t)[n]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),la=class extends Error{constructor(e){super(e),this.name="EdgeTTSException"}},Pu=class extends la{constructor(e){super(e),this.name="SkewAdjustmentError"}},zu=class extends la{constructor(e){super(e),this.name="UnknownResponse"}},sa=class extends la{constructor(e){super(e),this.name="UnexpectedResponse"}},ap=class extends la{constructor(e){super(e),this.name="NoAudioReceived"}},Lu=class extends la{constructor(e){super(e),this.name="WebSocketError"}},Va=class extends la{constructor(e){super(e),this.name="ValueError"}};function F1(e){return e.replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F]/g," ")}function qu(){return z1.v4().replace(/-/g,"")}function $1(e,t){let n=e.subarray(0,t),a=n.lastIndexOf(`
`);return a<0&&(a=n.lastIndexOf(" ")),a}function Y1(e){let t=e.length;for(;t>0;){if(e.subarray(0,t).toString("utf-8").endsWith("\uFFFD")){t--;continue}return t}return t}function X1(e,t){let n=e.lastIndexOf("&",t-1);for(;n!==-1;){let a=e.indexOf(";",n);if(a!==-1&&a<t)break;t=n,n=e.lastIndexOf("&",t-1)}return t}function*I1(e,t){let n=Buffer.isBuffer(e)?e:Buffer.from(e,"utf-8");if(t<=0)throw new Va("byteLength must be greater than 0");for(;n.length>t;){let i=$1(n,t);if(i<0&&(i=Y1(n.subarray(0,t))),i=X1(n,i),i<=0)throw new Va("Maximum byte length is too small or invalid text structure near '&' or invalid UTF-8");let r=n.subarray(0,i).toString("utf-8").trim();r&&(yield Buffer.from(r,"utf-8")),n=n.subarray(i)}let a=n.toString("utf-8").trim();a&&(yield Buffer.from(a,"utf-8"))}function ip(e,t){let n=Buffer.isBuffer(t)?t.toString("utf-8"):t;return`<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xml:lang='en-US'><voice name='${e.voice}'><prosody pitch='${e.pitch}' rate='${e.rate}' volume='${e.volume}'>${n}</prosody></voice></speak>`}function Hu(){return new Date().toUTCString().replace("GMT","GMT+0000 (Coordinated Universal Time)")}function sp(e,t,n){return`X-RequestId:${e}\r
Content-Type:application/ssml+xml\r
X-Timestamp:${t}Z\r
Path:ssml\r
\r
${n}`}function Z1(e){return 65536-(sp(qu(),Hu(),ip(e,"")).length+50)}function K1(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")}var W1=class Ji{constructor({voice:t,rate:n="+0%",volume:a="+0%",pitch:i="+0Hz"}){this.voice=t,this.rate=n,this.volume=a,this.pitch=i,this.validate()}validate(){let t=/^([a-z]{2,})-([A-Z]{2,})-(.+Neural)$/.exec(this.voice);if(t){let[,n]=t,[,,a,i]=t;if(i.includes("-")){let s=i.split("-");a+=`-${s[0]}`,i=s[1]}this.voice=`Microsoft Server Speech Text to Speech Voice (${n}-${a}, ${i})`}Ji.validateStringParam("voice",this.voice,/^Microsoft Server Speech Text to Speech Voice \(.+,.+\)$/),Ji.validateStringParam("rate",this.rate,/^[+-]\d+%$/),Ji.validateStringParam("volume",this.volume,/^[+-]\d+%$/),Ji.validateStringParam("pitch",this.pitch,/^[+-]\d+Hz$/)}static validateStringParam(t,n,a){if(typeof n!="string")throw new TypeError(`${t} must be a string`);if(!a.test(n))throw new Va(`Invalid ${t} '${n}'.`)}},rp="speech.platform.bing.com/consumer/speech/synthesize/readaloud",ju="6A5AA1D4EAFF4E9FB37E23D68491D6F4",J1=`wss://${rp}/edge/v1?TrustedClientToken=${ju}`,eE=`https://${rp}/voices/list?trustedclienttoken=${ju}`,tE="en-US-EmmaMultilingualNeural",op="130.0.2849.68",zr=op.split(".")[0],lp=`1-${op}`,up={"User-Agent":`Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/${zr}.0.0.0 Safari/537.36 Edg/${zr}.0.0.0`,"Accept-Encoding":"gzip, deflate, br","Accept-Language":"en-US,en;q=0.9"},nE={...up,Pragma:"no-cache","Cache-Control":"no-cache",Origin:"chrome-extension://jdiccldimpdaibmpdkjnbmckianbfold"},aE={...up,Authority:"speech.platform.bing.com","Sec-CH-UA":`" Not;A Brand";v="99", "Microsoft Edge";v="${zr}", "Chromium";v="${zr}"`,"Sec-CH-UA-Mobile":"?0",Accept:"*/*","Sec-Fetch-Site":"none","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty"};function iE(){var t;let e={name:"unknown",isNode:!1,isDeno:!1,isBun:!1,isBrowser:!1,isWebWorker:!1};return typeof globalThis.Deno!="undefined"?(e.name="deno",e.isDeno=!0,e.version=(t=globalThis.Deno.version)==null?void 0:t.deno,e):typeof globalThis.Bun!="undefined"?(e.name="bun",e.isBun=!0,e.version=globalThis.Bun.version,e):typeof process!="undefined"&&process.versions&&process.versions.node?(e.name="node",e.isNode=!0,e.version=process.versions.node,e):typeof globalThis.importScripts=="function"&&typeof globalThis.WorkerGlobalScope!="undefined"?(e.name="webworker",e.isWebWorker=!0,e):(typeof window!="undefined"&&(e.name="browser",e.isBrowser=!0),e)}function sE(){let e=iE();if(e.isDeno||e.isBrowser||e.isWebWorker)return globalThis.crypto;if(e.isNode||e.isBun)try{return typeof globalThis.crypto!="undefined"?globalThis.crypto:G1("isomorphic-webcrypto")}catch(t){throw new Error("No crypto implementation available. Please install isomorphic-webcrypto.")}throw new Error("Unsupported runtime environment")}var rE=11644473600,oE=1e9,cp=class ra{static adjClockSkewSeconds(t){ra.clockSkewSeconds+=t}static getUnixTimestamp(){return Date.now()/1e3+ra.clockSkewSeconds}static parseRfc2616Date(t){try{return new Date(t).getTime()/1e3}catch(n){return null}}static handleClientResponseError(t){let n=null;if("headers"in t&&typeof t.headers=="object")if("get"in t.headers&&typeof t.headers.get=="function")n=t.headers.get("date");else{let s=t.headers;n=s.date||s.Date}if(!n)throw new Pu("No server date in headers.");let a=ra.parseRfc2616Date(n);if(a===null)throw new Pu(`Failed to parse server date: ${n}`);let i=ra.getUnixTimestamp();ra.adjClockSkewSeconds(a-i)}static async generateSecMsGec(){let t=ra.getUnixTimestamp();t+=rE,t-=t%300,t*=oE/100;let n=`${t.toFixed(0)}${ju}`,a=sE();if(!a||!a.subtle)throw new Error("Crypto API not available");let s=new TextEncoder().encode(n),r=await a.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(r)).map(l=>l.toString(16).padStart(2,"0")).join("").toUpperCase()}};cp.clockSkewSeconds=0;var qr=cp,oa={from:(e,t)=>{if(typeof e=="string")return new TextEncoder().encode(e);if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return e;throw new Error("Unsupported input type for IsomorphicBuffer.from")},concat:e=>{let t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t),a=0;for(let i of e)n.set(i,a),a+=i.length;return n},isBuffer:e=>e instanceof Uint8Array,toString:(e,t)=>new TextDecoder(t||"utf-8").decode(e)};function lE(e){let t=oa.toString(e),n=t.indexOf(`\r
\r
`),a={};if(n!==-1){let r=t.substring(0,n).split(`\r
`);for(let o of r){let[l,u]=o.split(":",2);l&&u&&(a[l]=u.trim())}}let i=new TextEncoder().encode(t.substring(0,n+4)).length;return[a,e.slice(i)]}function uE(e){if(e.length<2)throw new Error("Message too short to contain header length");let t=e[0]<<8|e[1],n={};if(t>0&&t+2<=e.length){let a=e.slice(2,t+2),s=oa.toString(a).split(`\r
`);for(let r of s){let[o,l]=r.split(":",2);o&&l&&(n[o]=l.trim())}}return[n,e.slice(t+2)]}var fp=class{constructor(e,t={}){var i,s,r;if(this.state={partialText:oa.from(""),offsetCompensation:0,lastDurationOffset:0,streamWasCalled:!1},this.ttsConfig=new W1({voice:t.voice||tE,rate:t.rate,volume:t.volume,pitch:t.pitch}),typeof e!="string")throw new TypeError("text must be a string");let n=Q1.default(F1(e)),a=Z1(this.ttsConfig);this.texts=function*(){for(let o of I1(n,a))o instanceof Uint8Array?yield o:yield new Uint8Array(o)}(),this.proxy=t.proxy,this.connectionTimeout=t.connectionTimeout,this.isNode=typeof globalThis!="undefined"?((s=(i=globalThis.process)==null?void 0:i.versions)==null?void 0:s.node)!==void 0:typeof process!="undefined"&&((r=process.versions)==null?void 0:r.node)!==void 0}parseMetadata(e){let t=JSON.parse(oa.toString(e));for(let n of t.Metadata){let a=n.Type;if(a==="WordBoundary"){let i=n.Data.Offset+this.state.offsetCompensation,s=n.Data.Duration;return{type:a,offset:i,duration:s,text:K1(n.Data.text.Text)}}if(a!=="SessionEnd")throw new zu(`Unknown metadata type: ${a}`)}throw new sa("No WordBoundary metadata found")}async createWebSocket(e){let t={headers:nE};if(this.connectionTimeout&&(t.timeout=this.connectionTimeout),this.isNode&&this.proxy)try{let{HttpsProxyAgent:n}=await Promise.resolve().then(()=>Ce(Br()));t.agent=new n(this.proxy)}catch(n){console.warn("Proxy not supported in this environment:",n)}return new j1.default(e,t)}async*_stream(){let e=`${J1}&Sec-MS-GEC=${await qr.generateSecMsGec()}&Sec-MS-GEC-Version=${lp}&ConnectionId=${qu()}`,t=await this.createWebSocket(e),n=[],a=null,i=(r,o)=>{let l=r.data||r;if(!(o!=null?o:l instanceof ArrayBuffer||l instanceof Uint8Array)&&typeof l=="string"){let[c,f]=lE(oa.from(l)),d=c.Path;if(d==="audio.metadata")try{let m=this.parseMetadata(f);this.state.lastDurationOffset=m.offset+m.duration,n.push(m)}catch(m){n.push(m)}else d==="turn.end"?(this.state.offsetCompensation=this.state.lastDurationOffset,t.close()):d!=="response"&&d!=="turn.start"&&n.push(new zu(`Unknown path received: ${d}`))}else{let c;if(l instanceof ArrayBuffer)c=oa.from(l);else if(l instanceof Uint8Array)c=l;else{n.push(new sa("Unknown binary data type"));return}if(c.length<2)n.push(new sa("We received a binary message, but it is missing the header length."));else{let[f,d]=uE(c);f.Path!=="audio"?n.push(new sa("Received binary message, but the path is not audio.")):f["Content-Type"]!=="audio/mpeg"?d.length>0&&n.push(new sa("Received binary message, but with an unexpected Content-Type.")):d.length===0?n.push(new sa("Received binary message, but it is missing the audio data.")):n.push({type:"audio",data:d})}}a&&a()};this.isNode?(t.on("message",i),t.on("error",r=>{n.push(new Lu(r.message)),a&&a()}),t.on("close",()=>{n.push("close"),a&&a()})):(t.onmessage=i,t.onerror=r=>{n.push(new Lu(r.message||"WebSocket error")),a&&a()},t.onclose=()=>{n.push("close"),a&&a()}),await new Promise((r,o)=>{let l=()=>r(),u=c=>o(c);this.isNode?(t.on("open",l),t.on("error",u)):(t.onopen=l,t.onerror=u)}),t.send(`X-Timestamp:${Hu()}\r
Content-Type:application/json; charset=utf-8\r
Path:speech.config\r
\r
{"context":{"synthesis":{"audio":{"metadataoptions":{"sentenceBoundaryEnabled":"false","wordBoundaryEnabled":"true"},"outputFormat":"audio-24khz-48kbitrate-mono-mp3"}}}}\r
`),t.send(sp(qu(),Hu(),ip(this.ttsConfig,oa.toString(this.state.partialText))));let s=!1;for(;;)if(n.length>0){let r=n.shift();if(r==="close"){if(!s)throw new ap("No audio was received.");break}else{if(r instanceof Error)throw r;r.type==="audio"&&(s=!0),yield r}}else await new Promise(r=>{a=r,setTimeout(r,50)})}async*stream(){if(this.state.streamWasCalled)throw new Error("stream can only be called once.");this.state.streamWasCalled=!0;for(let e of this.texts){this.state.partialText=e;for await(let t of this._stream())yield t}}},es=class extends Error{constructor(e,t){super(e),this.name="FetchError",this.response=t}};async function tp(e){let t=`${eE}&Sec-MS-GEC=${await qr.generateSecMsGec()}&Sec-MS-GEC-Version=${lp}`,n={headers:aE};e&&console.warn("Proxy support in isomorphic environment is limited. Consider using a backend proxy.");try{let a=await V1.default(t,n);if(!a.ok){let s={};throw a.headers.forEach((r,o)=>{s[o]=r}),new es(`HTTP ${a.status}`,{status:a.status,headers:s})}let i=await a.json();for(let s of i)s.VoiceTag.ContentCategories=s.VoiceTag.ContentCategories.map(r=>r.trim()),s.VoiceTag.VoicePersonalities=s.VoiceTag.VoicePersonalities.map(r=>r.trim());return i}catch(a){throw a instanceof es?a:new es(a instanceof Error?a.message:"Unknown fetch error")}}async function dp(e){var t;try{return await tp(e)}catch(n){if(n instanceof es&&((t=n.response)==null?void 0:t.status)===403)return qr.handleClientResponseError(n.response),await tp(e);throw n}}var cE=class hp{constructor(){this.voices=[],this.calledCreate=!1}static async create(t,n){let a=new hp,i=t!=null?t:await dp(n);return a.voices=i.map(s=>({...s,Language:s.Locale.split("-")[0]})),a.calledCreate=!0,a}find(t){if(!this.calledCreate)throw new Error("IsomorphicVoicesManager.find() called before IsomorphicVoicesManager.create()");return this.voices.filter(n=>Object.entries(t).every(([a,i])=>n[a]===i))}};function fE(e){if(e.length===0)return new Uint8Array(0);if(e.length===1)return e[0];let t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t),a=0;for(let i of e)i.length>0&&(n.set(i,a),a+=i.length);return n}var dE=class{constructor(e,t="Microsoft Server Speech Text to Speech Voice (en-US, EmmaMultilingualNeural)",n={}){this.text=e,this.voice=t,this.rate=n.rate||"+0%",this.volume=n.volume||"+0%",this.pitch=n.pitch||"+0Hz"}async synthesize(){let e=new fp(this.text,{voice:this.voice,rate:this.rate,volume:this.volume,pitch:this.pitch}),t=[],n=[];for await(let s of e.stream())s.type==="audio"&&s.data?t.push(s.data):s.type==="WordBoundary"&&s.offset!==void 0&&s.duration!==void 0&&s.text!==void 0&&n.push({offset:s.offset,duration:s.duration,text:s.text});let a=fE(t);return{audio:new Blob([a],{type:"audio/mpeg"}),subtitle:n}}};function Lr(e,t){let n=Math.floor(e/1e7),a=Math.floor(n/3600),i=Math.floor(n%3600/60),s=n%60,r=Math.floor(e%1e7/1e4),o=t==="vtt"?".":",";return`${Pr(a)}:${Pr(i)}:${Pr(s)}${o}${Pr(r,3)}`}function Pr(e,t=2){return e.toString().padStart(t,"0")}function hE(e){let t=`WEBVTT

`;return e.forEach((n,a)=>{let i=Lr(n.offset,"vtt"),s=Lr(n.offset+n.duration,"vtt");t+=`${a+1}
`,t+=`${i} --> ${s}
`,t+=`${n.text}

`}),t}function pE(e){let t="";return e.forEach((n,a)=>{let i=Lr(n.offset,"srt"),s=Lr(n.offset+n.duration,"srt");t+=`${a+1}
`,t+=`${i} --> ${s}
`,t+=`${n.text}

`}),t}function np(e){let t=Math.floor(e/3600),n=Math.floor(e%3600/60),a=Math.floor(e%60),i=Math.round((e-Math.floor(e))*1e3),s=(r,o=2)=>r.toString().padStart(o,"0");return`${s(t)}:${s(n)}:${s(a)},${s(i,3)}`}var mE=class{constructor(){this.cues=[]}feed(e){if(e.type!=="WordBoundary"||e.offset===void 0||e.duration===void 0||e.text===void 0)throw new Va("Invalid message type, expected 'WordBoundary' with offset, duration and text");let t=e.offset/1e7,n=(e.offset+e.duration)/1e7;this.cues.push({index:this.cues.length+1,start:t,end:n,content:e.text})}mergeCues(e){if(e<=0)throw new Va("Invalid number of words to merge, expected > 0");if(this.cues.length===0)return;let t=[],n=this.cues[0];for(let a of this.cues.slice(1))n.content.split(" ").length<e?n={...n,end:a.end,content:`${n.content} ${a.content}`}:(t.push(n),n=a);t.push(n),this.cues=t.map((a,i)=>({...a,index:i+1}))}getSrt(){return this.cues.map(e=>`${e.index}\r
${np(e.start)} --> ${np(e.end)}\r
${e.content}\r
`).join(`\r
`)}toString(){return this.getSrt()}};ke.Communicate=fp;ke.DRM=qr;ke.EdgeTTS=dE;ke.EdgeTTSException=la;ke.FetchError=es;ke.NoAudioReceived=ap;ke.SkewAdjustmentError=Pu;ke.SubMaker=mE;ke.UnexpectedResponse=sa;ke.UnknownResponse=zu;ke.ValueError=Va;ke.VoicesManager=cE;ke.WebSocketError=Lu;ke.createSRT=pE;ke.createVTT=hE;ke.listVoices=dp});var Jp=N((z2,Wp)=>{"use strict";function Op(e,t){return function(){return e.apply(t,arguments)}}var{toString:gE}=Object.prototype,{getPrototypeOf:Ju}=Object,{iterator:$r,toStringTag:_p}=Symbol,Yr=(e=>t=>{let n=gE.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ot=e=>(e=e.toLowerCase(),t=>Yr(t)===e),Xr=e=>t=>typeof t===e,{isArray:$a}=Array,ns=Xr("undefined");function yE(e){return e!==null&&!ns(e)&&e.constructor!==null&&!ns(e.constructor)&&Ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}var Rp=Ot("ArrayBuffer");function bE(e){let t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Rp(e.buffer),t}var vE=Xr("string"),Ze=Xr("function"),Up=Xr("number"),Ir=e=>e!==null&&typeof e=="object",SE=e=>e===!0||e===!1,Hr=e=>{if(Yr(e)!=="object")return!1;let t=Ju(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(_p in e)&&!($r in e)},EE=Ot("Date"),TE=Ot("File"),wE=Ot("Blob"),ME=Ot("FileList"),CE=e=>Ir(e)&&Ze(e.pipe),AE=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ze(e.append)&&((t=Yr(e))==="formdata"||t==="object"&&Ze(e.toString)&&e.toString()==="[object FormData]"))},xE=Ot("URLSearchParams"),[OE,_E,RE,UE]=["ReadableStream","Request","Response","Headers"].map(Ot),kE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function is(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e=="undefined")return;let a,i;if(typeof e!="object"&&(e=[e]),$a(e))for(a=0,i=e.length;a<i;a++)t.call(null,e[a],a,e);else{let s=n?Object.getOwnPropertyNames(e):Object.keys(e),r=s.length,o;for(a=0;a<r;a++)o=s[a],t.call(null,e[o],o,e)}}function kp(e,t){t=t.toLowerCase();let n=Object.keys(e),a=n.length,i;for(;a-- >0;)if(i=n[a],t===i.toLowerCase())return i;return null}var ua=(()=>typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global)(),Np=e=>!ns(e)&&e!==ua;function $u(){let{caseless:e}=Np(this)&&this||{},t={},n=(a,i)=>{let s=e&&kp(t,i)||i;Hr(t[s])&&Hr(a)?t[s]=$u(t[s],a):Hr(a)?t[s]=$u({},a):$a(a)?t[s]=a.slice():t[s]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&is(arguments[a],n);return t}var NE=(e,t,n,{allOwnKeys:a}={})=>(is(t,(i,s)=>{n&&Ze(i)?e[s]=Op(i,n):e[s]=i},{allOwnKeys:a}),e),DE=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),BE=(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},PE=(e,t,n,a)=>{let i,s,r,o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)r=i[s],(!a||a(r,e,t))&&!o[r]&&(t[r]=e[r],o[r]=!0);e=n!==!1&&Ju(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},zE=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;let a=e.indexOf(t,n);return a!==-1&&a===n},LE=e=>{if(!e)return null;if($a(e))return e;let t=e.length;if(!Up(t))return null;let n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},qE=(e=>t=>e&&t instanceof e)(typeof Uint8Array!="undefined"&&Ju(Uint8Array)),HE=(e,t)=>{let a=(e&&e[$r]).call(e),i;for(;(i=a.next())&&!i.done;){let s=i.value;t.call(e,s[0],s[1])}},QE=(e,t)=>{let n,a=[];for(;(n=e.exec(t))!==null;)a.push(n);return a},jE=Ot("HTMLFormElement"),VE=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,i){return a.toUpperCase()+i}),mp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),GE=Ot("RegExp"),Dp=(e,t)=>{let n=Object.getOwnPropertyDescriptors(e),a={};is(n,(i,s)=>{let r;(r=t(i,s,e))!==!1&&(a[s]=r||i)}),Object.defineProperties(e,a)},FE=e=>{Dp(e,(t,n)=>{if(Ze(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;let a=e[n];if(Ze(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$E=(e,t)=>{let n={},a=i=>{i.forEach(s=>{n[s]=!0})};return $a(e)?a(e):a(String(e).split(t)),n},YE=()=>{},XE=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function IE(e){return!!(e&&Ze(e.append)&&e[_p]==="FormData"&&e[$r])}var ZE=e=>{let t=new Array(10),n=(a,i)=>{if(Ir(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[i]=a;let s=$a(a)?[]:{};return is(a,(r,o)=>{let l=n(r,i+1);!ns(l)&&(s[o]=l)}),t[i]=void 0,s}}return a};return n(e,0)},KE=Ot("AsyncFunction"),WE=e=>e&&(Ir(e)||Ze(e))&&Ze(e.then)&&Ze(e.catch),Bp=((e,t)=>e?setImmediate:t?((n,a)=>(ua.addEventListener("message",({source:i,data:s})=>{i===ua&&s===n&&a.length&&a.shift()()},!1),i=>{a.push(i),ua.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ze(ua.postMessage)),JE=typeof queueMicrotask!="undefined"?queueMicrotask.bind(ua):typeof process!="undefined"&&process.nextTick||Bp,eT=e=>e!=null&&Ze(e[$r]),T={isArray:$a,isArrayBuffer:Rp,isBuffer:yE,isFormData:AE,isArrayBufferView:bE,isString:vE,isNumber:Up,isBoolean:SE,isObject:Ir,isPlainObject:Hr,isReadableStream:OE,isRequest:_E,isResponse:RE,isHeaders:UE,isUndefined:ns,isDate:EE,isFile:TE,isBlob:wE,isRegExp:GE,isFunction:Ze,isStream:CE,isURLSearchParams:xE,isTypedArray:qE,isFileList:ME,forEach:is,merge:$u,extend:NE,trim:kE,stripBOM:DE,inherits:BE,toFlatObject:PE,kindOf:Yr,kindOfTest:Ot,endsWith:zE,toArray:LE,forEachEntry:HE,matchAll:QE,isHTMLForm:jE,hasOwnProperty:mp,hasOwnProp:mp,reduceDescriptors:Dp,freezeMethods:FE,toObjectSet:$E,toCamelCase:VE,noop:YE,toFiniteNumber:XE,findKey:kp,global:ua,isContextDefined:Np,isSpecCompliantForm:IE,toJSONObject:ZE,isAsyncFn:KE,isThenable:WE,setImmediate:Bp,asap:JE,isIterable:eT};function P(e,t,n,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}T.inherits(P,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});var Pp=P.prototype,zp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{zp[e]={value:e}});Object.defineProperties(P,zp);Object.defineProperty(Pp,"isAxiosError",{value:!0});P.from=(e,t,n,a,i,s)=>{let r=Object.create(Pp);return T.toFlatObject(e,r,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),P.call(r,e.message,t,n,a,i),r.cause=e,r.name=e.name,s&&Object.assign(r,s),r};var tT=null;function Yu(e){return T.isPlainObject(e)||T.isArray(e)}function Lp(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function gp(e,t,n){return e?e.concat(t).map(function(i,s){return i=Lp(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function nT(e){return T.isArray(e)&&!e.some(Yu)}var aT=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function Zr(e,t,n){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=T.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!T.isUndefined(v[y])});let a=n.metaTokens,i=n.visitor||c,s=n.dots,r=n.indexes,l=(n.Blob||typeof Blob!="undefined"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(i))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(T.isDate(b))return b.toISOString();if(!l&&T.isBlob(b))throw new P("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(b)||T.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function c(b,y,v){let p=b;if(b&&!v&&typeof b=="object"){if(T.endsWith(y,"{}"))y=a?y:y.slice(0,-2),b=JSON.stringify(b);else if(T.isArray(b)&&nT(b)||(T.isFileList(b)||T.endsWith(y,"[]"))&&(p=T.toArray(b)))return y=Lp(y),p.forEach(function(g,E){!(T.isUndefined(g)||g===null)&&t.append(r===!0?gp([y],E,s):r===null?y:y+"[]",u(g))}),!1}return Yu(b)?!0:(t.append(gp(v,y,s),u(b)),!1)}let f=[],d=Object.assign(aT,{defaultVisitor:c,convertValue:u,isVisitable:Yu});function m(b,y){if(!T.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(b),T.forEach(b,function(p,h){(!(T.isUndefined(p)||p===null)&&i.call(t,p,T.isString(h)?h.trim():h,y,d))===!0&&m(p,y?y.concat(h):[h])}),f.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return m(e),t}function yp(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function ec(e,t){this._pairs=[],e&&Zr(e,this,t)}var qp=ec.prototype;qp.append=function(t,n){this._pairs.push([t,n])};qp.toString=function(t){let n=t?function(a){return t.call(this,a,yp)}:yp;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function iT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Hp(e,t,n){if(!t)return e;let a=n&&n.encode||iT;T.isFunction(n)&&(n={serialize:n});let i=n&&n.serialize,s;if(i?s=i(t,n):s=T.isURLSearchParams(t)?t.toString():new ec(t,n).toString(a),s){let r=e.indexOf("#");r!==-1&&(e=e.slice(0,r)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}var Xu=class{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(a){a!==null&&t(a)})}},bp=Xu,Qp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sT=typeof URLSearchParams!="undefined"?URLSearchParams:ec,rT=typeof FormData!="undefined"?FormData:null,oT=typeof Blob!="undefined"?Blob:null,lT={isBrowser:!0,classes:{URLSearchParams:sT,FormData:rT,Blob:oT},protocols:["http","https","file","blob","url","data"]},tc=typeof window!="undefined"&&typeof document!="undefined",Iu=typeof navigator=="object"&&navigator||void 0,uT=tc&&(!Iu||["ReactNative","NativeScript","NS"].indexOf(Iu.product)<0),cT=(()=>typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),fT=tc&&window.location.href||"http://localhost",dT=Object.freeze({__proto__:null,hasBrowserEnv:tc,hasStandardBrowserWebWorkerEnv:cT,hasStandardBrowserEnv:uT,navigator:Iu,origin:fT}),He={...dT,...lT};function hT(e,t){return Zr(e,new He.classes.URLSearchParams,Object.assign({visitor:function(n,a,i,s){return He.isNode&&T.isBuffer(n)?(this.append(a,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function pT(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function mT(e){let t={},n=Object.keys(e),a,i=n.length,s;for(a=0;a<i;a++)s=n[a],t[s]=e[s];return t}function jp(e){function t(n,a,i,s){let r=n[s++];if(r==="__proto__")return!0;let o=Number.isFinite(+r),l=s>=n.length;return r=!r&&T.isArray(i)?i.length:r,l?(T.hasOwnProp(i,r)?i[r]=[i[r],a]:i[r]=a,!o):((!i[r]||!T.isObject(i[r]))&&(i[r]=[]),t(n,a,i[r],s)&&T.isArray(i[r])&&(i[r]=mT(i[r])),!o)}if(T.isFormData(e)&&T.isFunction(e.entries)){let n={};return T.forEachEntry(e,(a,i)=>{t(pT(a),i,n,0)}),n}return null}function gT(e,t,n){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}var nc={transitional:Qp,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){let a=n.getContentType()||"",i=a.indexOf("application/json")>-1,s=T.isObject(t);if(s&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return i?JSON.stringify(jp(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(a.indexOf("application/x-www-form-urlencoded")>-1)return hT(t,this.formSerializer).toString();if((o=T.isFileList(t))||a.indexOf("multipart/form-data")>-1){let l=this.env&&this.env.FormData;return Zr(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),gT(t)):t}],transformResponse:[function(t){let n=this.transitional||nc.transitional,a=n&&n.forcedJSONParsing,i=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(a&&!this.responseType||i)){let r=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(r)throw o.name==="SyntaxError"?P.from(o,P.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:He.classes.FormData,Blob:He.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{nc.headers[e]={}});var ac=nc,yT=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bT=e=>{let t={},n,a,i;return e&&e.split(`
`).forEach(function(r){i=r.indexOf(":"),n=r.substring(0,i).trim().toLowerCase(),a=r.substring(i+1).trim(),!(!n||t[n]&&yT[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},vp=Symbol("internals");function ts(e){return e&&String(e).trim().toLowerCase()}function Qr(e){return e===!1||e==null?e:T.isArray(e)?e.map(Qr):String(e)}function vT(e){let t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}var ST=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vu(e,t,n,a,i){if(T.isFunction(a))return a.call(this,t,n);if(i&&(t=n),!!T.isString(t)){if(T.isString(a))return t.indexOf(a)!==-1;if(T.isRegExp(a))return a.test(t)}}function ET(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function TT(e,t){let n=T.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(i,s,r){return this[a].call(this,t,i,s,r)},configurable:!0})})}var Ga=class{constructor(t){t&&this.set(t)}set(t,n,a){let i=this;function s(o,l,u){let c=ts(l);if(!c)throw new Error("header name must be a non-empty string");let f=T.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Qr(o))}let r=(o,l)=>T.forEach(o,(u,c)=>s(u,c,l));if(T.isPlainObject(t)||t instanceof this.constructor)r(t,n);else if(T.isString(t)&&(t=t.trim())&&!ST(t))r(bT(t),n);else if(T.isObject(t)&&T.isIterable(t)){let o={},l,u;for(let c of t){if(!T.isArray(c))throw TypeError("Object iterator must return a key-value pair");o[u=c[0]]=(l=o[u])?T.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}r(o,n)}else t!=null&&s(n,t,a);return this}get(t,n){if(t=ts(t),t){let a=T.findKey(this,t);if(a){let i=this[a];if(!n)return i;if(n===!0)return vT(i);if(T.isFunction(n))return n.call(this,i,a);if(T.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ts(t),t){let a=T.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||Vu(this,this[a],a,n)))}return!1}delete(t,n){let a=this,i=!1;function s(r){if(r=ts(r),r){let o=T.findKey(a,r);o&&(!n||Vu(a,a[o],o,n))&&(delete a[o],i=!0)}}return T.isArray(t)?t.forEach(s):s(t),i}clear(t){let n=Object.keys(this),a=n.length,i=!1;for(;a--;){let s=n[a];(!t||Vu(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){let n=this,a={};return T.forEach(this,(i,s)=>{let r=T.findKey(a,s);if(r){n[r]=Qr(i),delete n[s];return}let o=t?ET(s):String(s).trim();o!==s&&delete n[s],n[o]=Qr(i),a[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let n=Object.create(null);return T.forEach(this,(a,i)=>{a!=null&&a!==!1&&(n[i]=t&&T.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){let a=new this(t);return n.forEach(i=>a.set(i)),a}static accessor(t){let a=(this[vp]=this[vp]={accessors:{}}).accessors,i=this.prototype;function s(r){let o=ts(r);a[o]||(TT(i,r),a[o]=!0)}return T.isArray(t)?t.forEach(s):s(t),this}};Ga.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(Ga.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[n]=a}}});T.freezeMethods(Ga);var xt=Ga;function Gu(e,t){let n=this||ac,a=t||n,i=xt.from(a.headers),s=a.data;return T.forEach(e,function(o){s=o.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Vp(e){return!!(e&&e.__CANCEL__)}function Ya(e,t,n){P.call(this,e==null?"canceled":e,P.ERR_CANCELED,t,n),this.name="CanceledError"}T.inherits(Ya,P,{__CANCEL__:!0});function Gp(e,t,n){let a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new P("Request failed with status code "+n.status,[P.ERR_BAD_REQUEST,P.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function wT(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function MT(e,t){e=e||10;let n=new Array(e),a=new Array(e),i=0,s=0,r;return t=t!==void 0?t:1e3,function(l){let u=Date.now(),c=a[s];r||(r=u),n[i]=l,a[i]=u;let f=s,d=0;for(;f!==i;)d+=n[f++],f=f%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-r<t)return;let m=c&&u-c;return m?Math.round(d*1e3/m):void 0}}function CT(e,t){let n=0,a=1e3/t,i,s,r=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),e.apply(null,u)};return[(...u)=>{let c=Date.now(),f=c-n;f>=a?r(u,c):(i=u,s||(s=setTimeout(()=>{s=null,r(i)},a-f)))},()=>i&&r(i)]}var Gr=(e,t,n=3)=>{let a=0,i=MT(50,250);return CT(s=>{let r=s.loaded,o=s.lengthComputable?s.total:void 0,l=r-a,u=i(l),c=r<=o;a=r;let f={loaded:r,total:o,progress:o?r/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-r)/u:void 0,event:s,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},n)},Sp=(e,t)=>{let n=e!=null;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},Ep=e=>(...t)=>T.asap(()=>e(...t)),AT=He.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,He.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(He.origin),He.navigator&&/(msie|trident)/i.test(He.navigator.userAgent)):()=>!0,xT=He.hasStandardBrowserEnv?{write(e,t,n,a,i,s){let r=[e+"="+encodeURIComponent(t)];T.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),T.isString(a)&&r.push("path="+a),T.isString(i)&&r.push("domain="+i),s===!0&&r.push("secure"),document.cookie=r.join("; ")},read(e){let t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OT(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _T(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Fp(e,t,n){let a=!OT(t);return e&&(a||n==!1)?_T(e,t):t}var Tp=e=>e instanceof xt?{...e}:e;function ca(e,t){t=t||{};let n={};function a(u,c,f,d){return T.isPlainObject(u)&&T.isPlainObject(c)?T.merge.call({caseless:d},u,c):T.isPlainObject(c)?T.merge({},c):T.isArray(c)?c.slice():c}function i(u,c,f,d){if(T.isUndefined(c)){if(!T.isUndefined(u))return a(void 0,u,f,d)}else return a(u,c,f,d)}function s(u,c){if(!T.isUndefined(c))return a(void 0,c)}function r(u,c){if(T.isUndefined(c)){if(!T.isUndefined(u))return a(void 0,u)}else return a(void 0,c)}function o(u,c,f){if(f in t)return a(u,c);if(f in e)return a(void 0,u)}let l={url:s,method:s,data:s,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:o,headers:(u,c,f)=>i(Tp(u),Tp(c),f,!0)};return T.forEach(Object.keys(Object.assign({},e,t)),function(c){let f=l[c]||i,d=f(e[c],t[c],c);T.isUndefined(d)&&f!==o||(n[c]=d)}),n}var $p=e=>{let t=ca({},e),{data:n,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:s,headers:r,auth:o}=t;t.headers=r=xt.from(r),t.url=Hp(Fp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&r.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(T.isFormData(n)){if(He.hasStandardBrowserEnv||He.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((l=r.getContentType())!==!1){let[u,...c]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];r.setContentType([u||"multipart/form-data",...c].join("; "))}}if(He.hasStandardBrowserEnv&&(a&&T.isFunction(a)&&(a=a(t)),a||a!==!1&&AT(t.url))){let u=i&&s&&xT.read(s);u&&r.set(i,u)}return t},RT=typeof XMLHttpRequest!="undefined",UT=RT&&function(e){return new Promise(function(n,a){let i=$p(e),s=i.data,r=xt.from(i.headers).normalize(),{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,c,f,d,m,b;function y(){m&&m(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function p(){if(!v)return;let g=xt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),M={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:g,config:e,request:v};Gp(function(A){n(A),y()},function(A){a(A),y()},M),v=null}"onloadend"in v?v.onloadend=p:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(p)},v.onabort=function(){v&&(a(new P("Request aborted",P.ECONNABORTED,e,v)),v=null)},v.onerror=function(){a(new P("Network Error",P.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",M=i.transitional||Qp;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),a(new P(E,M.clarifyTimeoutError?P.ETIMEDOUT:P.ECONNABORTED,e,v)),v=null},s===void 0&&r.setContentType(null),"setRequestHeader"in v&&T.forEach(r.toJSON(),function(E,M){v.setRequestHeader(M,E)}),T.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),o&&o!=="json"&&(v.responseType=i.responseType),u&&([d,b]=Gr(u,!0),v.addEventListener("progress",d)),l&&v.upload&&([f,m]=Gr(l),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(c=g=>{v&&(a(!g||g.type?new Ya(null,e,v):g),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));let h=wT(i.url);if(h&&He.protocols.indexOf(h)===-1){a(new P("Unsupported protocol "+h+":",P.ERR_BAD_REQUEST,e));return}v.send(s||null)})},kT=(e,t)=>{let{length:n}=e=e?e.filter(Boolean):[];if(t||n){let a=new AbortController,i,s=function(u){if(!i){i=!0,o();let c=u instanceof Error?u:this.reason;a.abort(c instanceof P?c:new Ya(c instanceof Error?c.message:c))}},r=t&&setTimeout(()=>{r=null,s(new P(`timeout ${t} of ms exceeded`,P.ETIMEDOUT))},t),o=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));let{signal:l}=a;return l.unsubscribe=()=>T.asap(o),l}},NT=kT,DT=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let a=0,i;for(;a<n;)i=a+t,yield e.slice(a,i),a=i},BT=async function*(e,t){for await(let n of PT(e))yield*DT(n,t)},PT=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}let t=e.getReader();try{for(;;){let{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},wp=(e,t,n,a)=>{let i=BT(e,t),s=0,r,o=l=>{r||(r=!0,a&&a(l))};return new ReadableStream({async pull(l){try{let{done:u,value:c}=await i.next();if(u){o(),l.close();return}let f=c.byteLength;if(n){let d=s+=f;n(d)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},Kr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Yp=Kr&&typeof ReadableStream=="function",zT=Kr&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Xp=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},LT=Yp&&Xp(()=>{let e=!1,t=new Request(He.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Mp=64*1024,Zu=Yp&&Xp(()=>T.isReadableStream(new Response("").body)),Fr={stream:Zu&&(e=>e.body)};Kr&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Fr[t]&&(Fr[t]=T.isFunction(e[t])?n=>n[t]():(n,a)=>{throw new P(`Response type '${t}' is not supported`,P.ERR_NOT_SUPPORT,a)})})})(new Response);var qT=async e=>{if(e==null)return 0;if(T.isBlob(e))return e.size;if(T.isSpecCompliantForm(e))return(await new Request(He.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(T.isArrayBufferView(e)||T.isArrayBuffer(e))return e.byteLength;if(T.isURLSearchParams(e)&&(e=e+""),T.isString(e))return(await zT(e)).byteLength},HT=async(e,t)=>{let n=T.toFiniteNumber(e.getContentLength());return n==null?qT(t):n},QT=Kr&&(async e=>{let{url:t,method:n,data:a,signal:i,cancelToken:s,timeout:r,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:c,withCredentials:f="same-origin",fetchOptions:d}=$p(e);u=u?(u+"").toLowerCase():"text";let m=NT([i,s&&s.toAbortSignal()],r),b,y=m&&m.unsubscribe&&(()=>{m.unsubscribe()}),v;try{if(l&&LT&&n!=="get"&&n!=="head"&&(v=await HT(c,a))!==0){let M=new Request(t,{method:"POST",body:a,duplex:"half"}),O;if(T.isFormData(a)&&(O=M.headers.get("content-type"))&&c.setContentType(O),M.body){let[A,x]=Sp(v,Gr(Ep(l)));a=wp(M.body,Mp,A,x)}}T.isString(f)||(f=f?"include":"omit");let p="credentials"in Request.prototype;b=new Request(t,{...d,signal:m,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:a,duplex:"half",credentials:p?f:void 0});let h=await fetch(b),g=Zu&&(u==="stream"||u==="response");if(Zu&&(o||g&&y)){let M={};["status","statusText","headers"].forEach(H=>{M[H]=h[H]});let O=T.toFiniteNumber(h.headers.get("content-length")),[A,x]=o&&Sp(O,Gr(Ep(o),!0))||[];h=new Response(wp(h.body,Mp,A,()=>{x&&x(),y&&y()}),M)}u=u||"text";let E=await Fr[T.findKey(Fr,u)||"text"](h,e);return!g&&y&&y(),await new Promise((M,O)=>{Gp(M,O,{data:E,headers:xt.from(h.headers),status:h.status,statusText:h.statusText,config:e,request:b})})}catch(p){throw y&&y(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new P("Network Error",P.ERR_NETWORK,e,b),{cause:p.cause||p}):P.from(p,p&&p.code,e,b)}}),Ku={http:tT,xhr:UT,fetch:QT};T.forEach(Ku,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});var Cp=e=>`- ${e}`,jT=e=>T.isFunction(e)||e===null||e===!1,Ip={getAdapter:e=>{e=T.isArray(e)?e:[e];let{length:t}=e,n,a,i={};for(let s=0;s<t;s++){n=e[s];let r;if(a=n,!jT(n)&&(a=Ku[(r=String(n)).toLowerCase()],a===void 0))throw new P(`Unknown adapter '${r}'`);if(a)break;i[r||"#"+s]=a}if(!a){let s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build")),r=t?s.length>1?`since :
`+s.map(Cp).join(`
`):" "+Cp(s[0]):"as no adapter specified";throw new P("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return a},adapters:Ku};function Fu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ya(null,e)}function Ap(e){return Fu(e),e.headers=xt.from(e.headers),e.data=Gu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ip.getAdapter(e.adapter||ac.adapter)(e).then(function(a){return Fu(e),a.data=Gu.call(e,e.transformResponse,a),a.headers=xt.from(a.headers),a},function(a){return Vp(a)||(Fu(e),a&&a.response&&(a.response.data=Gu.call(e,e.transformResponse,a.response),a.response.headers=xt.from(a.response.headers))),Promise.reject(a)})}var Zp="1.9.0",Wr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Wr[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});var xp={};Wr.transitional=function(t,n,a){function i(s,r){return"[Axios v"+Zp+"] Transitional option '"+s+"'"+r+(a?". "+a:"")}return(s,r,o)=>{if(t===!1)throw new P(i(r," has been removed"+(n?" in "+n:"")),P.ERR_DEPRECATED);return n&&!xp[r]&&(xp[r]=!0,console.warn(i(r," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,r,o):!0}};Wr.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function VT(e,t,n){if(typeof e!="object")throw new P("options must be an object",P.ERR_BAD_OPTION_VALUE);let a=Object.keys(e),i=a.length;for(;i-- >0;){let s=a[i],r=t[s];if(r){let o=e[s],l=o===void 0||r(o,s,e);if(l!==!0)throw new P("option "+s+" must be "+l,P.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new P("Unknown option "+s,P.ERR_BAD_OPTION)}}var jr={assertOptions:VT,validators:Wr},Bt=jr.validators,Fa=class{constructor(t){this.defaults=t||{},this.interceptors={request:new bp,response:new bp}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;let s=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?s&&!String(a.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+s):a.stack=s}catch(r){}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ca(this.defaults,n);let{transitional:a,paramsSerializer:i,headers:s}=n;a!==void 0&&jr.assertOptions(a,{silentJSONParsing:Bt.transitional(Bt.boolean),forcedJSONParsing:Bt.transitional(Bt.boolean),clarifyTimeoutError:Bt.transitional(Bt.boolean)},!1),i!=null&&(T.isFunction(i)?n.paramsSerializer={serialize:i}:jr.assertOptions(i,{encode:Bt.function,serialize:Bt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),jr.assertOptions(n,{baseUrl:Bt.spelling("baseURL"),withXsrfToken:Bt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let r=s&&T.merge(s.common,s[n.method]);s&&T.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),n.headers=xt.concat(r,s);let o=[],l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});let u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,f=0,d;if(!l){let b=[Ap.bind(this),void 0];for(b.unshift.apply(b,o),b.push.apply(b,u),d=b.length,c=Promise.resolve(n);f<d;)c=c.then(b[f++],b[f++]);return c}d=o.length;let m=n;for(f=0;f<d;){let b=o[f++],y=o[f++];try{m=b(m)}catch(v){y.call(this,v);break}}try{c=Ap.call(this,m)}catch(b){return Promise.reject(b)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(t){t=ca(this.defaults,t);let n=Fp(t.baseURL,t.url,t.allowAbsoluteUrls);return Hp(n,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){Fa.prototype[t]=function(n,a){return this.request(ca(a||{},{method:t,url:n,data:(a||{}).data}))}});T.forEach(["post","put","patch"],function(t){function n(a){return function(s,r,o){return this.request(ca(o||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:s,data:r}))}}Fa.prototype[t]=n(),Fa.prototype[t+"Form"]=n(!0)});var Vr=Fa,as=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});let a=this;this.promise.then(i=>{if(!a._listeners)return;let s=a._listeners.length;for(;s-- >0;)a._listeners[s](i);a._listeners=null}),this.promise.then=i=>{let s,r=new Promise(o=>{a.subscribe(o),s=o}).then(i);return r.cancel=function(){a.unsubscribe(s)},r},t(function(s,r,o){a.reason||(a.reason=new Ya(s,r,o),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){let t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new as(function(i){t=i}),cancel:t}}},GT=as;function FT(e){return function(n){return e.apply(null,n)}}function $T(e){return T.isObject(e)&&e.isAxiosError===!0}var Wu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wu).forEach(([e,t])=>{Wu[t]=e});var YT=Wu;function Kp(e){let t=new Vr(e),n=Op(Vr.prototype.request,t);return T.extend(n,Vr.prototype,t,{allOwnKeys:!0}),T.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Kp(ca(e,i))},n}var be=Kp(ac);be.Axios=Vr;be.CanceledError=Ya;be.CancelToken=GT;be.isCancel=Vp;be.VERSION=Zp;be.toFormData=Zr;be.AxiosError=P;be.Cancel=be.CanceledError;be.all=function(t){return Promise.all(t)};be.spread=FT;be.isAxiosError=$T;be.mergeConfig=ca;be.AxiosHeaders=xt;be.formToJSON=e=>jp(T.isHTMLForm(e)?new FormData(e):e);be.getAdapter=Ip.getAdapter;be.HttpStatusCode=YT;be.default=be;Wp.exports=be});var Cm=N(fe=>{"use strict";var XT=_u(),IT=Ru(),ZT=(ku(),Jl(Uu)),KT=require("crypto"),ic=Jp(),WT=Nu();function oo(e){return e&&e.__esModule?e:{default:e}}var am=oo(IT),im=oo(ZT),JT=oo(ic),ew=oo(WT),tw=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,n)=>(typeof require!="undefined"?require:t)[n]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),pa=class extends Error{constructor(e){super(e),this.name="EdgeTTSException"}},Xa=class extends pa{constructor(e){super(e),this.name="SkewAdjustmentError"}},os=class extends pa{constructor(e){super(e),this.name="UnknownResponse"}},rt=class extends pa{constructor(e){super(e),this.name="UnexpectedResponse"}},sc=class extends pa{constructor(e){super(e),this.name="NoAudioReceived"}},no=class extends pa{constructor(e){super(e),this.name="WebSocketError"}},Ia=class extends pa{constructor(e){super(e),this.name="ValueError"}};function nw(e){let t=e.indexOf(`\r
\r
`),n={},a=e.subarray(0,t).toString("utf-8");if(a){let i=a.split(`\r
`);for(let s of i){let[r,o]=s.split(":",2);r&&o&&(n[r]=o.trim())}}return[n,e.subarray(t+2)]}function aw(e){let t=e.readUInt16BE(0),n={},a=e.subarray(2,t+2).toString("utf-8");if(a){let i=a.split(`\r
`);for(let s of i){let[r,o]=s.split(":",2);r&&o&&(n[r]=o.trim())}}return[n,e.subarray(t+2)]}function sm(e){return e.replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F]/g," ")}function ls(){return XT.v4().replace(/-/g,"")}function iw(e,t){let n=e.subarray(0,t),a=n.lastIndexOf(`
`);return a<0&&(a=n.lastIndexOf(" ")),a}function sw(e){let t=e.length;for(;t>0;){if(e.subarray(0,t).toString("utf-8").endsWith("\uFFFD")){t--;continue}return t}return t}function rw(e,t){let n=e.lastIndexOf("&",t-1);for(;n!==-1;){let a=e.indexOf(";",n);if(a!==-1&&a<t)break;t=n,n=e.lastIndexOf("&",t-1)}return t}function*rm(e,t){let n=Buffer.isBuffer(e)?e:Buffer.from(e,"utf-8");if(t<=0)throw new Ia("byteLength must be greater than 0");for(;n.length>t;){let i=iw(n,t);if(i<0&&(i=sw(n.subarray(0,t))),i=rw(n,i),i<=0)throw new Ia("Maximum byte length is too small or invalid text structure near '&' or invalid UTF-8");let r=n.subarray(0,i).toString("utf-8").trim();r&&(yield Buffer.from(r,"utf-8")),n=n.subarray(i)}let a=n.toString("utf-8").trim();a&&(yield Buffer.from(a,"utf-8"))}function rc(e,t){let n=Buffer.isBuffer(t)?t.toString("utf-8"):t;return`<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xml:lang='en-US'><voice name='${e.voice}'><prosody pitch='${e.pitch}' rate='${e.rate}' volume='${e.volume}'>${n}</prosody></voice></speak>`}function us(){return new Date().toUTCString().replace("GMT","GMT+0000 (Coordinated Universal Time)")}function oc(e,t,n){return`X-RequestId:${e}\r
Content-Type:application/ssml+xml\r
X-Timestamp:${t}Z\r
Path:ssml\r
\r
${n}`}function om(e){return 65536-(oc(ls(),us(),rc(e,"")).length+50)}function lm(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")}var um=class ss{constructor({voice:t,rate:n="+0%",volume:a="+0%",pitch:i="+0Hz"}){this.voice=t,this.rate=n,this.volume=a,this.pitch=i,this.validate()}validate(){let t=/^([a-z]{2,})-([A-Z]{2,})-(.+Neural)$/.exec(this.voice);if(t){let[,n]=t,[,,a,i]=t;if(i.includes("-")){let s=i.split("-");a+=`-${s[0]}`,i=s[1]}this.voice=`Microsoft Server Speech Text to Speech Voice (${n}-${a}, ${i})`}ss.validateStringParam("voice",this.voice,/^Microsoft Server Speech Text to Speech Voice \(.+,.+\)$/),ss.validateStringParam("rate",this.rate,/^[+-]\d+%$/),ss.validateStringParam("volume",this.volume,/^[+-]\d+%$/),ss.validateStringParam("pitch",this.pitch,/^[+-]\d+Hz$/)}static validateStringParam(t,n,a){if(typeof n!="string")throw new TypeError(`${t} must be a string`);if(!a.test(n))throw new Ia(`Invalid ${t} '${n}'.`)}},cm="speech.platform.bing.com/consumer/speech/synthesize/readaloud",lo="6A5AA1D4EAFF4E9FB37E23D68491D6F4",fm=`wss://${cm}/edge/v1?TrustedClientToken=${lo}`,dm=`https://${cm}/voices/list?trustedclienttoken=${lo}`,hm="en-US-EmmaMultilingualNeural",pm="130.0.2849.68",ao=pm.split(".")[0],uo=`1-${pm}`,mm={"User-Agent":`Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/${ao}.0.0.0 Safari/537.36 Edg/${ao}.0.0.0`,"Accept-Encoding":"gzip, deflate, br","Accept-Language":"en-US,en;q=0.9"},gm={...mm,Pragma:"no-cache","Cache-Control":"no-cache",Origin:"chrome-extension://jdiccldimpdaibmpdkjnbmckianbfold"},ym={...mm,Authority:"speech.platform.bing.com","Sec-CH-UA":`" Not;A Brand";v="99", "Microsoft Edge";v="${ao}", "Chromium";v="${ao}"`,"Sec-CH-UA-Mobile":"?0",Accept:"*/*","Sec-Fetch-Site":"none","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty"},ow=11644473600,lw=1e9,bm=class fa{static adjClockSkewSeconds(t){fa.clockSkewSeconds+=t}static getUnixTimestamp(){return Date.now()/1e3+fa.clockSkewSeconds}static parseRfc2616Date(t){try{return new Date(t).getTime()/1e3}catch(n){return null}}static handleClientResponseError(t){if(!t.response||!t.response.headers)throw new Xa("No server date in headers.");let n=t.response.headers.date;if(!n||typeof n!="string")throw new Xa("No server date in headers.");let a=fa.parseRfc2616Date(n);if(a===null)throw new Xa(`Failed to parse server date: ${n}`);let i=fa.getUnixTimestamp();fa.adjClockSkewSeconds(a-i)}static generateSecMsGec(){let t=fa.getUnixTimestamp();t+=ow,t-=t%300,t*=lw/100;let n=`${t.toFixed(0)}${lo}`;return KT.createHash("sha256").update(n,"ascii").digest("hex").toUpperCase()}};bm.clockSkewSeconds=0;var io=bm,Jr,vm=class{constructor(e,t={}){if(this.state={partialText:Buffer.from(""),offsetCompensation:0,lastDurationOffset:0,streamWasCalled:!1},this.ttsConfig=new um({voice:t.voice||hm,rate:t.rate,volume:t.volume,pitch:t.pitch}),typeof e!="string")throw new TypeError("text must be a string");this.texts=rm(am.default(sm(e)),om(this.ttsConfig)),this.proxy=t.proxy,this.connectionTimeout=t.connectionTimeout}parseMetadata(e){let t=JSON.parse(e.toString("utf-8"));for(let n of t.Metadata){let a=n.Type;if(a==="WordBoundary"){let i=n.Data.Offset+this.state.offsetCompensation,s=n.Data.Duration;return{type:a,offset:i,duration:s,text:lm(n.Data.text.Text)}}if(a!=="SessionEnd")throw new os(`Unknown metadata type: ${a}`)}throw new rt("No WordBoundary metadata found")}async*_stream(){let e=`${fm}&Sec-MS-GEC=${io.generateSecMsGec()}&Sec-MS-GEC-Version=${uo}&ConnectionId=${ls()}`,t;if(this.proxy){if(!Jr)try{Jr=(await Promise.resolve().then(()=>Ce(Br()))).HttpsProxyAgent}catch(r){console.warn("https-proxy-agent not available:",r)}Jr&&(t=new Jr(this.proxy))}let n=new im.default(e,{headers:gm,timeout:this.connectionTimeout,agent:t}),a=[],i=null;n.on("message",(r,o)=>{if(o)if(r.length<2)a.push(new rt("We received a binary message, but it is missing the header length."));else if(r.readUInt16BE(0)>r.length)a.push(new rt("The header length is greater than the length of the data."));else{let[u,c]=aw(r);u.Path!=="audio"?a.push(new rt("Received binary message, but the path is not audio.")):u["Content-Type"]!=="audio/mpeg"?c.length>0&&a.push(new rt("Received binary message, but with an unexpected Content-Type.")):c.length===0?a.push(new rt("Received binary message, but it is missing the audio data.")):a.push({type:"audio",data:c})}else{let[l,u]=nw(r),c=l.Path;if(c==="audio.metadata")try{let f=this.parseMetadata(u);this.state.lastDurationOffset=f.offset+f.duration,a.push(f)}catch(f){a.push(f)}else c==="turn.end"?(this.state.offsetCompensation=this.state.lastDurationOffset,n.close()):c!=="response"&&c!=="turn.start"&&a.push(new os(`Unknown path received: ${c}`))}i&&i()}),n.on("error",r=>{a.push(new no(r.message)),i&&i()}),n.on("close",()=>{a.push("close"),i&&i()}),await new Promise(r=>n.on("open",r)),n.send(`X-Timestamp:${us()}\r
Content-Type:application/json; charset=utf-8\r
Path:speech.config\r
\r
{"context":{"synthesis":{"audio":{"metadataoptions":{"sentenceBoundaryEnabled":"false","wordBoundaryEnabled":"true"},"outputFormat":"audio-24khz-48kbitrate-mono-mp3"}}}}\r
`),n.send(oc(ls(),us(),rc(this.ttsConfig,this.state.partialText)));let s=!1;for(;;)if(a.length>0){let r=a.shift();if(r==="close"){if(!s)throw new sc("No audio was received.");break}else{if(r instanceof Error)throw r;r.type==="audio"&&(s=!0),yield r}}else await new Promise(r=>{i=r,setTimeout(r,50)})}async*stream(){var e;if(this.state.streamWasCalled)throw new Error("stream can only be called once.");this.state.streamWasCalled=!0;for(let t of this.texts){this.state.partialText=t;try{for await(let n of this._stream())yield n}catch(n){if(n instanceof ic.AxiosError&&((e=n.response)==null?void 0:e.status)===403){io.handleClientResponseError(n);for await(let a of this._stream())yield a}else throw n}}}};function em(e){let t=Math.floor(e/3600),n=Math.floor(e%3600/60),a=Math.floor(e%60),i=Math.round((e-Math.floor(e))*1e3),s=(r,o=2)=>r.toString().padStart(o,"0");return`${s(t)}:${s(n)}:${s(a)},${s(i,3)}`}var uw=class{constructor(){this.cues=[]}feed(e){if(e.type!=="WordBoundary"||e.offset===void 0||e.duration===void 0||e.text===void 0)throw new Ia("Invalid message type, expected 'WordBoundary' with offset, duration and text");let t=e.offset/1e7,n=(e.offset+e.duration)/1e7;this.cues.push({index:this.cues.length+1,start:t,end:n,content:e.text})}mergeCues(e){if(e<=0)throw new Ia("Invalid number of words to merge, expected > 0");if(this.cues.length===0)return;let t=[],n=this.cues[0];for(let a of this.cues.slice(1))n.content.split(" ").length<e?n={...n,end:a.end,content:`${n.content} ${a.content}`}:(t.push(n),n=a);t.push(n),this.cues=t.map((a,i)=>({...a,index:i+1}))}getSrt(){return this.cues.map(e=>`${e.index}\r
${em(e.start)} --> ${em(e.end)}\r
${e.content}\r
`).join(`\r
`)}toString(){return this.getSrt()}};function cw(e){try{let t=new URL(e);return{host:t.hostname,port:parseInt(t.port),protocol:t.protocol}}catch(t){return!1}}async function tm(e){let t=`${dm}&Sec-MS-GEC=${io.generateSecMsGec()}&Sec-MS-GEC-Version=${uo}`,a=(await JT.default.get(t,{headers:ym,proxy:e?cw(e):!1})).data;for(let i of a)i.VoiceTag.ContentCategories=i.VoiceTag.ContentCategories.map(s=>s.trim()),i.VoiceTag.VoicePersonalities=i.VoiceTag.VoicePersonalities.map(s=>s.trim());return a}async function Sm(e){var t;try{return await tm(e)}catch(n){if(n instanceof ic.AxiosError&&((t=n.response)==null?void 0:t.status)===403)return io.handleClientResponseError(n),await tm(e);throw n}}var fw=class Em{constructor(){this.voices=[],this.calledCreate=!1}static async create(t,n){let a=new Em,i=t!=null?t:await Sm(n);return a.voices=i.map(s=>({...s,Language:s.Locale.split("-")[0]})),a.calledCreate=!0,a}find(t){if(!this.calledCreate)throw new Error("VoicesManager.find() called before VoicesManager.create()");return this.voices.filter(n=>Object.entries(t).every(([a,i])=>n[a]===i))}},dw=class{constructor(e,t="Microsoft Server Speech Text to Speech Voice (zh-CN, XiaoxiaoNeural)",n={}){this.text=e,this.voice=t,this.rate=n.rate||"+0%",this.volume=n.volume||"+0%",this.pitch=n.pitch||"+0Hz"}async synthesize(){let e=new vm(this.text,{voice:this.voice,rate:this.rate,volume:this.volume,pitch:this.pitch}),t=[],n=[];for await(let s of e.stream())s.type==="audio"&&s.data?t.push(s.data):s.type==="WordBoundary"&&s.offset!==void 0&&s.duration!==void 0&&s.text!==void 0&&n.push({offset:s.offset,duration:s.duration,text:s.text});let a=Buffer.concat(t);return{audio:new Blob([a],{type:"audio/mpeg"}),subtitle:n}}};function so(e,t){let n=Math.floor(e/1e7),a=Math.floor(n/3600),i=Math.floor(n%3600/60),s=n%60,r=Math.floor(e%1e7/1e4),o=t==="vtt"?".":",";return`${eo(a)}:${eo(i)}:${eo(s)}${o}${eo(r,3)}`}function eo(e,t=2){return e.toString().padStart(t,"0")}function hw(e){let t=`WEBVTT

`;return e.forEach((n,a)=>{let i=so(n.offset,"vtt"),s=so(n.offset+n.duration,"vtt");t+=`${a+1}
`,t+=`${i} --> ${s}
`,t+=`${n.text}

`}),t}function pw(e){let t="";return e.forEach((n,a)=>{let i=so(n.offset,"srt"),s=so(n.offset+n.duration,"srt");t+=`${a+1}
`,t+=`${i} --> ${s}
`,t+=`${n.text}

`}),t}function mw(){var t;let e={name:"unknown",isNode:!1,isDeno:!1,isBun:!1,isBrowser:!1,isWebWorker:!1};return typeof globalThis.Deno!="undefined"?(e.name="deno",e.isDeno=!0,e.version=(t=globalThis.Deno.version)==null?void 0:t.deno,e):typeof globalThis.Bun!="undefined"?(e.name="bun",e.isBun=!0,e.version=globalThis.Bun.version,e):typeof process!="undefined"&&process.versions&&process.versions.node?(e.name="node",e.isNode=!0,e.version=process.versions.node,e):typeof globalThis.importScripts=="function"&&typeof globalThis.WorkerGlobalScope!="undefined"?(e.name="webworker",e.isWebWorker=!0,e):(typeof window!="undefined"&&(e.name="browser",e.isBrowser=!0),e)}function gw(){let e=mw();if(e.isDeno||e.isBrowser||e.isWebWorker)return globalThis.crypto;if(e.isNode||e.isBun)try{return typeof globalThis.crypto!="undefined"?globalThis.crypto:tw("isomorphic-webcrypto")}catch(t){throw new Error("No crypto implementation available. Please install isomorphic-webcrypto.")}throw new Error("Unsupported runtime environment")}var yw=11644473600,bw=1e9,Tm=class da{static adjClockSkewSeconds(t){da.clockSkewSeconds+=t}static getUnixTimestamp(){return Date.now()/1e3+da.clockSkewSeconds}static parseRfc2616Date(t){try{return new Date(t).getTime()/1e3}catch(n){return null}}static handleClientResponseError(t){let n=null;if("headers"in t&&typeof t.headers=="object")if("get"in t.headers&&typeof t.headers.get=="function")n=t.headers.get("date");else{let s=t.headers;n=s.date||s.Date}if(!n)throw new Xa("No server date in headers.");let a=da.parseRfc2616Date(n);if(a===null)throw new Xa(`Failed to parse server date: ${n}`);let i=da.getUnixTimestamp();da.adjClockSkewSeconds(a-i)}static async generateSecMsGec(){let t=da.getUnixTimestamp();t+=yw,t-=t%300,t*=bw/100;let n=`${t.toFixed(0)}${lo}`,a=gw();if(!a||!a.subtle)throw new Error("Crypto API not available");let s=new TextEncoder().encode(n),r=await a.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(r)).map(l=>l.toString(16).padStart(2,"0")).join("").toUpperCase()}};Tm.clockSkewSeconds=0;var co=Tm,ha={from:(e,t)=>{if(typeof e=="string")return new TextEncoder().encode(e);if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return e;throw new Error("Unsupported input type for IsomorphicBuffer.from")},concat:e=>{let t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t),a=0;for(let i of e)n.set(i,a),a+=i.length;return n},isBuffer:e=>e instanceof Uint8Array,toString:(e,t)=>new TextDecoder(t||"utf-8").decode(e)};function vw(e){let t=ha.toString(e),n=t.indexOf(`\r
\r
`),a={};if(n!==-1){let r=t.substring(0,n).split(`\r
`);for(let o of r){let[l,u]=o.split(":",2);l&&u&&(a[l]=u.trim())}}let i=new TextEncoder().encode(t.substring(0,n+4)).length;return[a,e.slice(i)]}function Sw(e){if(e.length<2)throw new Error("Message too short to contain header length");let t=e[0]<<8|e[1],n={};if(t>0&&t+2<=e.length){let a=e.slice(2,t+2),s=ha.toString(a).split(`\r
`);for(let r of s){let[o,l]=r.split(":",2);o&&l&&(n[o]=l.trim())}}return[n,e.slice(t+2)]}var Ew=class{constructor(e,t={}){var i,s,r;if(this.state={partialText:ha.from(""),offsetCompensation:0,lastDurationOffset:0,streamWasCalled:!1},this.ttsConfig=new um({voice:t.voice||hm,rate:t.rate,volume:t.volume,pitch:t.pitch}),typeof e!="string")throw new TypeError("text must be a string");let n=am.default(sm(e)),a=om(this.ttsConfig);this.texts=function*(){for(let o of rm(n,a))o instanceof Uint8Array?yield o:yield new Uint8Array(o)}(),this.proxy=t.proxy,this.connectionTimeout=t.connectionTimeout,this.isNode=typeof globalThis!="undefined"?((s=(i=globalThis.process)==null?void 0:i.versions)==null?void 0:s.node)!==void 0:typeof process!="undefined"&&((r=process.versions)==null?void 0:r.node)!==void 0}parseMetadata(e){let t=JSON.parse(ha.toString(e));for(let n of t.Metadata){let a=n.Type;if(a==="WordBoundary"){let i=n.Data.Offset+this.state.offsetCompensation,s=n.Data.Duration;return{type:a,offset:i,duration:s,text:lm(n.Data.text.Text)}}if(a!=="SessionEnd")throw new os(`Unknown metadata type: ${a}`)}throw new rt("No WordBoundary metadata found")}async createWebSocket(e){let t={headers:gm};if(this.connectionTimeout&&(t.timeout=this.connectionTimeout),this.isNode&&this.proxy)try{let{HttpsProxyAgent:n}=await Promise.resolve().then(()=>Ce(Br()));t.agent=new n(this.proxy)}catch(n){console.warn("Proxy not supported in this environment:",n)}return new im.default(e,t)}async*_stream(){let e=`${fm}&Sec-MS-GEC=${await co.generateSecMsGec()}&Sec-MS-GEC-Version=${uo}&ConnectionId=${ls()}`,t=await this.createWebSocket(e),n=[],a=null,i=(r,o)=>{let l=r.data||r;if(!(o!=null?o:l instanceof ArrayBuffer||l instanceof Uint8Array)&&typeof l=="string"){let[c,f]=vw(ha.from(l)),d=c.Path;if(d==="audio.metadata")try{let m=this.parseMetadata(f);this.state.lastDurationOffset=m.offset+m.duration,n.push(m)}catch(m){n.push(m)}else d==="turn.end"?(this.state.offsetCompensation=this.state.lastDurationOffset,t.close()):d!=="response"&&d!=="turn.start"&&n.push(new os(`Unknown path received: ${d}`))}else{let c;if(l instanceof ArrayBuffer)c=ha.from(l);else if(l instanceof Uint8Array)c=l;else{n.push(new rt("Unknown binary data type"));return}if(c.length<2)n.push(new rt("We received a binary message, but it is missing the header length."));else{let[f,d]=Sw(c);f.Path!=="audio"?n.push(new rt("Received binary message, but the path is not audio.")):f["Content-Type"]!=="audio/mpeg"?d.length>0&&n.push(new rt("Received binary message, but with an unexpected Content-Type.")):d.length===0?n.push(new rt("Received binary message, but it is missing the audio data.")):n.push({type:"audio",data:d})}}a&&a()};this.isNode?(t.on("message",i),t.on("error",r=>{n.push(new no(r.message)),a&&a()}),t.on("close",()=>{n.push("close"),a&&a()})):(t.onmessage=i,t.onerror=r=>{n.push(new no(r.message||"WebSocket error")),a&&a()},t.onclose=()=>{n.push("close"),a&&a()}),await new Promise((r,o)=>{let l=()=>r(),u=c=>o(c);this.isNode?(t.on("open",l),t.on("error",u)):(t.onopen=l,t.onerror=u)}),t.send(`X-Timestamp:${us()}\r
Content-Type:application/json; charset=utf-8\r
Path:speech.config\r
\r
{"context":{"synthesis":{"audio":{"metadataoptions":{"sentenceBoundaryEnabled":"false","wordBoundaryEnabled":"true"},"outputFormat":"audio-24khz-48kbitrate-mono-mp3"}}}}\r
`),t.send(oc(ls(),us(),rc(this.ttsConfig,ha.toString(this.state.partialText))));let s=!1;for(;;)if(n.length>0){let r=n.shift();if(r==="close"){if(!s)throw new sc("No audio was received.");break}else{if(r instanceof Error)throw r;r.type==="audio"&&(s=!0),yield r}}else await new Promise(r=>{a=r,setTimeout(r,50)})}async*stream(){if(this.state.streamWasCalled)throw new Error("stream can only be called once.");this.state.streamWasCalled=!0;for(let e of this.texts){this.state.partialText=e;for await(let t of this._stream())yield t}}},rs=class extends Error{constructor(e,t){super(e),this.name="FetchError",this.response=t}};async function nm(e){let t=`${dm}&Sec-MS-GEC=${await co.generateSecMsGec()}&Sec-MS-GEC-Version=${uo}`,n={headers:ym};e&&console.warn("Proxy support in isomorphic environment is limited. Consider using a backend proxy.");try{let a=await ew.default(t,n);if(!a.ok){let s={};throw a.headers.forEach((r,o)=>{s[o]=r}),new rs(`HTTP ${a.status}`,{status:a.status,headers:s})}let i=await a.json();for(let s of i)s.VoiceTag.ContentCategories=s.VoiceTag.ContentCategories.map(r=>r.trim()),s.VoiceTag.VoicePersonalities=s.VoiceTag.VoicePersonalities.map(r=>r.trim());return i}catch(a){throw a instanceof rs?a:new rs(a instanceof Error?a.message:"Unknown fetch error")}}async function wm(e){var t;try{return await nm(e)}catch(n){if(n instanceof rs&&((t=n.response)==null?void 0:t.status)===403)return co.handleClientResponseError(n.response),await nm(e);throw n}}var Tw=class Mm{constructor(){this.voices=[],this.calledCreate=!1}static async create(t,n){let a=new Mm,i=t!=null?t:await wm(n);return a.voices=i.map(s=>({...s,Language:s.Locale.split("-")[0]})),a.calledCreate=!0,a}find(t){if(!this.calledCreate)throw new Error("IsomorphicVoicesManager.find() called before IsomorphicVoicesManager.create()");return this.voices.filter(n=>Object.entries(t).every(([a,i])=>n[a]===i))}},ww=class{constructor(e,t="Microsoft Server Speech Text to Speech Voice (en-US, EmmaMultilingualNeural)",n={}){this.ws=null,this.WSS_URL="wss://speech.platform.bing.com/consumer/speech/synthesize/readaloud/edge/v1",this.TRUSTED_CLIENT_TOKEN="6A5AA1D4EAFF4E9FB37E23D68491D6F4",this.text=e,this.voice=t,this.rate=n.rate||"+0%",this.volume=n.volume||"+0%",this.pitch=n.pitch||"+0Hz"}async synthesize(){if(await this.connect(),!this.ws||this.ws.readyState!==WebSocket.OPEN)throw new Error("WebSocket is not connected.");return this.ws.send(this.createSpeechConfig()),this.ws.send(this.createSSML()),new Promise((e,t)=>{let n=[],a=[];this.ws&&(this.ws.onmessage=i=>{if(typeof i.data=="string"){let{headers:s,body:r}=this.parseMessage(i.data);if(s.Path==="audio.metadata")try{let o=JSON.parse(r);if(o.Metadata&&Array.isArray(o.Metadata)){let l=o.Metadata.filter(u=>u.Type==="WordBoundary"&&u.Data).map(u=>({offset:u.Data.Offset,duration:u.Data.Duration,text:u.Data.text.Text}));a=a.concat(l)}}catch(o){}else s.Path==="turn.end"&&this.ws&&this.ws.close()}else i.data instanceof Blob&&i.data.arrayBuffer().then(s=>{let o=new DataView(s).getUint16(0);if(s.byteLength>o+2){let l=new Uint8Array(s,o+2);n.push(l)}})},this.ws.onclose=()=>{let i=new Blob(n,{type:"audio/mpeg"});e({audio:i,subtitle:a})},this.ws.onerror=i=>{t(i)})})}connect(){let e=this.generateConnectionId(),t=this.generateSecMsGec(),n=`${this.WSS_URL}?TrustedClientToken=${this.TRUSTED_CLIENT_TOKEN}&ConnectionId=${e}&Sec-MS-GEC=${t}&Sec-MS-GEC-Version=1-130.0.2849.68`;return this.ws=new WebSocket(n),new Promise((a,i)=>{if(!this.ws)return i(new Error("WebSocket not initialized"));this.ws.onopen=()=>{a()},this.ws.onerror=s=>{i(s)}})}parseMessage(e){let t=e.split(`\r
\r
`),n=t[0].split(`\r
`),a={};return n.forEach(i=>{let[s,r]=i.split(":",2);s&&r&&(a[s.trim()]=r.trim())}),{headers:a,body:t[1]||""}}createSpeechConfig(){let e={context:{synthesis:{audio:{metadataoptions:{sentenceBoundaryEnabled:!1,wordBoundaryEnabled:!0},outputFormat:"audio-24khz-48kbitrate-mono-mp3"}}}};return`X-Timestamp:${this.getTimestamp()}\r
Content-Type:application/json; charset=utf-8\r
Path:speech.config\r
\r
${JSON.stringify(e)}`}createSSML(){let e=`<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xml:lang='en-US'>
      <voice name='${this.voice}'>
        <prosody pitch='${this.pitch}' rate='${this.rate}' volume='${this.volume}'>
          ${this.escapeXml(this.text)}
        </prosody>
      </voice>
    </speak>`;return`X-RequestId:${this.generateConnectionId()}\r
Content-Type:application/ssml+xml\r
X-Timestamp:${this.getTimestamp()}Z\r
Path:ssml\r
\r
${e}`}generateConnectionId(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}getTimestamp(){return new Date().toISOString().replace(/[:-]|\.\d{3}/g,"")}escapeXml(e){return e.replace(/[<>&'"]/g,t=>{switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}})}async generateSecMsGec(){let n=Date.now()/1e3;n+=11644473600,n-=n%300,n*=1e9/100;let a=`${n.toFixed(0)}${this.TRUSTED_CLIENT_TOKEN}`,s=new TextEncoder().encode(a),r=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(r)).map(l=>l.toString(16).padStart(2,"0")).join("").toUpperCase()}};function ro(e,t){let n=Math.floor(e/1e7),a=Math.floor(n/3600),i=Math.floor(n%3600/60),s=n%60,r=Math.floor(e%1e7/1e4),o=t==="vtt"?".":",";return`${to(a)}:${to(i)}:${to(s)}${o}${to(r,3)}`}function to(e,t=2){return e.toString().padStart(t,"0")}function Mw(e){let t=`WEBVTT

`;return e.forEach((n,a)=>{let i=ro(n.offset,"vtt"),s=ro(n.offset+n.duration,"vtt");t+=`${a+1}
`,t+=`${i} --> ${s}
`,t+=`${n.text}

`}),t}function Cw(e){let t="";return e.forEach((n,a)=>{let i=ro(n.offset,"srt"),s=ro(n.offset+n.duration,"srt");t+=`${a+1}
`,t+=`${i} --> ${s}
`,t+=`${n.text}

`}),t}fe.Communicate=vm;fe.EdgeTTS=dw;fe.EdgeTTSBrowser=ww;fe.EdgeTTSException=pa;fe.FetchError=rs;fe.IsomorphicCommunicate=Ew;fe.IsomorphicDRM=co;fe.IsomorphicVoicesManager=Tw;fe.NoAudioReceived=sc;fe.SkewAdjustmentError=Xa;fe.SubMaker=uw;fe.UnexpectedResponse=rt;fe.UnknownResponse=os;fe.ValueError=Ia;fe.VoicesManager=fw;fe.WebSocketError=no;fe.createSRT=pw;fe.createSRTBrowser=Cw;fe.createVTT=hw;fe.createVTTBrowser=Mw;fe.listVoices=Sm;fe.listVoicesIsomorphic=wm});var qm=N(z=>{"use strict";var cc=Symbol.for("react.transitional.element"),Bw=Symbol.for("react.portal"),Pw=Symbol.for("react.fragment"),zw=Symbol.for("react.strict_mode"),Lw=Symbol.for("react.profiler"),qw=Symbol.for("react.consumer"),Hw=Symbol.for("react.context"),Qw=Symbol.for("react.forward_ref"),jw=Symbol.for("react.suspense"),Vw=Symbol.for("react.memo"),Nm=Symbol.for("react.lazy"),Om=Symbol.iterator;function Gw(e){return e===null||typeof e!="object"?null:(e=Om&&e[Om]||e["@@iterator"],typeof e=="function"?e:null)}var Dm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bm=Object.assign,Pm={};function Ka(e,t,n){this.props=e,this.context=t,this.refs=Pm,this.updater=n||Dm}Ka.prototype.isReactComponent={};Ka.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ka.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zm(){}zm.prototype=Ka.prototype;function fc(e,t,n){this.props=e,this.context=t,this.refs=Pm,this.updater=n||Dm}var dc=fc.prototype=new zm;dc.constructor=fc;Bm(dc,Ka.prototype);dc.isPureReactComponent=!0;var _m=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},Lm=Object.prototype.hasOwnProperty;function hc(e,t,n,a,i,s){return n=s.ref,{$$typeof:cc,type:e,key:t,ref:n!==void 0?n:null,props:s}}function Fw(e,t){return hc(e.type,t,void 0,void 0,void 0,e.props)}function pc(e){return typeof e=="object"&&e!==null&&e.$$typeof===cc}function $w(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rm=/\/+/g;function uc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$w(""+e.key):t.toString(36)}function Um(){}function Yw(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Um,Um):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Za(e,t,n,a,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(s){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case cc:case Bw:r=!0;break;case Nm:return r=e._init,Za(r(e._payload),t,n,a,i)}}if(r)return i=i(e),r=a===""?"."+uc(e,0):a,_m(i)?(n="",r!=null&&(n=r.replace(Rm,"$&/")+"/"),Za(i,t,n,"",function(u){return u})):i!=null&&(pc(i)&&(i=Fw(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Rm,"$&/")+"/")+r)),t.push(i)),1;r=0;var o=a===""?".":a+":";if(_m(e))for(var l=0;l<e.length;l++)a=e[l],s=o+uc(a,l),r+=Za(a,t,n,s,i);else if(l=Gw(e),typeof l=="function")for(e=l.call(e),l=0;!(a=e.next()).done;)a=a.value,s=o+uc(a,l++),r+=Za(a,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return Za(Yw(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function bo(e,t,n){if(e==null)return e;var a=[],i=0;return Za(e,a,"","",function(s){return t.call(n,s,i++)}),a}function Xw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var km=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Iw(){}z.Children={map:bo,forEach:function(e,t,n){bo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bo(e,function(){t++}),t},toArray:function(e){return bo(e,function(t){return t})||[]},only:function(e){if(!pc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=Ka;z.Fragment=Pw;z.Profiler=Lw;z.PureComponent=fc;z.StrictMode=zw;z.Suspense=jw;z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe;z.__COMPILER_RUNTIME={__proto__:null,c:function(e){return oe.H.useMemoCache(e)}};z.cache=function(e){return function(){return e.apply(null,arguments)}};z.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Bm({},e.props),i=e.key,s=void 0;if(t!=null)for(r in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(i=""+t.key),t)!Lm.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(a[r]=t[r]);var r=arguments.length-2;if(r===1)a.children=n;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];a.children=o}return hc(e.type,i,void 0,void 0,s,a)};z.createContext=function(e){return e={$$typeof:Hw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:qw,_context:e},e};z.createElement=function(e,t,n){var a,i={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)Lm.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)i[a]===void 0&&(i[a]=r[a]);return hc(e,s,void 0,void 0,null,i)};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:Qw,render:e}};z.isValidElement=pc;z.lazy=function(e){return{$$typeof:Nm,_payload:{_status:-1,_result:e},_init:Xw}};z.memo=function(e,t){return{$$typeof:Vw,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=oe.T,n={};oe.T=n;try{var a=e(),i=oe.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Iw,km)}catch(s){km(s)}finally{oe.T=t}};z.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()};z.use=function(e){return oe.H.use(e)};z.useActionState=function(e,t,n){return oe.H.useActionState(e,t,n)};z.useCallback=function(e,t){return oe.H.useCallback(e,t)};z.useContext=function(e){return oe.H.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e,t){return oe.H.useDeferredValue(e,t)};z.useEffect=function(e,t,n){var a=oe.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)};z.useId=function(){return oe.H.useId()};z.useImperativeHandle=function(e,t,n){return oe.H.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return oe.H.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return oe.H.useLayoutEffect(e,t)};z.useMemo=function(e,t){return oe.H.useMemo(e,t)};z.useOptimistic=function(e,t){return oe.H.useOptimistic(e,t)};z.useReducer=function(e,t,n){return oe.H.useReducer(e,t,n)};z.useRef=function(e){return oe.H.useRef(e)};z.useState=function(e){return oe.H.useState(e)};z.useSyncExternalStore=function(e,t,n){return oe.H.useSyncExternalStore(e,t,n)};z.useTransition=function(){return oe.H.useTransition()};z.version="19.1.0"});var en=N((vA,Hm)=>{"use strict";Hm.exports=qm()});var Zm=N(le=>{"use strict";function bc(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,i=e[a];if(0<vo(i,t))e[a]=t,e[n]=i,n=a;else break e}}function Ht(e){return e.length===0?null:e[0]}function Eo(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,i=e.length,s=i>>>1;a<s;){var r=2*(a+1)-1,o=e[r],l=r+1,u=e[l];if(0>vo(o,n))l<i&&0>vo(u,o)?(e[a]=u,e[l]=n,a=l):(e[a]=o,e[r]=n,a=r);else if(l<i&&0>vo(u,n))e[a]=u,e[l]=n,a=l;else break e}}return t}function vo(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}le.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(Qm=performance,le.unstable_now=function(){return Qm.now()}):(mc=Date,jm=mc.now(),le.unstable_now=function(){return mc.now()-jm});var Qm,mc,jm,tn=[],Mn=[],Zw=1,yt=null,Qe=3,vc=!1,cs=!1,fs=!1,Sc=!1,Fm=typeof setTimeout=="function"?setTimeout:null,$m=typeof clearTimeout=="function"?clearTimeout:null,Vm=typeof setImmediate!="undefined"?setImmediate:null;function So(e){for(var t=Ht(Mn);t!==null;){if(t.callback===null)Eo(Mn);else if(t.startTime<=e)Eo(Mn),t.sortIndex=t.expirationTime,bc(tn,t);else break;t=Ht(Mn)}}function Ec(e){if(fs=!1,So(e),!cs)if(Ht(tn)!==null)cs=!0,Ja||(Ja=!0,Wa());else{var t=Ht(Mn);t!==null&&Tc(Ec,t.startTime-e)}}var Ja=!1,ds=-1,Ym=5,Xm=-1;function Im(){return Sc?!0:!(le.unstable_now()-Xm<Ym)}function gc(){if(Sc=!1,Ja){var e=le.unstable_now();Xm=e;var t=!0;try{e:{cs=!1,fs&&(fs=!1,$m(ds),ds=-1),vc=!0;var n=Qe;try{t:{for(So(e),yt=Ht(tn);yt!==null&&!(yt.expirationTime>e&&Im());){var a=yt.callback;if(typeof a=="function"){yt.callback=null,Qe=yt.priorityLevel;var i=a(yt.expirationTime<=e);if(e=le.unstable_now(),typeof i=="function"){yt.callback=i,So(e),t=!0;break t}yt===Ht(tn)&&Eo(tn),So(e)}else Eo(tn);yt=Ht(tn)}if(yt!==null)t=!0;else{var s=Ht(Mn);s!==null&&Tc(Ec,s.startTime-e),t=!1}}break e}finally{yt=null,Qe=n,vc=!1}t=void 0}}finally{t?Wa():Ja=!1}}}var Wa;typeof Vm=="function"?Wa=function(){Vm(gc)}:typeof MessageChannel!="undefined"?(yc=new MessageChannel,Gm=yc.port2,yc.port1.onmessage=gc,Wa=function(){Gm.postMessage(null)}):Wa=function(){Fm(gc,0)};var yc,Gm;function Tc(e,t){ds=Fm(function(){e(le.unstable_now())},t)}le.unstable_IdlePriority=5;le.unstable_ImmediatePriority=1;le.unstable_LowPriority=4;le.unstable_NormalPriority=3;le.unstable_Profiling=null;le.unstable_UserBlockingPriority=2;le.unstable_cancelCallback=function(e){e.callback=null};le.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ym=0<e?Math.floor(1e3/e):5};le.unstable_getCurrentPriorityLevel=function(){return Qe};le.unstable_next=function(e){switch(Qe){case 1:case 2:case 3:var t=3;break;default:t=Qe}var n=Qe;Qe=t;try{return e()}finally{Qe=n}};le.unstable_requestPaint=function(){Sc=!0};le.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=Qe;Qe=e;try{return t()}finally{Qe=n}};le.unstable_scheduleCallback=function(e,t,n){var a=le.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?a+n:a):n=a,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=n+i,e={id:Zw++,callback:t,priorityLevel:e,startTime:n,expirationTime:i,sortIndex:-1},n>a?(e.sortIndex=n,bc(Mn,e),Ht(tn)===null&&e===Ht(Mn)&&(fs?($m(ds),ds=-1):fs=!0,Tc(Ec,n-a))):(e.sortIndex=i,bc(tn,e),cs||vc||(cs=!0,Ja||(Ja=!0,Wa()))),e};le.unstable_shouldYield=Im;le.unstable_wrapCallback=function(e){var t=Qe;return function(){var n=Qe;Qe=t;try{return e.apply(this,arguments)}finally{Qe=n}}}});var Wm=N((EA,Km)=>{"use strict";Km.exports=Zm()});var eg=N(Ye=>{"use strict";var Kw=en();function Jm(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Cn(){}var $e={d:{f:Cn,r:function(){throw Error(Jm(522))},D:Cn,C:Cn,L:Cn,m:Cn,X:Cn,S:Cn,M:Cn},p:0,findDOMNode:null},Ww=Symbol.for("react.portal");function Jw(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ww,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var hs=Kw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function To(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$e;Ye.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Jm(299));return Jw(e,t,null,n)};Ye.flushSync=function(e){var t=hs.T,n=$e.p;try{if(hs.T=null,$e.p=2,e)return e()}finally{hs.T=t,$e.p=n,$e.d.f()}};Ye.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,$e.d.C(e,t))};Ye.prefetchDNS=function(e){typeof e=="string"&&$e.d.D(e)};Ye.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=To(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?$e.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:s}):n==="script"&&$e.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ye.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=To(t.as,t.crossOrigin);$e.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&$e.d.M(e)};Ye.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=To(n,t.crossOrigin);$e.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ye.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=To(t.as,t.crossOrigin);$e.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else $e.d.m(e)};Ye.requestFormReset=function(e){$e.d.r(e)};Ye.unstable_batchedUpdates=function(e,t){return e(t)};Ye.useFormState=function(e,t,n){return hs.H.useFormState(e,t,n)};Ye.useFormStatus=function(){return hs.H.useHostTransitionStatus()};Ye.version="19.1.0"});var ag=N((wA,ng)=>{"use strict";function tg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tg)}catch(e){console.error(e)}}tg(),ng.exports=eg()});var sv=N(Gl=>{"use strict";var we=Wm(),C0=en(),eM=ag();function w(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function x0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ig(e){if(er(e)!==e)throw Error(w(188))}function tM(e){var t=e.alternate;if(!t){if(t=er(e),t===null)throw Error(w(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ig(i),e;if(s===a)return ig(i),t;s=s.sibling}throw Error(w(188))}if(n.return!==a.return)n=i,a=s;else{for(var r=!1,o=i.child;o;){if(o===n){r=!0,n=i,a=s;break}if(o===a){r=!0,a=i,n=s;break}o=o.sibling}if(!r){for(o=s.child;o;){if(o===n){r=!0,n=s,a=i;break}if(o===a){r=!0,a=s,n=i;break}o=o.sibling}if(!r)throw Error(w(189))}}if(n.alternate!==a)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?e:t}function O0(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=O0(e),t!==null)return t;e=e.sibling}return null}var re=Object.assign,nM=Symbol.for("react.element"),wo=Symbol.for("react.transitional.element"),Ts=Symbol.for("react.portal"),ri=Symbol.for("react.fragment"),_0=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),aM=Symbol.for("react.provider"),R0=Symbol.for("react.consumer"),on=Symbol.for("react.context"),Zf=Symbol.for("react.forward_ref"),tf=Symbol.for("react.suspense"),nf=Symbol.for("react.suspense_list"),Kf=Symbol.for("react.memo"),On=Symbol.for("react.lazy");Symbol.for("react.scope");var af=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var iM=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var sg=Symbol.iterator;function ps(e){return e===null||typeof e!="object"?null:(e=sg&&e[sg]||e["@@iterator"],typeof e=="function"?e:null)}var sM=Symbol.for("react.client.reference");function sf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===sM?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ri:return"Fragment";case ef:return"Profiler";case _0:return"StrictMode";case tf:return"Suspense";case nf:return"SuspenseList";case af:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ts:return"Portal";case on:return(e.displayName||"Context")+".Provider";case R0:return(e._context.displayName||"Context")+".Consumer";case Zf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kf:return t=e.displayName||null,t!==null?t:sf(e.type)||"Memo";case On:t=e._payload,e=e._init;try{return sf(e(t))}catch(n){}}return null}var ws=Array.isArray,U=C0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=eM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ea={pending:!1,data:null,method:null,action:null},rf=[],oi=-1;function Yt(e){return{current:e}}function Re(e){0>oi||(e.current=rf[oi],rf[oi]=null,oi--)}function ce(e,t){oi++,rf[oi]=e.current,e.current=t}var Gt=Yt(null),Hs=Yt(null),Ln=Yt(null),Jo=Yt(null);function el(e,t){switch(ce(Ln,t),ce(Hs,e),ce(Gt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?f0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=f0(t),e=Yb(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Re(Gt),ce(Gt,e)}function Ai(){Re(Gt),Re(Hs),Re(Ln)}function of(e){e.memoizedState!==null&&ce(Jo,e);var t=Gt.current,n=Yb(t,e.type);t!==n&&(ce(Hs,e),ce(Gt,n))}function tl(e){Hs.current===e&&(Re(Gt),Re(Hs)),Jo.current===e&&(Re(Jo),Zs._currentValue=Ea)}var lf=Object.prototype.hasOwnProperty,Wf=we.unstable_scheduleCallback,wc=we.unstable_cancelCallback,rM=we.unstable_shouldYield,oM=we.unstable_requestPaint,Ft=we.unstable_now,lM=we.unstable_getCurrentPriorityLevel,U0=we.unstable_ImmediatePriority,k0=we.unstable_UserBlockingPriority,nl=we.unstable_NormalPriority,uM=we.unstable_LowPriority,N0=we.unstable_IdlePriority,cM=we.log,fM=we.unstable_setDisableYieldValue,tr=null,ft=null;function Dn(e){if(typeof cM=="function"&&fM(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(tr,e)}catch(t){}}var dt=Math.clz32?Math.clz32:pM,dM=Math.log,hM=Math.LN2;function pM(e){return e>>>=0,e===0?32:31-(dM(e)/hM|0)|0}var Mo=256,Co=4194304;function ba(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _l(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var o=a&134217727;return o!==0?(a=o&~s,a!==0?i=ba(a):(r&=o,r!==0?i=ba(r):n||(n=o&~e,n!==0&&(i=ba(n))))):(o=a&~s,o!==0?i=ba(o):r!==0?i=ba(r):n||(n=a&~e,n!==0&&(i=ba(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function nr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function mM(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D0(){var e=Mo;return Mo<<=1,!(Mo&4194048)&&(Mo=256),e}function B0(){var e=Co;return Co<<=1,!(Co&62914560)&&(Co=4194304),e}function Mc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ar(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gM(e,t,n,a,i,s){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=r&~n;0<n;){var c=31-dt(n),f=1<<c;o[c]=0,l[c]=-1;var d=u[c];if(d!==null)for(u[c]=null,c=0;c<d.length;c++){var m=d[c];m!==null&&(m.lane&=-536870913)}n&=~f}a!==0&&P0(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function P0(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-dt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function z0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-dt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Jf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ed(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function L0(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:av(e.type))}function yM(e,t){var n=K.p;try{return K.p=e,t()}finally{K.p=n}}var In=Math.random().toString(36).slice(2),je="__reactFiber$"+In,tt="__reactProps$"+In,zi="__reactContainer$"+In,uf="__reactEvents$"+In,bM="__reactListeners$"+In,vM="__reactHandles$"+In,rg="__reactResources$"+In,ir="__reactMarker$"+In;function td(e){delete e[je],delete e[tt],delete e[uf],delete e[bM],delete e[vM]}function li(e){var t=e[je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zi]||n[je]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=p0(e);e!==null;){if(n=e[je])return n;e=p0(e)}return t}e=n,n=e.parentNode}return null}function Li(e){if(e=e[je]||e[zi]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ms(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(w(33))}function bi(e){var t=e[rg];return t||(t=e[rg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Oe(e){e[ir]=!0}var q0=new Set,H0={};function ka(e,t){xi(e,t),xi(e+"Capture",t)}function xi(e,t){for(H0[e]=t,e=0;e<t.length;e++)q0.add(t[e])}var SM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),og={},lg={};function EM(e){return lf.call(lg,e)?!0:lf.call(og,e)?!1:SM.test(e)?lg[e]=!0:(og[e]=!0,!1)}function Ho(e,t,n){if(EM(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ao(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function nn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var Cc,ug;function ai(e){if(Cc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cc=t&&t[1]||"",ug=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cc+e+ug}var Ac=!1;function xc(e,t){if(!e||Ac)return"";Ac=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var d=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){d=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){d=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&d&&typeof m.stack=="string")return[m.stack,d.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),r=s[0],o=s[1];if(r&&o){var l=r.split(`
`),u=o.split(`
`);for(i=a=0;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(a===l.length||i===u.length)for(a=l.length-1,i=u.length-1;1<=a&&0<=i&&l[a]!==u[i];)i--;for(;1<=a&&0<=i;a--,i--)if(l[a]!==u[i]){if(a!==1||i!==1)do if(a--,i--,0>i||l[a]!==u[i]){var c=`
`+l[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{Ac=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ai(n):""}function TM(e){switch(e.tag){case 26:case 27:case 5:return ai(e.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return xc(e.type,!1);case 11:return xc(e.type.render,!1);case 1:return xc(e.type,!0);case 31:return ai("Activity");default:return""}}function cg(e){try{var t="";do t+=TM(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Q0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wM(e){var t=Q0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(r){a=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function al(e){e._valueTracker||(e._valueTracker=wM(e))}function j0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Q0(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function il(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}var MM=/[\n"\\]/g;function Tt(e){return e.replace(MM,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function cf(e,t,n,a,i,s,r,o){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+vt(t)):e.value!==""+vt(t)&&(e.value=""+vt(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?ff(e,r,vt(t)):n!=null?ff(e,r,vt(n)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+vt(o):e.removeAttribute("name")}function V0(e,t,n,a,i,s,r,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+vt(n):"",t=t!=null?""+vt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}a=a!=null?a:i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r)}function ff(e,t,n){t==="number"&&il(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function vi(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+vt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function G0(e,t,n){if(t!=null&&(t=""+vt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+vt(n):""}function F0(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(w(92));if(ws(a)){if(1<a.length)throw Error(w(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=vt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function Oi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var CM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fg(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||CM.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function $0(e,t,n){if(t!=null&&typeof t!="object")throw Error(w(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&fg(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&fg(e,s,t[s])}function nd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qo(e){return xM.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var df=null;function ad(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ui=null,Si=null;function dg(e){var t=Li(e);if(t&&(e=t.stateNode)){var n=e[tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(cf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Tt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[tt]||null;if(!i)throw Error(w(90));cf(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&j0(a)}break e;case"textarea":G0(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&vi(e,!!n.multiple,t,!1)}}}var Oc=!1;function Y0(e,t,n){if(Oc)return e(t,n);Oc=!0;try{var a=e(t);return a}finally{if(Oc=!1,(ui!==null||Si!==null)&&(ql(),ui&&(t=ui,e=Si,Si=ui=null,dg(t),e)))for(t=0;t<e.length;t++)dg(e[t])}}function Qs(e,t){var n=e.stateNode;if(n===null)return null;var a=n[tt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(w(231,t,typeof n));return n}var pn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),hf=!1;if(pn)try{ei={},Object.defineProperty(ei,"passive",{get:function(){hf=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch(e){hf=!1}var ei,Bn=null,id=null,jo=null;function X0(){if(jo)return jo;var e,t=id,n=t.length,a,i="value"in Bn?Bn.value:Bn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===i[s-a];a++);return jo=i.slice(e,1<a?1-a:void 0)}function Vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xo(){return!0}function hg(){return!1}function nt(e){function t(n,a,i,s,r){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xo:hg,this.isPropagationStopped=hg,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),t}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=nt(Na),sr=re({},Na,{view:0,detail:0}),OM=nt(sr),_c,Rc,ms,Ul=re({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ms&&(ms&&e.type==="mousemove"?(_c=e.screenX-ms.screenX,Rc=e.screenY-ms.screenY):Rc=_c=0,ms=e),_c)},movementY:function(e){return"movementY"in e?e.movementY:Rc}}),pg=nt(Ul),_M=re({},Ul,{dataTransfer:0}),RM=nt(_M),UM=re({},sr,{relatedTarget:0}),Uc=nt(UM),kM=re({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),NM=nt(kM),DM=re({},Na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BM=nt(DM),PM=re({},Na,{data:0}),mg=nt(PM),zM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qM[e])?!!t[e]:!1}function sd(){return HM}var QM=re({},sr,{key:function(e){if(e.key){var t=zM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sd,charCode:function(e){return e.type==="keypress"?Vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jM=nt(QM),VM=re({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gg=nt(VM),GM=re({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sd}),FM=nt(GM),$M=re({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),YM=nt($M),XM=re({},Ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IM=nt(XM),ZM=re({},Na,{newState:0,oldState:0}),KM=nt(ZM),WM=[9,13,27,32],rd=pn&&"CompositionEvent"in window,As=null;pn&&"documentMode"in document&&(As=document.documentMode);var JM=pn&&"TextEvent"in window&&!As,I0=pn&&(!rd||As&&8<As&&11>=As),yg=String.fromCharCode(32),bg=!1;function Z0(e,t){switch(e){case"keyup":return WM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ci=!1;function eC(e,t){switch(e){case"compositionend":return K0(t);case"keypress":return t.which!==32?null:(bg=!0,yg);case"textInput":return e=t.data,e===yg&&bg?null:e;default:return null}}function tC(e,t){if(ci)return e==="compositionend"||!rd&&Z0(e,t)?(e=X0(),jo=id=Bn=null,ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return I0&&t.locale!=="ko"?null:t.data;default:return null}}var nC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nC[e.type]:t==="textarea"}function W0(e,t,n,a){ui?Si?Si.push(a):Si=[a]:ui=a,t=Tl(t,"onChange"),0<t.length&&(n=new Rl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var xs=null,js=null;function aC(e){Gb(e,0)}function kl(e){var t=Ms(e);if(j0(t))return e}function Sg(e,t){if(e==="change")return t}var J0=!1;pn&&(pn?(_o="oninput"in document,_o||(kc=document.createElement("div"),kc.setAttribute("oninput","return;"),_o=typeof kc.oninput=="function"),Oo=_o):Oo=!1,J0=Oo&&(!document.documentMode||9<document.documentMode));var Oo,_o,kc;function Eg(){xs&&(xs.detachEvent("onpropertychange",ey),js=xs=null)}function ey(e){if(e.propertyName==="value"&&kl(js)){var t=[];W0(t,js,e,ad(e)),Y0(aC,t)}}function iC(e,t,n){e==="focusin"?(Eg(),xs=t,js=n,xs.attachEvent("onpropertychange",ey)):e==="focusout"&&Eg()}function sC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kl(js)}function rC(e,t){if(e==="click")return kl(t)}function oC(e,t){if(e==="input"||e==="change")return kl(t)}function lC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:lC;function Vs(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!lf.call(t,i)||!mt(e[i],t[i]))return!1}return!0}function Tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wg(e,t){var n=Tg(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tg(n)}}function ty(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ty(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ny(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=il(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(a){n=!1}if(n)e=t.contentWindow;else break;t=il(e.document)}return t}function od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var uC=pn&&"documentMode"in document&&11>=document.documentMode,fi=null,pf=null,Os=null,mf=!1;function Mg(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mf||fi==null||fi!==il(a)||(a=fi,"selectionStart"in a&&od(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Os&&Vs(Os,a)||(Os=a,a=Tl(pf,"onSelect"),0<a.length&&(t=new Rl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=fi)))}function ya(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var di={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},Nc={},ay={};pn&&(ay=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function Da(e){if(Nc[e])return Nc[e];if(!di[e])return e;var t=di[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ay)return Nc[e]=t[n];return e}var iy=Da("animationend"),sy=Da("animationiteration"),ry=Da("animationstart"),cC=Da("transitionrun"),fC=Da("transitionstart"),dC=Da("transitioncancel"),oy=Da("transitionend"),ly=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function Ut(e,t){ly.set(e,t),ka(t,[e])}var Cg=new WeakMap;function wt(e,t){if(typeof e=="object"&&e!==null){var n=Cg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:cg(t)},Cg.set(e,t),t)}return{value:e,source:t,stack:cg(t)}}var bt=[],hi=0,ld=0;function Nl(){for(var e=hi,t=ld=hi=0;t<e;){var n=bt[t];bt[t++]=null;var a=bt[t];bt[t++]=null;var i=bt[t];bt[t++]=null;var s=bt[t];if(bt[t++]=null,a!==null&&i!==null){var r=a.pending;r===null?i.next=i:(i.next=r.next,r.next=i),a.pending=i}s!==0&&uy(n,i,s)}}function Dl(e,t,n,a){bt[hi++]=e,bt[hi++]=t,bt[hi++]=n,bt[hi++]=a,ld|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function ud(e,t,n,a){return Dl(e,t,n,a),sl(e)}function qi(e,t){return Dl(e,null,null,t),sl(e)}function uy(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-dt(n),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),s):null}function sl(e){if(50<Ls)throw Ls=0,zf=null,Error(w(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pi={};function hC(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,a){return new hC(e,t,n,a)}function cd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function cy(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Go(e,t,n,a,i,s){var r=0;if(a=e,typeof e=="function")cd(e)&&(r=1);else if(typeof e=="string")r=h3(e,n,Gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case af:return e=ct(31,n,t,i),e.elementType=af,e.lanes=s,e;case ri:return Ta(n.children,i,s,t);case _0:r=8,i|=24;break;case ef:return e=ct(12,n,t,i|2),e.elementType=ef,e.lanes=s,e;case tf:return e=ct(13,n,t,i),e.elementType=tf,e.lanes=s,e;case nf:return e=ct(19,n,t,i),e.elementType=nf,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aM:case on:r=10;break e;case R0:r=9;break e;case Zf:r=11;break e;case Kf:r=14;break e;case On:r=16,a=null;break e}r=29,n=Error(w(130,e===null?"null":typeof e,"")),a=null}return t=ct(r,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function Ta(e,t,n,a){return e=ct(7,e,a,t),e.lanes=n,e}function Dc(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function Bc(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var mi=[],gi=0,rl=null,ol=0,St=[],Et=0,wa=null,ln=1,un="";function va(e,t){mi[gi++]=ol,mi[gi++]=rl,rl=e,ol=t}function fy(e,t,n){St[Et++]=ln,St[Et++]=un,St[Et++]=wa,wa=e;var a=ln;e=un;var i=32-dt(a)-1;a&=~(1<<i),n+=1;var s=32-dt(t)+i;if(30<s){var r=i-i%5;s=(a&(1<<r)-1).toString(32),a>>=r,i-=r,ln=1<<32-dt(t)+i|n<<i|a,un=s+e}else ln=1<<s|n<<i|a,un=e}function fd(e){e.return!==null&&(va(e,1),fy(e,1,0))}function dd(e){for(;e===rl;)rl=mi[--gi],mi[gi]=null,ol=mi[--gi],mi[gi]=null;for(;e===wa;)wa=St[--Et],St[Et]=null,un=St[--Et],St[Et]=null,ln=St[--Et],St[Et]=null}var Xe=null,he=null,Z=!1,Ma=null,jt=!1,yf=Error(w(519));function Oa(e){var t=Error(w(418,""));throw Gs(wt(t,e)),yf}function Ag(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[je]=e,t[tt]=a,n){case"dialog":Q("cancel",t),Q("close",t);break;case"iframe":case"object":case"embed":Q("load",t);break;case"video":case"audio":for(n=0;n<Ys.length;n++)Q(Ys[n],t);break;case"source":Q("error",t);break;case"img":case"image":case"link":Q("error",t),Q("load",t);break;case"details":Q("toggle",t);break;case"input":Q("invalid",t),V0(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),al(t);break;case"select":Q("invalid",t);break;case"textarea":Q("invalid",t),F0(t,a.value,a.defaultValue,a.children),al(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||$b(t.textContent,n)?(a.popover!=null&&(Q("beforetoggle",t),Q("toggle",t)),a.onScroll!=null&&Q("scroll",t),a.onScrollEnd!=null&&Q("scrollend",t),a.onClick!=null&&(t.onclick=jl),t=!0):t=!1,t||Oa(e)}function xg(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:Xe=Xe.return}}function gs(e){if(e!==Xe)return!1;if(!Z)return xg(e),Z=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Vf(e.type,e.memoizedProps)),n=!n),n&&he&&Oa(e),xg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){he=Rt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}he=null}}else t===27?(t=he,Zn(e.type)?(e=$f,$f=null,he=e):he=t):he=Xe?Rt(e.stateNode.nextSibling):null;return!0}function rr(){he=Xe=null,Z=!1}function Og(){var e=Ma;return e!==null&&(et===null?et=e:et.push.apply(et,e),Ma=null),e}function Gs(e){Ma===null?Ma=[e]:Ma.push(e)}var bf=Yt(null),Ba=null,cn=null;function Rn(e,t,n){ce(bf,t._currentValue),t._currentValue=n}function hn(e){e._currentValue=bf.current,Re(bf)}function vf(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Sf(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var r=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var l=0;l<t.length;l++)if(o.context===t[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),vf(s.return,n,e),a||(r=null);break e}s=o.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(w(341));r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),vf(r,n,e),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===e){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function or(e,t,n,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(w(387));if(r=r.memoizedProps,r!==null){var o=i.type;mt(i.pendingProps.value,r.value)||(e!==null?e.push(o):e=[o])}}else if(i===Jo.current){if(r=i.alternate,r===null)throw Error(w(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Zs):e=[Zs])}i=i.return}e!==null&&Sf(t,e,n,a),t.flags|=262144}function ll(e){for(e=e.firstContext;e!==null;){if(!mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _a(e){Ba=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ve(e){return dy(Ba,e)}function Ro(e,t){return Ba===null&&_a(e),dy(e,t)}function dy(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},cn===null){if(e===null)throw Error(w(308));cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cn=cn.next=t;return n}var pC=typeof AbortController!="undefined"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},mC=we.unstable_scheduleCallback,gC=we.unstable_NormalPriority,Ee={$$typeof:on,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new pC,data:new Map,refCount:0}}function lr(e){e.refCount--,e.refCount===0&&mC(gC,function(){e.controller.abort()})}var _s=null,Ef=0,_i=0,Ei=null;function yC(e,t){if(_s===null){var n=_s=[];Ef=0,_i=Pd(),Ei={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Ef++,t.then(_g,_g),t}function _g(){if(--Ef===0&&_s!==null){Ei!==null&&(Ei.status="fulfilled");var e=_s;_s=null,_i=0,Ei=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bC(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Rg=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&yC(e,t),Rg!==null&&Rg(e,t)};var Ca=Yt(null);function pd(){var e=Ca.current;return e!==null?e:se.pooledCache}function Fo(e,t){t===null?ce(Ca,Ca.current):ce(Ca,t.pool)}function hy(){var e=pd();return e===null?null:{parent:Ee._currentValue,pool:e}}var ur=Error(w(460)),py=Error(w(474)),Bl=Error(w(542)),Tf={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Uo(){}function my(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Uo,Uo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ng(e),e;default:if(typeof t.status=="string")t.then(Uo,Uo);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(w(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ng(e),e}throw Rs=t,ur}}var Rs=null;function kg(){if(Rs===null)throw Error(w(459));var e=Rs;return Rs=null,e}function Ng(e){if(e===ur||e===Bl)throw Error(w(483))}var _n=!1;function md(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,te&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=sl(e),uy(e,null,n),t}return Dl(e,a,t,n),sl(e)}function Us(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,z0(e,n)}}function Pc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Mf=!1;function ks(){if(Mf){var e=Ei;if(e!==null)throw e}}function Ns(e,t,n,a){Mf=!1;var i=e.updateQueue;_n=!1;var s=i.firstBaseUpdate,r=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,r===null?s=u:r.next=u,r=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==r&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;r=0,c=u=l=null,o=s;do{var d=o.lane&-536870913,m=d!==o.lane;if(m?(F&d)===d:(a&d)===d){d!==0&&d===_i&&(Mf=!0),c!==null&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var b=e,y=o;d=t;var v=n;switch(y.tag){case 1:if(b=y.payload,typeof b=="function"){f=b.call(v,f,d);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,d=typeof b=="function"?b.call(v,f,d):b,d==null)break e;f=re({},f,d);break e;case 2:_n=!0}}d=o.callback,d!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[d]:m.push(d))}else m={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,r|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,s===null&&(i.shared.lanes=0),Xn|=r,e.lanes=r,e.memoizedState=f}}function gy(e,t){if(typeof e!="function")throw Error(w(191,e));e.call(t)}function yy(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)gy(n[e],t)}var Ri=Yt(null),ul=Yt(0);function Dg(e,t){e=yn,ce(ul,e),ce(Ri,t),yn=e|t.baseLanes}function Cf(){ce(ul,yn),ce(Ri,Ri.current)}function gd(){yn=ul.current,Re(Ri),Re(ul)}var $n=0,L=null,ae=null,ve=null,cl=!1,Ti=!1,Ra=!1,fl=0,Fs=0,wi=null,vC=0;function me(){throw Error(w(321))}function yd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mt(e[n],t[n]))return!1;return!0}function bd(e,t,n,a,i,s){return $n=s,L=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Xy:Iy,Ra=!1,s=n(a,i),Ra=!1,Ti&&(s=vy(t,n,a,i)),by(e),s}function by(e){U.H=dl;var t=ae!==null&&ae.next!==null;if($n=0,ve=ae=L=null,cl=!1,Fs=0,wi=null,t)throw Error(w(300));e===null||_e||(e=e.dependencies,e!==null&&ll(e)&&(_e=!0))}function vy(e,t,n,a){L=e;var i=0;do{if(Ti&&(wi=null),Fs=0,Ti=!1,25<=i)throw Error(w(301));if(i+=1,ve=ae=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}U.H=AC,s=t(n,a)}while(Ti);return s}function SC(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?cr(t):t,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(L.flags|=1024),t}function vd(){var e=fl!==0;return fl=0,e}function Sd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ed(e){if(cl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cl=!1}$n=0,ve=ae=L=null,Ti=!1,Fs=fl=0,wi=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?L.memoizedState=ve=e:ve=ve.next=e,ve}function Se(){if(ae===null){var e=L.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var t=ve===null?L.memoizedState:ve.next;if(t!==null)ve=t,ae=e;else{if(e===null)throw L.alternate===null?Error(w(467)):Error(w(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ve===null?L.memoizedState=ve=e:ve=ve.next=e}return ve}function Td(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cr(e){var t=Fs;return Fs+=1,wi===null&&(wi=[]),e=my(wi,e,t),t=L,(ve===null?t.memoizedState:ve.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Xy:Iy),e}function Pl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cr(e);if(e.$$typeof===on)return Ve(e)}throw Error(w(438,String(e)))}function wd(e){var t=null,n=L.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=L.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Td(),L.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=iM;return t.index++,n}function mn(e,t){return typeof t=="function"?t(e):t}function $o(e){var t=Se();return Md(t,ae,e)}function Md(e,t,n){var a=e.queue;if(a===null)throw Error(w(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var r=i.next;i.next=s.next,s.next=r}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var o=r=null,l=null,u=t,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(F&f)===f:($n&f)===f){var d=u.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===_i&&(c=!0);else if(($n&d)===d){u=u.next,d===_i&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,r=s):l=l.next=f,L.lanes|=d,Xn|=d;f=u.action,Ra&&n(s,f),s=u.hasEagerState?u.eagerState:n(s,f)}else d={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=d,r=s):l=l.next=d,L.lanes|=f,Xn|=f;u=u.next}while(u!==null&&u!==t);if(l===null?r=s:l.next=o,!mt(s,e.memoizedState)&&(_e=!0,c&&(n=Ei,n!==null)))throw n;e.memoizedState=s,e.baseState=r,e.baseQueue=l,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function zc(e){var t=Se(),n=t.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var r=i=i.next;do s=e(s,r.action),r=r.next;while(r!==i);mt(s,t.memoizedState)||(_e=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function Sy(e,t,n){var a=L,i=Se(),s=Z;if(s){if(n===void 0)throw Error(w(407));n=n()}else n=t();var r=!mt((ae||i).memoizedState,n);r&&(i.memoizedState=n,_e=!0),i=i.queue;var o=wy.bind(null,a,i,e);if(fr(2048,8,o,[e]),i.getSnapshot!==t||r||ve!==null&&ve.memoizedState.tag&1){if(a.flags|=2048,Ui(9,zl(),Ty.bind(null,a,i,n,t),null),se===null)throw Error(w(349));s||$n&124||Ey(a,t,n)}return n}function Ey(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=L.updateQueue,t===null?(t=Td(),L.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ty(e,t,n,a){t.value=n,t.getSnapshot=a,My(t)&&Cy(e)}function wy(e,t,n){return n(function(){My(t)&&Cy(e)})}function My(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mt(e,n)}catch(a){return!0}}function Cy(e){var t=qi(e,2);t!==null&&pt(t,e,2)}function Af(e){var t=We();if(typeof e=="function"){var n=e;if(e=n(),Ra){Dn(!0);try{n()}finally{Dn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},t}function Ay(e,t,n,a){return e.baseState=n,Md(e,ae,typeof a=="function"?a:mn)}function EC(e,t,n,a,i){if(Ll(e))throw Error(w(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};U.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,xy(t,s)):(s.next=n.next,t.pending=n.next=s)}}function xy(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=U.T,r={};U.T=r;try{var o=n(i,a),l=U.S;l!==null&&l(r,o),Bg(e,t,o)}catch(u){xf(e,t,u)}finally{U.T=s}}else try{s=n(i,a),Bg(e,t,s)}catch(u){xf(e,t,u)}}function Bg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Pg(e,t,a)},function(a){return xf(e,t,a)}):Pg(e,t,n)}function Pg(e,t,n){t.status="fulfilled",t.value=n,Oy(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,xy(e,n)))}function xf(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Oy(t),t=t.next;while(t!==a)}e.action=null}function Oy(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _y(e,t){return t}function zg(e,t){if(Z){var n=se.formState;if(n!==null){e:{var a=L;if(Z){if(he){t:{for(var i=he,s=jt;i.nodeType!==8;){if(!s){i=null;break t}if(i=Rt(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){he=Rt(i.nextSibling),a=i.data==="F!";break e}}Oa(a)}a=!1}a&&(t=n[0])}}return n=We(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:t},n.queue=a,n=Fy.bind(null,L,a),a.dispatch=n,a=Af(!1),s=Od.bind(null,L,!1,a.queue),a=We(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=EC.bind(null,L,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Lg(e){var t=Se();return Ry(t,ae,e)}function Ry(e,t,n){if(t=Md(e,t,_y)[0],e=$o(mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=cr(t)}catch(r){throw r===ur?Bl:r}else a=t;t=Se();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(L.flags|=2048,Ui(9,zl(),TC.bind(null,i,n),null)),[a,s,e]}function TC(e,t){e.action=t}function qg(e){var t=Se(),n=ae;if(n!==null)return Ry(t,n,e);Se(),t=t.memoizedState,n=Se();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ui(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=L.updateQueue,t===null&&(t=Td(),L.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function zl(){return{destroy:void 0,resource:void 0}}function Uy(){return Se().memoizedState}function Yo(e,t,n,a){var i=We();a=a===void 0?null:a,L.flags|=e,i.memoizedState=Ui(1|t,zl(),n,a)}function fr(e,t,n,a){var i=Se();a=a===void 0?null:a;var s=i.memoizedState.inst;ae!==null&&a!==null&&yd(a,ae.memoizedState.deps)?i.memoizedState=Ui(t,s,n,a):(L.flags|=e,i.memoizedState=Ui(1|t,s,n,a))}function Hg(e,t){Yo(8390656,8,e,t)}function ky(e,t){fr(2048,8,e,t)}function Ny(e,t){return fr(4,2,e,t)}function Dy(e,t){return fr(4,4,e,t)}function By(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Py(e,t,n){n=n!=null?n.concat([e]):null,fr(4,4,By.bind(null,t,e),n)}function Cd(){}function zy(e,t){var n=Se();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&yd(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ly(e,t){var n=Se();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&yd(t,a[1]))return a[0];if(a=e(),Ra){Dn(!0);try{e()}finally{Dn(!1)}}return n.memoizedState=[a,t],a}function Ad(e,t,n){return n===void 0||$n&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Ob(),L.lanes|=e,Xn|=e,n)}function qy(e,t,n,a){return mt(n,t)?n:Ri.current!==null?(e=Ad(e,n,a),mt(e,t)||(_e=!0),e):$n&42?(e=Ob(),L.lanes|=e,Xn|=e,t):(_e=!0,e.memoizedState=n)}function Hy(e,t,n,a,i){var s=K.p;K.p=s!==0&&8>s?s:8;var r=U.T,o={};U.T=o,Od(e,!1,t,n);try{var l=i(),u=U.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=bC(l,a);Ds(e,t,c,ht(e))}else Ds(e,t,a,ht(e))}catch(f){Ds(e,t,{then:function(){},status:"rejected",reason:f},ht())}finally{K.p=s,U.T=r}}function wC(){}function Of(e,t,n,a){if(e.tag!==5)throw Error(w(476));var i=Qy(e).queue;Hy(e,i,t,Ea,n===null?wC:function(){return jy(e),n(a)})}function Qy(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ea,baseState:Ea,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:Ea},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jy(e){var t=Qy(e).next.queue;Ds(e,t,{},ht())}function xd(){return Ve(Zs)}function Vy(){return Se().memoizedState}function Gy(){return Se().memoizedState}function MC(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ht();e=qn(n);var a=Hn(t,e,n);a!==null&&(pt(a,t,n),Us(a,t,n)),t={cache:hd()},e.payload=t;return}t=t.return}}function CC(e,t,n){var a=ht();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ll(e)?$y(t,n):(n=ud(e,t,n,a),n!==null&&(pt(n,e,a),Yy(n,t,a)))}function Fy(e,t,n){var a=ht();Ds(e,t,n,a)}function Ds(e,t,n,a){var i={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ll(e))$y(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,o=s(r,n);if(i.hasEagerState=!0,i.eagerState=o,mt(o,r))return Dl(e,t,i,0),se===null&&Nl(),!1}catch(l){}finally{}if(n=ud(e,t,i,a),n!==null)return pt(n,e,a),Yy(n,t,a),!0}return!1}function Od(e,t,n,a){if(a={lane:2,revertLane:Pd(),action:a,hasEagerState:!1,eagerState:null,next:null},Ll(e)){if(t)throw Error(w(479))}else t=ud(e,n,a,2),t!==null&&pt(t,e,2)}function Ll(e){var t=e.alternate;return e===L||t!==null&&t===L}function $y(e,t){Ti=cl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yy(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,z0(e,n)}}var dl={readContext:Ve,use:Pl,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me},Xy={readContext:Ve,use:Pl,useCallback:function(e,t){return We().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:Hg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Yo(4194308,4,By.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yo(4194308,4,e,t)},useInsertionEffect:function(e,t){Yo(4,2,e,t)},useMemo:function(e,t){var n=We();t=t===void 0?null:t;var a=e();if(Ra){Dn(!0);try{e()}finally{Dn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=We();if(n!==void 0){var i=n(t);if(Ra){Dn(!0);try{n(t)}finally{Dn(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=CC.bind(null,L,e),[a.memoizedState,e]},useRef:function(e){var t=We();return e={current:e},t.memoizedState=e},useState:function(e){e=Af(e);var t=e.queue,n=Fy.bind(null,L,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Cd,useDeferredValue:function(e,t){var n=We();return Ad(n,e,t)},useTransition:function(){var e=Af(!1);return e=Hy.bind(null,L,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=L,i=We();if(Z){if(n===void 0)throw Error(w(407));n=n()}else{if(n=t(),se===null)throw Error(w(349));F&124||Ey(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Hg(wy.bind(null,a,s,e),[e]),a.flags|=2048,Ui(9,zl(),Ty.bind(null,a,s,n,t),null),n},useId:function(){var e=We(),t=se.identifierPrefix;if(Z){var n=un,a=ln;n=(a&~(1<<32-dt(a)-1)).toString(32)+n,t="\xAB"+t+"R"+n,n=fl++,0<n&&(t+="H"+n.toString(32)),t+="\xBB"}else n=vC++,t="\xAB"+t+"r"+n.toString(32)+"\xBB";return e.memoizedState=t},useHostTransitionStatus:xd,useFormState:zg,useActionState:zg,useOptimistic:function(e){var t=We();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Od.bind(null,L,!0,n),n.dispatch=t,[e,t]},useMemoCache:wd,useCacheRefresh:function(){return We().memoizedState=MC.bind(null,L)}},Iy={readContext:Ve,use:Pl,useCallback:zy,useContext:Ve,useEffect:ky,useImperativeHandle:Py,useInsertionEffect:Ny,useLayoutEffect:Dy,useMemo:Ly,useReducer:$o,useRef:Uy,useState:function(){return $o(mn)},useDebugValue:Cd,useDeferredValue:function(e,t){var n=Se();return qy(n,ae.memoizedState,e,t)},useTransition:function(){var e=$o(mn)[0],t=Se().memoizedState;return[typeof e=="boolean"?e:cr(e),t]},useSyncExternalStore:Sy,useId:Vy,useHostTransitionStatus:xd,useFormState:Lg,useActionState:Lg,useOptimistic:function(e,t){var n=Se();return Ay(n,ae,e,t)},useMemoCache:wd,useCacheRefresh:Gy},AC={readContext:Ve,use:Pl,useCallback:zy,useContext:Ve,useEffect:ky,useImperativeHandle:Py,useInsertionEffect:Ny,useLayoutEffect:Dy,useMemo:Ly,useReducer:zc,useRef:Uy,useState:function(){return zc(mn)},useDebugValue:Cd,useDeferredValue:function(e,t){var n=Se();return ae===null?Ad(n,e,t):qy(n,ae.memoizedState,e,t)},useTransition:function(){var e=zc(mn)[0],t=Se().memoizedState;return[typeof e=="boolean"?e:cr(e),t]},useSyncExternalStore:Sy,useId:Vy,useHostTransitionStatus:xd,useFormState:qg,useActionState:qg,useOptimistic:function(e,t){var n=Se();return ae!==null?Ay(n,ae,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:wd,useCacheRefresh:Gy},Mi=null,$s=0;function ko(e){var t=$s;return $s+=1,Mi===null&&(Mi=[]),my(Mi,e,t)}function ys(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function No(e,t){throw t.$$typeof===nM?Error(w(525)):(e=Object.prototype.toString.call(t),Error(w(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qg(e){var t=e._init;return t(e._payload)}function Zy(e){function t(p,h){if(e){var g=p.deletions;g===null?(p.deletions=[h],p.flags|=16):g.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function a(p){for(var h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function i(p,h){return p=dn(p,h),p.index=0,p.sibling=null,p}function s(p,h,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<h?(p.flags|=67108866,h):g):(p.flags|=67108866,h)):(p.flags|=1048576,h)}function r(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function o(p,h,g,E){return h===null||h.tag!==6?(h=Dc(g,p.mode,E),h.return=p,h):(h=i(h,g),h.return=p,h)}function l(p,h,g,E){var M=g.type;return M===ri?c(p,h,g.props.children,E,g.key):h!==null&&(h.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===On&&Qg(M)===h.type)?(h=i(h,g.props),ys(h,g),h.return=p,h):(h=Go(g.type,g.key,g.props,null,p.mode,E),ys(h,g),h.return=p,h)}function u(p,h,g,E){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=Bc(g,p.mode,E),h.return=p,h):(h=i(h,g.children||[]),h.return=p,h)}function c(p,h,g,E,M){return h===null||h.tag!==7?(h=Ta(g,p.mode,E,M),h.return=p,h):(h=i(h,g),h.return=p,h)}function f(p,h,g){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=Dc(""+h,p.mode,g),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case wo:return g=Go(h.type,h.key,h.props,null,p.mode,g),ys(g,h),g.return=p,g;case Ts:return h=Bc(h,p.mode,g),h.return=p,h;case On:var E=h._init;return h=E(h._payload),f(p,h,g)}if(ws(h)||ps(h))return h=Ta(h,p.mode,g,null),h.return=p,h;if(typeof h.then=="function")return f(p,ko(h),g);if(h.$$typeof===on)return f(p,Ro(p,h),g);No(p,h)}return null}function d(p,h,g,E){var M=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return M!==null?null:o(p,h,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case wo:return g.key===M?l(p,h,g,E):null;case Ts:return g.key===M?u(p,h,g,E):null;case On:return M=g._init,g=M(g._payload),d(p,h,g,E)}if(ws(g)||ps(g))return M!==null?null:c(p,h,g,E,null);if(typeof g.then=="function")return d(p,h,ko(g),E);if(g.$$typeof===on)return d(p,h,Ro(p,g),E);No(p,g)}return null}function m(p,h,g,E,M){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return p=p.get(g)||null,o(h,p,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case wo:return p=p.get(E.key===null?g:E.key)||null,l(h,p,E,M);case Ts:return p=p.get(E.key===null?g:E.key)||null,u(h,p,E,M);case On:var O=E._init;return E=O(E._payload),m(p,h,g,E,M)}if(ws(E)||ps(E))return p=p.get(g)||null,c(h,p,E,M,null);if(typeof E.then=="function")return m(p,h,g,ko(E),M);if(E.$$typeof===on)return m(p,h,g,Ro(h,E),M);No(h,E)}return null}function b(p,h,g,E){for(var M=null,O=null,A=h,x=h=0,H=null;A!==null&&x<g.length;x++){A.index>x?(H=A,A=null):H=A.sibling;var R=d(p,A,g[x],E);if(R===null){A===null&&(A=H);break}e&&A&&R.alternate===null&&t(p,A),h=s(R,h,x),O===null?M=R:O.sibling=R,O=R,A=H}if(x===g.length)return n(p,A),Z&&va(p,x),M;if(A===null){for(;x<g.length;x++)A=f(p,g[x],E),A!==null&&(h=s(A,h,x),O===null?M=A:O.sibling=A,O=A);return Z&&va(p,x),M}for(A=a(A);x<g.length;x++)H=m(A,p,x,g[x],E),H!==null&&(e&&H.alternate!==null&&A.delete(H.key===null?x:H.key),h=s(H,h,x),O===null?M=H:O.sibling=H,O=H);return e&&A.forEach(function(S){return t(p,S)}),Z&&va(p,x),M}function y(p,h,g,E){if(g==null)throw Error(w(151));for(var M=null,O=null,A=h,x=h=0,H=null,R=g.next();A!==null&&!R.done;x++,R=g.next()){A.index>x?(H=A,A=null):H=A.sibling;var S=d(p,A,R.value,E);if(S===null){A===null&&(A=H);break}e&&A&&S.alternate===null&&t(p,A),h=s(S,h,x),O===null?M=S:O.sibling=S,O=S,A=H}if(R.done)return n(p,A),Z&&va(p,x),M;if(A===null){for(;!R.done;x++,R=g.next())R=f(p,R.value,E),R!==null&&(h=s(R,h,x),O===null?M=R:O.sibling=R,O=R);return Z&&va(p,x),M}for(A=a(A);!R.done;x++,R=g.next())R=m(A,p,x,R.value,E),R!==null&&(e&&R.alternate!==null&&A.delete(R.key===null?x:R.key),h=s(R,h,x),O===null?M=R:O.sibling=R,O=R);return e&&A.forEach(function(C){return t(p,C)}),Z&&va(p,x),M}function v(p,h,g,E){if(typeof g=="object"&&g!==null&&g.type===ri&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case wo:e:{for(var M=g.key;h!==null;){if(h.key===M){if(M=g.type,M===ri){if(h.tag===7){n(p,h.sibling),E=i(h,g.props.children),E.return=p,p=E;break e}}else if(h.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===On&&Qg(M)===h.type){n(p,h.sibling),E=i(h,g.props),ys(E,g),E.return=p,p=E;break e}n(p,h);break}else t(p,h);h=h.sibling}g.type===ri?(E=Ta(g.props.children,p.mode,E,g.key),E.return=p,p=E):(E=Go(g.type,g.key,g.props,null,p.mode,E),ys(E,g),E.return=p,p=E)}return r(p);case Ts:e:{for(M=g.key;h!==null;){if(h.key===M)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(p,h.sibling),E=i(h,g.children||[]),E.return=p,p=E;break e}else{n(p,h);break}else t(p,h);h=h.sibling}E=Bc(g,p.mode,E),E.return=p,p=E}return r(p);case On:return M=g._init,g=M(g._payload),v(p,h,g,E)}if(ws(g))return b(p,h,g,E);if(ps(g)){if(M=ps(g),typeof M!="function")throw Error(w(150));return g=M.call(g),y(p,h,g,E)}if(typeof g.then=="function")return v(p,h,ko(g),E);if(g.$$typeof===on)return v(p,h,Ro(p,g),E);No(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,h!==null&&h.tag===6?(n(p,h.sibling),E=i(h,g),E.return=p,p=E):(n(p,h),E=Dc(g,p.mode,E),E.return=p,p=E),r(p)):n(p,h)}return function(p,h,g,E){try{$s=0;var M=v(p,h,g,E);return Mi=null,M}catch(A){if(A===ur||A===Bl)throw A;var O=ct(29,A,null,p.mode);return O.lanes=E,O.return=p,O}finally{}}}var ki=Zy(!0),Ky=Zy(!1),Ct=Yt(null),$t=null;function Un(e){var t=e.alternate;ce(Te,Te.current&1),ce(Ct,e),$t===null&&(t===null||Ri.current!==null||t.memoizedState!==null)&&($t=e)}function Wy(e){if(e.tag===22){if(ce(Te,Te.current),ce(Ct,e),$t===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&($t=e)}}else kn(e)}function kn(){ce(Te,Te.current),ce(Ct,Ct.current)}function fn(e){Re(Ct),$t===e&&($t=null),Re(Te)}var Te=Yt(0);function hl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Ff(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Lc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _f={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ht(),i=qn(a);i.payload=t,n!=null&&(i.callback=n),t=Hn(e,i,a),t!==null&&(pt(t,e,a),Us(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ht(),i=qn(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Hn(e,i,a),t!==null&&(pt(t,e,a),Us(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ht(),a=qn(n);a.tag=2,t!=null&&(a.callback=t),t=Hn(e,a,n),t!==null&&(pt(t,e,n),Us(t,e,n))}};function jg(e,t,n,a,i,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,r):t.prototype&&t.prototype.isPureReactComponent?!Vs(n,a)||!Vs(i,s):!0}function Vg(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&_f.enqueueReplaceState(t,t.state,null)}function Ua(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=re({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var pl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Jy(e){pl(e)}function eb(e){console.error(e)}function tb(e){pl(e)}function ml(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Gg(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Rf(e,t,n){return n=qn(n),n.tag=3,n.payload={element:null},n.callback=function(){ml(e,t)},n}function nb(e){return e=qn(e),e.tag=3,e}function ab(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){Gg(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Gg(t,n,a),typeof i!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var o=a.stack;this.componentDidCatch(a.value,{componentStack:o!==null?o:""})})}function xC(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&or(t,n,i,!0),n=Ct.current,n!==null){switch(n.tag){case 13:return $t===null?Lf():n.alternate===null&&pe===0&&(pe=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Tf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Ic(e,a,i)),!1;case 22:return n.flags|=65536,a===Tf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Ic(e,a,i)),!1}throw Error(w(435,n.tag))}return Ic(e,a,i),Lf(),!1}if(Z)return t=Ct.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==yf&&(e=Error(w(422),{cause:a}),Gs(wt(e,n)))):(a!==yf&&(t=Error(w(423),{cause:a}),Gs(wt(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=wt(a,n),i=Rf(e.stateNode,a,i),Pc(e,i),pe!==4&&(pe=2)),!1;var s=Error(w(520),{cause:a});if(s=wt(s,n),zs===null?zs=[s]:zs.push(s),pe!==4&&(pe=2),t===null)return!0;a=wt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=Rf(n.stateNode,a,e),Pc(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Qn===null||!Qn.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=nb(i),ab(i,e,n,a),Pc(n,i),!1}n=n.return}while(n!==null);return!1}var ib=Error(w(461)),_e=!1;function Ne(e,t,n,a){t.child=e===null?Ky(t,null,n,a):ki(t,e.child,n,a)}function Fg(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var r={};for(var o in a)o!=="ref"&&(r[o]=a[o])}else r=a;return _a(t),a=bd(e,t,n,r,s,i),o=vd(),e!==null&&!_e?(Sd(e,t,i),gn(e,t,i)):(Z&&o&&fd(t),t.flags|=1,Ne(e,t,a,i),t.child)}function $g(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!cd(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,sb(e,t,s,a,i)):(e=Go(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!_d(e,i)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:Vs,n(r,a)&&e.ref===t.ref)return gn(e,t,i)}return t.flags|=1,e=dn(s,a),e.ref=t.ref,e.return=t,t.child=e}function sb(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(Vs(s,a)&&e.ref===t.ref)if(_e=!1,t.pendingProps=a=s,_d(e,i))e.flags&131072&&(_e=!0);else return t.lanes=e.lanes,gn(e,t,i)}return Uf(e,t,n,a,i)}function rb(e,t,n){var a=t.pendingProps,i=a.children,s=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if(t.flags&128){if(a=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~a}else t.childLanes=0,t.child=null;return Yg(e,t,a,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fo(t,s!==null?s.cachePool:null),s!==null?Dg(t,s):Cf(),Wy(t);else return t.lanes=t.childLanes=536870912,Yg(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(Fo(t,s.cachePool),Dg(t,s),kn(t),t.memoizedState=null):(e!==null&&Fo(t,null),Cf(),kn(t));return Ne(e,t,i,n),t.child}function Yg(e,t,n,a){var i=pd();return i=i===null?null:{parent:Ee._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Fo(t,null),Cf(),Wy(t),e!==null&&or(e,t,a,!0),null}function Xo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(w(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Uf(e,t,n,a,i){return _a(t),n=bd(e,t,n,a,void 0,i),a=vd(),e!==null&&!_e?(Sd(e,t,i),gn(e,t,i)):(Z&&a&&fd(t),t.flags|=1,Ne(e,t,n,i),t.child)}function Xg(e,t,n,a,i,s){return _a(t),t.updateQueue=null,n=vy(t,a,n,i),by(e),a=vd(),e!==null&&!_e?(Sd(e,t,s),gn(e,t,s)):(Z&&a&&fd(t),t.flags|=1,Ne(e,t,n,s),t.child)}function Ig(e,t,n,a,i){if(_a(t),t.stateNode===null){var s=pi,r=n.contextType;typeof r=="object"&&r!==null&&(s=Ve(r)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=_f,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},md(t),r=n.contextType,s.context=typeof r=="object"&&r!==null?Ve(r):pi,s.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Lc(t,n,r,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&_f.enqueueReplaceState(s,s.state,null),Ns(t,a,s,i),ks(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var o=t.memoizedProps,l=Ua(n,o);s.props=l;var u=s.context,c=n.contextType;r=pi,typeof c=="object"&&c!==null&&(r=Ve(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||u!==r)&&Vg(t,s,a,r),_n=!1;var d=t.memoizedState;s.state=d,Ns(t,a,s,i),ks(),u=t.memoizedState,o||d!==u||_n?(typeof f=="function"&&(Lc(t,n,f,a),u=t.memoizedState),(l=_n||jg(t,n,l,a,d,u,r))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),s.props=a,s.state=u,s.context=r,a=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,wf(e,t),r=t.memoizedProps,c=Ua(n,r),s.props=c,f=t.pendingProps,d=s.context,u=n.contextType,l=pi,typeof u=="object"&&u!==null&&(l=Ve(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==f||d!==l)&&Vg(t,s,a,l),_n=!1,d=t.memoizedState,s.state=d,Ns(t,a,s,i),ks();var m=t.memoizedState;r!==f||d!==m||_n||e!==null&&e.dependencies!==null&&ll(e.dependencies)?(typeof o=="function"&&(Lc(t,n,o,a),m=t.memoizedState),(c=_n||jg(t,n,c,a,d,m,l)||e!==null&&e.dependencies!==null&&ll(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),s.props=a,s.state=m,s.context=l,a=c):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Xo(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,n,i)):Ne(e,t,n,i),t.memoizedState=s.state,e=t.child):e=gn(e,t,i),e}function Zg(e,t,n,a){return rr(),t.flags|=256,Ne(e,t,n,a),t.child}var qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hc(e){return{baseLanes:e,cachePool:hy()}}function Qc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Mt),e}function ob(e,t,n){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),r&&(i=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Z){if(i?Un(t):kn(t),Z){var o=he,l;if(l=o){e:{for(l=o,o=jt;l.nodeType!==8;){if(!o){o=null;break e}if(l=Rt(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(t.memoizedState={dehydrated:o,treeContext:wa!==null?{id:ln,overflow:un}:null,retryLane:536870912,hydrationErrors:null},l=ct(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,Xe=t,he=null,l=!0):l=!1}l||Oa(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Ff(o)?t.lanes=32:t.lanes=536870912,null;fn(t)}return o=a.children,a=a.fallback,i?(kn(t),i=t.mode,o=gl({mode:"hidden",children:o},i),a=Ta(a,i,n,null),o.return=t,a.return=t,o.sibling=a,t.child=o,i=t.child,i.memoizedState=Hc(n),i.childLanes=Qc(e,r,n),t.memoizedState=qc,a):(Un(t),kf(t,o))}if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(s)t.flags&256?(Un(t),t.flags&=-257,t=jc(e,t,n)):t.memoizedState!==null?(kn(t),t.child=e.child,t.flags|=128,t=null):(kn(t),i=a.fallback,o=t.mode,a=gl({mode:"visible",children:a.children},o),i=Ta(i,o,n,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,ki(t,e.child,null,n),a=t.child,a.memoizedState=Hc(n),a.childLanes=Qc(e,r,n),t.memoizedState=qc,t=i);else if(Un(t),Ff(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;r=u,a=Error(w(419)),a.stack="",a.digest=r,Gs({value:a,source:null,stack:null}),t=jc(e,t,n)}else if(_e||or(e,t,n,!1),r=(n&e.childLanes)!==0,_e||r){if(r=se,r!==null&&(a=n&-n,a=a&42?1:Jf(a),a=a&(r.suspendedLanes|n)?0:a,a!==0&&a!==l.retryLane))throw l.retryLane=a,qi(e,a),pt(r,e,a),ib;o.data==="$?"||Lf(),t=jc(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,he=Rt(o.nextSibling),Xe=t,Z=!0,Ma=null,jt=!1,e!==null&&(St[Et++]=ln,St[Et++]=un,St[Et++]=wa,ln=e.id,un=e.overflow,wa=t),t=kf(t,a.children),t.flags|=4096);return t}return i?(kn(t),i=a.fallback,o=t.mode,l=e.child,u=l.sibling,a=dn(l,{mode:"hidden",children:a.children}),a.subtreeFlags=l.subtreeFlags&65011712,u!==null?i=dn(u,i):(i=Ta(i,o,n,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=e.child.memoizedState,o===null?o=Hc(n):(l=o.cachePool,l!==null?(u=Ee._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=hy(),o={baseLanes:o.baseLanes|n,cachePool:l}),i.memoizedState=o,i.childLanes=Qc(e,r,n),t.memoizedState=qc,a):(Un(t),n=e.child,e=n.sibling,n=dn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function kf(e,t){return t=gl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gl(e,t){return e=ct(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function jc(e,t,n){return ki(t,e.child,null,n),e=kf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kg(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),vf(e.return,t,n)}function Vc(e,t,n,a,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=i)}function lb(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;if(Ne(e,t,a.children,n),a=Te.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kg(e,n,t);else if(e.tag===19)Kg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(ce(Te,a),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&hl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vc(t,!0,n,null,s);break;case"together":Vc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,!(n&t.childLanes))if(e!==null){if(or(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(w(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _d(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ll(e)))}function OC(e,t,n){switch(t.tag){case 3:el(t,t.stateNode.containerInfo),Rn(t,Ee,e.memoizedState.cache),rr();break;case 27:case 5:of(t);break;case 4:el(t,t.stateNode.containerInfo);break;case 10:Rn(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Un(t),t.flags|=128,null):n&t.child.childLanes?ob(e,t,n):(Un(t),e=gn(e,t,n),e!==null?e.sibling:null);Un(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(or(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return lb(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(Te,Te.current),a)break;return null;case 22:case 23:return t.lanes=0,rb(e,t,n);case 24:Rn(t,Ee,e.memoizedState.cache)}return gn(e,t,n)}function ub(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)_e=!0;else{if(!_d(e,n)&&!(t.flags&128))return _e=!1,OC(e,t,n);_e=!!(e.flags&131072)}else _e=!1,Z&&t.flags&1048576&&fy(t,ol,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,i=a._init;if(a=i(a._payload),t.type=a,typeof a=="function")cd(a)?(e=Ua(a,e),t.tag=1,t=Ig(null,t,a,e,n)):(t.tag=0,t=Uf(null,t,a,e,n));else{if(a!=null){if(i=a.$$typeof,i===Zf){t.tag=11,t=Fg(null,t,a,e,n);break e}else if(i===Kf){t.tag=14,t=$g(null,t,a,e,n);break e}}throw t=sf(a)||a,Error(w(306,t,""))}}return t;case 0:return Uf(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Ua(a,t.pendingProps),Ig(e,t,a,i,n);case 3:e:{if(el(t,t.stateNode.containerInfo),e===null)throw Error(w(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,wf(e,t),Ns(t,a,null,n);var r=t.memoizedState;if(a=r.cache,Rn(t,Ee,a),a!==s.cache&&Sf(t,[Ee],n,!0),ks(),a=r.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Zg(e,t,a,n);break e}else if(a!==i){i=wt(Error(w(424)),t),Gs(i),t=Zg(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(he=Rt(e.firstChild),Xe=t,Z=!0,Ma=null,jt=!0,n=Ky(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(rr(),a===i){t=gn(e,t,n);break e}Ne(e,t,a,n)}t=t.child}return t;case 26:return Xo(e,t),e===null?(n=g0(t.type,null,t.pendingProps,null))?t.memoizedState=n:Z||(n=t.type,e=t.pendingProps,a=wl(Ln.current).createElement(n),a[je]=t,a[tt]=e,Be(a,n,e),Oe(a),t.stateNode=a):t.memoizedState=g0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return of(t),e===null&&Z&&(a=t.stateNode=Ib(t.type,t.pendingProps,Ln.current),Xe=t,jt=!0,i=he,Zn(t.type)?($f=i,he=Rt(a.firstChild)):he=i),Ne(e,t,t.pendingProps.children,n),Xo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Z&&((i=a=he)&&(a=e3(a,t.type,t.pendingProps,jt),a!==null?(t.stateNode=a,Xe=t,he=Rt(a.firstChild),jt=!1,i=!0):i=!1),i||Oa(t)),of(t),i=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,Vf(i,s)?a=null:r!==null&&Vf(i,r)&&(t.flags|=32),t.memoizedState!==null&&(i=bd(e,t,SC,null,null,n),Zs._currentValue=i),Xo(e,t),Ne(e,t,a,n),t.child;case 6:return e===null&&Z&&((e=n=he)&&(n=t3(n,t.pendingProps,jt),n!==null?(t.stateNode=n,Xe=t,he=null,e=!0):e=!1),e||Oa(t)),null;case 13:return ob(e,t,n);case 4:return el(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ki(t,null,a,n):Ne(e,t,a,n),t.child;case 11:return Fg(e,t,t.type,t.pendingProps,n);case 7:return Ne(e,t,t.pendingProps,n),t.child;case 8:return Ne(e,t,t.pendingProps.children,n),t.child;case 12:return Ne(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Rn(t,t.type,a.value),Ne(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,_a(t),i=Ve(i),a=a(i),t.flags|=1,Ne(e,t,a,n),t.child;case 14:return $g(e,t,t.type,t.pendingProps,n);case 15:return sb(e,t,t.type,t.pendingProps,n);case 19:return lb(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=gl(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=dn(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return rb(e,t,n);case 24:return _a(t),a=Ve(Ee),e===null?(i=pd(),i===null&&(i=se,s=hd(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},md(t),Rn(t,Ee,i)):(e.lanes&n&&(wf(e,t),Ns(t,null,null,n),ks()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Rn(t,Ee,a)):(a=s.cache,Rn(t,Ee,a),a!==i.cache&&Sf(t,[Ee],n,!0))),Ne(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(w(156,t.tag))}function an(e){e.flags|=4}function Wg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Wb(t)){if(t=Ct.current,t!==null&&((F&4194048)===F?$t!==null:(F&62914560)!==F&&!(F&536870912)||t!==$t))throw Rs=Tf,py;e.flags|=8192}}function Do(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?B0():536870912,e.lanes|=t,Ni|=t)}function bs(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function de(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function _C(e,t,n){var a=t.pendingProps;switch(dd(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(t),null;case 1:return de(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),hn(Ee),Ai(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gs(t)?an(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Og())),de(t),null;case 26:return n=t.memoizedState,e===null?(an(t),n!==null?(de(t),Wg(t,n)):(de(t),t.flags&=-16777217)):n?n!==e.memoizedState?(an(t),de(t),Wg(t,n)):(de(t),t.flags&=-16777217):(e.memoizedProps!==a&&an(t),de(t),t.flags&=-16777217),null;case 27:tl(t),n=Ln.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&an(t);else{if(!a){if(t.stateNode===null)throw Error(w(166));return de(t),null}e=Gt.current,gs(t)?Ag(t,e):(e=Ib(i,a,n),t.stateNode=e,an(t))}return de(t),null;case 5:if(tl(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&an(t);else{if(!a){if(t.stateNode===null)throw Error(w(166));return de(t),null}if(e=Gt.current,gs(t))Ag(t,e);else{switch(i=wl(Ln.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?i.createElement(n,{is:a.is}):i.createElement(n)}}e[je]=t,e[tt]=a;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Be(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&an(t)}}return de(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&an(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(w(166));if(e=Ln.current,gs(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Xe,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[je]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||$b(e.nodeValue,n)),e||Oa(t)}else e=wl(e).createTextNode(a),e[je]=t,t.stateNode=e}return de(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=gs(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(w(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(w(317));i[je]=t}else rr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;de(t),i=!1}else i=Og(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(fn(t),t):(fn(t),null)}if(fn(t),t.flags&128)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool);var s=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Do(t,t.updateQueue),de(t),null;case 4:return Ai(),e===null&&zd(t.stateNode.containerInfo),de(t),null;case 10:return hn(t.type),de(t),null;case 19:if(Re(Te),i=t.memoizedState,i===null)return de(t),null;if(a=(t.flags&128)!==0,s=i.rendering,s===null)if(a)bs(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=hl(e),s!==null){for(t.flags|=128,bs(i,!1),e=s.updateQueue,t.updateQueue=e,Do(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)cy(n,e),n=n.sibling;return ce(Te,Te.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ft()>bl&&(t.flags|=128,a=!0,bs(i,!1),t.lanes=4194304)}else{if(!a)if(e=hl(s),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Do(t,e),bs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Z)return de(t),null}else 2*Ft()-i.renderingStartTime>bl&&n!==536870912&&(t.flags|=128,a=!0,bs(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ft(),t.sibling=null,e=Te.current,ce(Te,a?e&1|2:e&1),t):(de(t),null);case 22:case 23:return fn(t),gd(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(de(t),t.subtreeFlags&6&&(t.flags|=8192)):de(t),n=t.updateQueue,n!==null&&Do(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Re(Ca),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),hn(Ee),de(t),null;case 25:return null;case 30:return null}throw Error(w(156,t.tag))}function RC(e,t){switch(dd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(Ee),Ai(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return tl(t),null;case 13:if(fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(w(340));rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Te),null;case 4:return Ai(),null;case 10:return hn(t.type),null;case 22:case 23:return fn(t),gd(),e!==null&&Re(Ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hn(Ee),null;case 25:return null;default:return null}}function cb(e,t){switch(dd(t),t.tag){case 3:hn(Ee),Ai();break;case 26:case 27:case 5:tl(t);break;case 4:Ai();break;case 13:fn(t);break;case 19:Re(Te);break;case 10:hn(t.type);break;case 22:case 23:fn(t),gd(),e!==null&&Re(Ca);break;case 24:hn(Ee)}}function dr(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,r=n.inst;a=s(),r.destroy=a}n=n.next}while(n!==i)}}catch(o){ie(t,t.return,o)}}function Yn(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var r=a.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,i=t;var l=n,u=o;try{u()}catch(c){ie(i,l,c)}}}a=a.next}while(a!==s)}}catch(c){ie(t,t.return,c)}}function fb(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{yy(t,n)}catch(a){ie(e,e.return,a)}}}function db(e,t,n){n.props=Ua(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){ie(e,t,a)}}function Bs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){ie(e,t,i)}}function Vt(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){ie(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){ie(e,t,i)}else n.current=null}function hb(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){ie(e,e.return,i)}}function Gc(e,t,n){try{var a=e.stateNode;IC(a,e.type,n,t),a[tt]=t}catch(i){ie(e,e.return,i)}}function pb(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zn(e.type)||e.tag===4}function Fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nf(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jl));else if(a!==4&&(a===27&&Zn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Nf(e,t,n),e=e.sibling;e!==null;)Nf(e,t,n),e=e.sibling}function yl(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Zn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(yl(e,t,n),e=e.sibling;e!==null;)yl(e,t,n),e=e.sibling}function mb(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Be(t,a,n),t[je]=e,t[tt]=n}catch(s){ie(e,e.return,s)}}var rn=!1,ge=!1,$c=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,xe=null;function UC(e,t){if(e=e.containerInfo,Qf=xl,e=ny(e),od(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(y){n=null;break e}var r=0,o=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=r+i),f!==s||a!==0&&f.nodeType!==3||(l=r+a),f.nodeType===3&&(r+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===e)break t;if(d===n&&++u===i&&(o=r),d===s&&++c===a&&(l=r),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jf={focusedElem:e,selectionRange:n},xl=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){switch(t=xe,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var b=Ua(n.type,i,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(b,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(y){ie(n,n.return,y)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Gf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(w(163))}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}}function gb(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:An(e,n),a&4&&dr(5,n);break;case 1:if(An(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){ie(n,n.return,r)}else{var i=Ua(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){ie(n,n.return,r)}}a&64&&fb(n),a&512&&Bs(n,n.return);break;case 3:if(An(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{yy(e,t)}catch(r){ie(n,n.return,r)}}break;case 27:t===null&&a&4&&mb(n);case 26:case 5:An(e,n),t===null&&a&4&&hb(n),a&512&&Bs(n,n.return);break;case 12:An(e,n);break;case 13:An(e,n),a&4&&vb(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=HC.bind(null,n),n3(e,n))));break;case 22:if(a=n.memoizedState!==null||rn,!a){t=t!==null&&t.memoizedState!==null||ge,i=rn;var s=ge;rn=a,(ge=t)&&!s?xn(e,n,(n.subtreeFlags&8772)!==0):An(e,n),rn=i,ge=s}break;case 30:break;default:An(e,n)}}function yb(e){var t=e.alternate;t!==null&&(e.alternate=null,yb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&td(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,Je=!1;function sn(e,t,n){for(n=n.child;n!==null;)bb(e,t,n),n=n.sibling}function bb(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(tr,n)}catch(s){}switch(n.tag){case 26:ge||Vt(n,t),sn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ge||Vt(n,t);var a=ue,i=Je;Zn(n.type)&&(ue=n.stateNode,Je=!1),sn(e,t,n),qs(n.stateNode),ue=a,Je=i;break;case 5:ge||Vt(n,t);case 6:if(a=ue,i=Je,ue=null,sn(e,t,n),ue=a,Je=i,ue!==null)if(Je)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(n.stateNode)}catch(s){ie(n,t,s)}else try{ue.removeChild(n.stateNode)}catch(s){ie(n,t,s)}break;case 18:ue!==null&&(Je?(e=ue,h0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Js(e)):h0(ue,n.stateNode));break;case 4:a=ue,i=Je,ue=n.stateNode.containerInfo,Je=!0,sn(e,t,n),ue=a,Je=i;break;case 0:case 11:case 14:case 15:ge||Yn(2,n,t),ge||Yn(4,n,t),sn(e,t,n);break;case 1:ge||(Vt(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&db(n,t,a)),sn(e,t,n);break;case 21:sn(e,t,n);break;case 22:ge=(a=ge)||n.memoizedState!==null,sn(e,t,n),ge=a;break;default:sn(e,t,n)}}function vb(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Js(e)}catch(n){ie(t,t.return,n)}}function kC(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jg),t;default:throw Error(w(435,e.tag))}}function Yc(e,t){var n=kC(e);t.forEach(function(a){var i=QC.bind(null,e,a);n.has(a)||(n.add(a),a.then(i,i))})}function ot(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=e,r=t,o=r;e:for(;o!==null;){switch(o.tag){case 27:if(Zn(o.type)){ue=o.stateNode,Je=!1;break e}break;case 5:ue=o.stateNode,Je=!1;break e;case 3:case 4:ue=o.stateNode.containerInfo,Je=!0;break e}o=o.return}if(ue===null)throw Error(w(160));bb(s,r,i),ue=null,Je=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Sb(t,e),t=t.sibling}var _t=null;function Sb(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ot(t,e),lt(e),a&4&&(Yn(3,e,e.return),dr(3,e),Yn(5,e,e.return));break;case 1:ot(t,e),lt(e),a&512&&(ge||n===null||Vt(n,n.return)),a&64&&rn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=_t;if(ot(t,e),lt(e),a&512&&(ge||n===null||Vt(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[ir]||s[je]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),Be(s,a,n),s[je]=e,Oe(s),a=s;break e;case"link":var r=b0("link","href",i).get(a+(n.href||""));if(r){for(var o=0;o<r.length;o++)if(s=r[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(o,1);break t}}s=i.createElement(a),Be(s,a,n),i.head.appendChild(s);break;case"meta":if(r=b0("meta","content",i).get(a+(n.content||""))){for(o=0;o<r.length;o++)if(s=r[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(o,1);break t}}s=i.createElement(a),Be(s,a,n),i.head.appendChild(s);break;default:throw Error(w(468,a))}s[je]=e,Oe(s),a=s}e.stateNode=a}else v0(i,e.type,e.stateNode);else e.stateNode=y0(i,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?v0(i,e.type,e.stateNode):y0(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Gc(e,e.memoizedProps,n.memoizedProps)}break;case 27:ot(t,e),lt(e),a&512&&(ge||n===null||Vt(n,n.return)),n!==null&&a&4&&Gc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ot(t,e),lt(e),a&512&&(ge||n===null||Vt(n,n.return)),e.flags&32){i=e.stateNode;try{Oi(i,"")}catch(m){ie(e,e.return,m)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Gc(e,i,n!==null?n.memoizedProps:i)),a&1024&&($c=!0);break;case 6:if(ot(t,e),lt(e),a&4){if(e.stateNode===null)throw Error(w(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(m){ie(e,e.return,m)}}break;case 3:if(Ko=null,i=_t,_t=Ml(t.containerInfo),ot(t,e),_t=i,lt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Js(t.containerInfo)}catch(m){ie(e,e.return,m)}$c&&($c=!1,Eb(e));break;case 4:a=_t,_t=Ml(e.stateNode.containerInfo),ot(t,e),lt(e),_t=a;break;case 12:ot(t,e),lt(e);break;case 13:ot(t,e),lt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Dd=Ft()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Yc(e,a)));break;case 22:i=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=rn,c=ge;if(rn=u||i,ge=c||l,ot(t,e),ge=c,rn=u,lt(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||l||rn||ge||Sa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(s=l.stateNode,i)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(m){ie(l,l.return,m)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(m){ie(l,l.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Yc(e,n))));break;case 19:ot(t,e),lt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Yc(e,a)));break;case 30:break;case 21:break;default:ot(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(pb(a)){n=a;break}a=a.return}if(n==null)throw Error(w(160));switch(n.tag){case 27:var i=n.stateNode,s=Fc(e);yl(e,s,i);break;case 5:var r=n.stateNode;n.flags&32&&(Oi(r,""),n.flags&=-33);var o=Fc(e);yl(e,o,r);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Fc(e);Nf(e,u,l);break;default:throw Error(w(161))}}catch(c){ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Eb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Eb(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function An(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)gb(e,t.alternate,t),t=t.sibling}function Sa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Yn(4,t,t.return),Sa(t);break;case 1:Vt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&db(t,t.return,n),Sa(t);break;case 27:qs(t.stateNode);case 26:case 5:Vt(t,t.return),Sa(t);break;case 22:t.memoizedState===null&&Sa(t);break;case 30:Sa(t);break;default:Sa(t)}e=e.sibling}}function xn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:xn(i,s,n),dr(4,s);break;case 1:if(xn(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){ie(a,a.return,u)}if(a=s,i=a.updateQueue,i!==null){var o=a.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)gy(l[i],o)}catch(u){ie(a,a.return,u)}}n&&r&64&&fb(s),Bs(s,s.return);break;case 27:mb(s);case 26:case 5:xn(i,s,n),n&&a===null&&r&4&&hb(s),Bs(s,s.return);break;case 12:xn(i,s,n);break;case 13:xn(i,s,n),n&&r&4&&vb(i,s);break;case 22:s.memoizedState===null&&xn(i,s,n),Bs(s,s.return);break;case 30:break;default:xn(i,s,n)}t=t.sibling}}function Rd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&lr(n))}function Ud(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lr(e))}function Qt(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tb(e,t,n,a),t=t.sibling}function Tb(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,n,a),i&2048&&dr(9,t);break;case 1:Qt(e,t,n,a);break;case 3:Qt(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lr(e)));break;case 12:if(i&2048){Qt(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,o=s.onPostCommit;typeof o=="function"&&o(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ie(t,t.return,l)}}else Qt(e,t,n,a);break;case 13:Qt(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?Qt(e,t,n,a):Ps(e,t):s._visibility&2?Qt(e,t,n,a):(s._visibility|=2,ii(e,t,n,a,(t.subtreeFlags&10256)!==0)),i&2048&&Rd(r,t);break;case 24:Qt(e,t,n,a),i&2048&&Ud(t.alternate,t);break;default:Qt(e,t,n,a)}}function ii(e,t,n,a,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,r=t,o=n,l=a,u=r.flags;switch(r.tag){case 0:case 11:case 15:ii(s,r,o,l,i),dr(8,r);break;case 23:break;case 22:var c=r.stateNode;r.memoizedState!==null?c._visibility&2?ii(s,r,o,l,i):Ps(s,r):(c._visibility|=2,ii(s,r,o,l,i)),i&&u&2048&&Rd(r.alternate,r);break;case 24:ii(s,r,o,l,i),i&&u&2048&&Ud(r.alternate,r);break;default:ii(s,r,o,l,i)}t=t.sibling}}function Ps(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Ps(n,a),i&2048&&Rd(a.alternate,a);break;case 24:Ps(n,a),i&2048&&Ud(a.alternate,a);break;default:Ps(n,a)}t=t.sibling}}var Cs=8192;function ti(e){if(e.subtreeFlags&Cs)for(e=e.child;e!==null;)wb(e),e=e.sibling}function wb(e){switch(e.tag){case 26:ti(e),e.flags&Cs&&e.memoizedState!==null&&m3(_t,e.memoizedState,e.memoizedProps);break;case 5:ti(e);break;case 3:case 4:var t=_t;_t=Ml(e.stateNode.containerInfo),ti(e),_t=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Cs,Cs=16777216,ti(e),Cs=t):ti(e));break;default:ti(e)}}function Mb(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function vs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];xe=a,Ab(a,e)}Mb(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cb(e),e=e.sibling}function Cb(e){switch(e.tag){case 0:case 11:case 15:vs(e),e.flags&2048&&Yn(9,e,e.return);break;case 3:vs(e);break;case 12:vs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Io(e)):vs(e);break;default:vs(e)}}function Io(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];xe=a,Ab(a,e)}Mb(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Yn(8,t,t.return),Io(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Io(t));break;default:Io(t)}e=e.sibling}}function Ab(e,t){for(;xe!==null;){var n=xe;switch(n.tag){case 0:case 11:case 15:Yn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:lr(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,xe=a;else e:for(n=e;xe!==null;){a=xe;var i=a.sibling,s=a.return;if(yb(a),a===n){xe=null;break e}if(i!==null){i.return=s,xe=i;break e}xe=s}}}var NC={getCacheForType:function(e){var t=Ve(Ee),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},DC=typeof WeakMap=="function"?WeakMap:Map,te=0,se=null,j=null,F=0,ee=0,ut=null,Pn=!1,Hi=!1,kd=!1,yn=0,pe=0,Xn=0,Aa=0,Nd=0,Mt=0,Ni=0,zs=null,et=null,Df=!1,Dd=0,bl=1/0,vl=null,Qn=null,De=0,jn=null,Di=null,Ci=0,Bf=0,Pf=null,xb=null,Ls=0,zf=null;function ht(){if(te&2&&F!==0)return F&-F;if(U.T!==null){var e=_i;return e!==0?e:Pd()}return L0()}function Ob(){Mt===0&&(Mt=!(F&536870912)||Z?D0():536870912);var e=Ct.current;return e!==null&&(e.flags|=32),Mt}function pt(e,t,n){(e===se&&(ee===2||ee===9)||e.cancelPendingCommit!==null)&&(Bi(e,0),zn(e,F,Mt,!1)),ar(e,n),(!(te&2)||e!==se)&&(e===se&&(!(te&2)&&(Aa|=n),pe===4&&zn(e,F,Mt,!1)),Xt(e))}function _b(e,t,n){if(te&6)throw Error(w(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||nr(e,t),i=a?zC(e,t):Xc(e,t,!0),s=a;do{if(i===0){Hi&&!a&&zn(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!BC(n)){i=Xc(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var o=e;i=zs;var l=o.current.memoizedState.isDehydrated;if(l&&(Bi(o,r).flags|=256),r=Xc(o,r,!1),r!==2){if(kd&&!l){o.errorRecoveryDisabledLanes|=s,Aa|=s,i=4;break e}s=et,et=i,s!==null&&(et===null?et=s:et.push.apply(et,s))}i=r}if(s=!1,i!==2)continue}}if(i===1){Bi(e,0),zn(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(w(345));case 4:if((t&4194048)!==t)break;case 6:zn(a,t,Mt,!Pn);break e;case 2:et=null;break;case 3:case 5:break;default:throw Error(w(329))}if((t&62914560)===t&&(i=Dd+300-Ft(),10<i)){if(zn(a,t,Mt,!Pn),_l(a,0,!0)!==0)break e;a.timeoutHandle=Xb(e0.bind(null,a,n,et,vl,Df,t,Mt,Aa,Ni,Pn,s,2,-0,0),i);break e}e0(a,n,et,vl,Df,t,Mt,Aa,Ni,Pn,s,0,-0,0)}}break}while(1);Xt(e)}function e0(e,t,n,a,i,s,r,o,l,u,c,f,d,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Is={stylesheets:null,count:0,unsuspend:p3},wb(t),f=g3(),f!==null)){e.cancelPendingCommit=f(n0.bind(null,e,t,s,n,a,i,r,o,l,c,1,d,m)),zn(e,s,r,!u);return}n0(e,t,s,n,a,i,r,o,l)}function BC(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!mt(s(),i))return!1}catch(r){return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t,n,a){t&=~Nd,t&=~Aa,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-dt(i),r=1<<s;a[s]=-1,i&=~r}n!==0&&P0(e,n,t)}function ql(){return te&6?!0:(hr(0,!1),!1)}function Bd(){if(j!==null){if(ee===0)var e=j.return;else e=j,cn=Ba=null,Ed(e),Mi=null,$s=0,e=j;for(;e!==null;)cb(e.alternate,e),e=e.return;j=null}}function Bi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,KC(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Bd(),se=e,j=n=dn(e.current,null),F=t,ee=0,ut=null,Pn=!1,Hi=nr(e,t),kd=!1,Ni=Mt=Nd=Aa=Xn=pe=0,et=zs=null,Df=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-dt(a),s=1<<i;t|=e[i],a&=~s}return yn=t,Nl(),n}function Rb(e,t){L=null,U.H=dl,t===ur||t===Bl?(t=kg(),ee=3):t===py?(t=kg(),ee=4):ee=t===ib?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ut=t,j===null&&(pe=1,ml(e,wt(t,e.current)))}function Ub(){var e=U.H;return U.H=dl,e===null?dl:e}function kb(){var e=U.A;return U.A=NC,e}function Lf(){pe=4,Pn||(F&4194048)!==F&&Ct.current!==null||(Hi=!0),!(Xn&134217727)&&!(Aa&134217727)||se===null||zn(se,F,Mt,!1)}function Xc(e,t,n){var a=te;te|=2;var i=Ub(),s=kb();(se!==e||F!==t)&&(vl=null,Bi(e,t)),t=!1;var r=pe;e:do try{if(ee!==0&&j!==null){var o=j,l=ut;switch(ee){case 8:Bd(),r=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(t=!0);var u=ee;if(ee=0,ut=null,yi(e,o,l,u),n&&Hi){r=0;break e}break;default:u=ee,ee=0,ut=null,yi(e,o,l,u)}}PC(),r=pe;break}catch(c){Rb(e,c)}while(1);return t&&e.shellSuspendCounter++,cn=Ba=null,te=a,U.H=i,U.A=s,j===null&&(se=null,F=0,Nl()),r}function PC(){for(;j!==null;)Nb(j)}function zC(e,t){var n=te;te|=2;var a=Ub(),i=kb();se!==e||F!==t?(vl=null,bl=Ft()+500,Bi(e,t)):Hi=nr(e,t);e:do try{if(ee!==0&&j!==null){t=j;var s=ut;t:switch(ee){case 1:ee=0,ut=null,yi(e,t,s,1);break;case 2:case 9:if(Ug(s)){ee=0,ut=null,t0(t);break}t=function(){ee!==2&&ee!==9||se!==e||(ee=7),Xt(e)},s.then(t,t);break e;case 3:ee=7;break e;case 4:ee=5;break e;case 7:Ug(s)?(ee=0,ut=null,t0(t)):(ee=0,ut=null,yi(e,t,s,7));break;case 5:var r=null;switch(j.tag){case 26:r=j.memoizedState;case 5:case 27:var o=j;if(!r||Wb(r)){ee=0,ut=null;var l=o.sibling;if(l!==null)j=l;else{var u=o.return;u!==null?(j=u,Hl(u)):j=null}break t}}ee=0,ut=null,yi(e,t,s,5);break;case 6:ee=0,ut=null,yi(e,t,s,6);break;case 8:Bd(),pe=6;break e;default:throw Error(w(462))}}LC();break}catch(c){Rb(e,c)}while(1);return cn=Ba=null,U.H=a,U.A=i,te=n,j!==null?0:(se=null,F=0,Nl(),pe)}function LC(){for(;j!==null&&!rM();)Nb(j)}function Nb(e){var t=ub(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?Hl(e):j=t}function t0(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xg(n,t,t.pendingProps,t.type,void 0,F);break;case 11:t=Xg(n,t,t.pendingProps,t.type.render,t.ref,F);break;case 5:Ed(t);default:cb(n,t),t=j=cy(t,yn),t=ub(n,t,yn)}e.memoizedProps=e.pendingProps,t===null?Hl(e):j=t}function yi(e,t,n,a){cn=Ba=null,Ed(t),Mi=null,$s=0;var i=t.return;try{if(xC(e,i,t,n,F)){pe=1,ml(e,wt(n,e.current)),j=null;return}}catch(s){if(i!==null)throw j=i,s;pe=1,ml(e,wt(n,e.current)),j=null;return}t.flags&32768?(Z||a===1?e=!0:Hi||F&536870912?e=!1:(Pn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ct.current,a!==null&&a.tag===13&&(a.flags|=16384))),Db(t,e)):Hl(t)}function Hl(e){var t=e;do{if(t.flags&32768){Db(t,Pn);return}e=t.return;var n=_C(t.alternate,t,yn);if(n!==null){j=n;return}if(t=t.sibling,t!==null){j=t;return}j=t=e}while(t!==null);pe===0&&(pe=5)}function Db(e,t){do{var n=RC(e.alternate,e);if(n!==null){n.flags&=32767,j=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){j=e;return}j=e=n}while(e!==null);pe=6,j=null}function n0(e,t,n,a,i,s,r,o,l){e.cancelPendingCommit=null;do Ql();while(De!==0);if(te&6)throw Error(w(327));if(t!==null){if(t===e.current)throw Error(w(177));if(s=t.lanes|t.childLanes,s|=ld,gM(e,n,s,r,o,l),e===se&&(j=se=null,F=0),Di=t,jn=e,Ci=n,Bf=s,Pf=i,xb=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,jC(nl,function(){return qb(!0),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=U.T,U.T=null,i=K.p,K.p=2,r=te,te|=4;try{UC(e,t,n)}finally{te=r,K.p=i,U.T=a}}De=1,Bb(),Pb(),zb()}}function Bb(){if(De===1){De=0;var e=jn,t=Di,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=U.T,U.T=null;var a=K.p;K.p=2;var i=te;te|=4;try{Sb(t,e);var s=jf,r=ny(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(r!==o&&o&&o.ownerDocument&&ty(o.ownerDocument.documentElement,o)){if(l!==null&&od(o)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var m=d.getSelection(),b=o.textContent.length,y=Math.min(l.start,b),v=l.end===void 0?y:Math.min(l.end,b);!m.extend&&y>v&&(r=v,v=y,y=r);var p=wg(o,y),h=wg(o,v);if(p&&h&&(m.rangeCount!==1||m.anchorNode!==p.node||m.anchorOffset!==p.offset||m.focusNode!==h.node||m.focusOffset!==h.offset)){var g=f.createRange();g.setStart(p.node,p.offset),m.removeAllRanges(),y>v?(m.addRange(g),m.extend(h.node,h.offset)):(g.setEnd(h.node,h.offset),m.addRange(g))}}}}for(f=[],m=o;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var E=f[o];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}xl=!!Qf,jf=Qf=null}finally{te=i,K.p=a,U.T=n}}e.current=t,De=2}}function Pb(){if(De===2){De=0;var e=jn,t=Di,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=U.T,U.T=null;var a=K.p;K.p=2;var i=te;te|=4;try{gb(e,t.alternate,t)}finally{te=i,K.p=a,U.T=n}}De=3}}function zb(){if(De===4||De===3){De=0,oM();var e=jn,t=Di,n=Ci,a=xb;t.subtreeFlags&10256||t.flags&10256?De=5:(De=0,Di=jn=null,Lb(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Qn=null),ed(n),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(tr,t,void 0,(t.current.flags&128)===128)}catch(l){}if(a!==null){t=U.T,i=K.p,K.p=2,U.T=null;try{for(var s=e.onRecoverableError,r=0;r<a.length;r++){var o=a[r];s(o.value,{componentStack:o.stack})}}finally{U.T=t,K.p=i}}Ci&3&&Ql(),Xt(e),i=e.pendingLanes,n&4194090&&i&42?e===zf?Ls++:(Ls=0,zf=e):Ls=0,hr(0,!1)}}function Lb(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,lr(t)))}function Ql(e){return Bb(),Pb(),zb(),qb(e)}function qb(){if(De!==5)return!1;var e=jn,t=Bf;Bf=0;var n=ed(Ci),a=U.T,i=K.p;try{K.p=32>n?32:n,U.T=null,n=Pf,Pf=null;var s=jn,r=Ci;if(De=0,Di=jn=null,Ci=0,te&6)throw Error(w(331));var o=te;if(te|=4,Cb(s.current),Tb(s,s.current,r,n),te=o,hr(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(tr,s)}catch(l){}return!0}finally{K.p=i,U.T=a,Lb(e,t)}}function a0(e,t,n){t=wt(n,t),t=Rf(e.stateNode,t,2),e=Hn(e,t,2),e!==null&&(ar(e,2),Xt(e))}function ie(e,t,n){if(e.tag===3)a0(e,e,n);else for(;t!==null;){if(t.tag===3){a0(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Qn===null||!Qn.has(a))){e=wt(n,e),n=nb(2),a=Hn(t,n,2),a!==null&&(ab(n,a,t,e),ar(a,2),Xt(a));break}}t=t.return}}function Ic(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new DC;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(kd=!0,i.add(n),e=qC.bind(null,e,t,n),t.then(e,e))}function qC(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,se===e&&(F&n)===n&&(pe===4||pe===3&&(F&62914560)===F&&300>Ft()-Dd?!(te&2)&&Bi(e,0):Nd|=n,Ni===F&&(Ni=0)),Xt(e)}function Hb(e,t){t===0&&(t=B0()),e=qi(e,t),e!==null&&(ar(e,t),Xt(e))}function HC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hb(e,n)}function QC(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(w(314))}a!==null&&a.delete(t),Hb(e,n)}function jC(e,t){return Wf(e,t)}var Sl=null,si=null,qf=!1,El=!1,Zc=!1,xa=0;function Xt(e){e!==si&&e.next===null&&(si===null?Sl=si=e:si=si.next=e),El=!0,qf||(qf=!0,GC())}function hr(e,t){if(!Zc&&El){Zc=!0;do for(var n=!1,a=Sl;a!==null;){if(!t)if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var r=a.suspendedLanes,o=a.pingedLanes;s=(1<<31-dt(42|e)+1)-1,s&=i&~(r&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,i0(a,s))}else s=F,s=_l(a,a===se?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||nr(a,s)||(n=!0,i0(a,s));a=a.next}while(n);Zc=!1}}function VC(){Qb()}function Qb(){El=qf=!1;var e=0;xa!==0&&(ZC()&&(e=xa),xa=0);for(var t=Ft(),n=null,a=Sl;a!==null;){var i=a.next,s=jb(a,t);s===0?(a.next=null,n===null?Sl=i:n.next=i,i===null&&(si=n)):(n=a,(e!==0||s&3)&&(El=!0)),a=i}hr(e,!1)}function jb(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-dt(s),o=1<<r,l=i[r];l===-1?(!(o&n)||o&a)&&(i[r]=mM(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(t=se,n=F,n=_l(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(ee===2||ee===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&wc(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||nr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&wc(a),ed(n)){case 2:case 8:n=k0;break;case 32:n=nl;break;case 268435456:n=N0;break;default:n=nl}return a=Vb.bind(null,e),n=Wf(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&wc(a),e.callbackPriority=2,e.callbackNode=null,2}function Vb(e,t){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ql(!0)&&e.callbackNode!==n)return null;var a=F;return a=_l(e,e===se?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(_b(e,a,t),jb(e,Ft()),e.callbackNode!=null&&e.callbackNode===n?Vb.bind(null,e):null)}function i0(e,t){if(Ql())return null;_b(e,t,!0)}function GC(){WC(function(){te&6?Wf(U0,VC):Qb()})}function Pd(){return xa===0&&(xa=D0()),xa}function s0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qo(""+e)}function r0(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function FC(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var s=s0((i[tt]||null).action),r=a.submitter;r&&(t=(t=r[tt]||null)?s0(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var o=new Rl("action","action",null,a,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(xa!==0){var l=r?r0(i,r):new FormData(i);Of(n,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=r?r0(i,r):new FormData(i),Of(n,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(Bo=0;Bo<gf.length;Bo++)Po=gf[Bo],o0=Po.toLowerCase(),l0=Po[0].toUpperCase()+Po.slice(1),Ut(o0,"on"+l0);var Po,o0,l0,Bo;Ut(iy,"onAnimationEnd");Ut(sy,"onAnimationIteration");Ut(ry,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(cC,"onTransitionRun");Ut(fC,"onTransitionStart");Ut(dC,"onTransitionCancel");Ut(oy,"onTransitionEnd");xi("onMouseEnter",["mouseout","mouseover"]);xi("onMouseLeave",["mouseout","mouseover"]);xi("onPointerEnter",["pointerout","pointerover"]);xi("onPointerLeave",["pointerout","pointerover"]);ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$C=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ys));function Gb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var o=a[r],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(c){pl(c)}i.currentTarget=null,s=l}else for(r=0;r<a.length;r++){if(o=a[r],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(c){pl(c)}i.currentTarget=null,s=l}}}}function Q(e,t){var n=t[uf];n===void 0&&(n=t[uf]=new Set);var a=e+"__bubble";n.has(a)||(Fb(t,e,2,!1),n.add(a))}function Kc(e,t,n){var a=0;t&&(a|=4),Fb(n,e,a,t)}var zo="_reactListening"+Math.random().toString(36).slice(2);function zd(e){if(!e[zo]){e[zo]=!0,q0.forEach(function(n){n!=="selectionchange"&&($C.has(n)||Kc(n,!1,e),Kc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zo]||(t[zo]=!0,Kc("selectionchange",!1,t))}}function Fb(e,t,n,a){switch(av(t)){case 2:var i=v3;break;case 8:i=S3;break;default:i=Qd}n=i.bind(null,t,n,e),i=void 0,!hf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wc(e,t,n,a,i){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var o=a.stateNode.containerInfo;if(o===i)break;if(r===4)for(r=a.return;r!==null;){var l=r.tag;if((l===3||l===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;o!==null;){if(r=li(o),r===null)return;if(l=r.tag,l===5||l===6||l===26||l===27){a=s=r;continue e}o=o.parentNode}}a=a.return}Y0(function(){var u=s,c=ad(n),f=[];e:{var d=ly.get(e);if(d!==void 0){var m=Rl,b=e;switch(e){case"keypress":if(Vo(n)===0)break e;case"keydown":case"keyup":m=jM;break;case"focusin":b="focus",m=Uc;break;case"focusout":b="blur",m=Uc;break;case"beforeblur":case"afterblur":m=Uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=RM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=FM;break;case iy:case sy:case ry:m=NM;break;case oy:m=YM;break;case"scroll":case"scrollend":m=OM;break;case"wheel":m=IM;break;case"copy":case"cut":case"paste":m=BM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gg;break;case"toggle":case"beforetoggle":m=KM}var y=(t&4)!==0,v=!y&&(e==="scroll"||e==="scrollend"),p=y?d!==null?d+"Capture":null:d;y=[];for(var h=u,g;h!==null;){var E=h;if(g=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||g===null||p===null||(E=Qs(h,p),E!=null&&y.push(Xs(h,E,g))),v)break;h=h.return}0<y.length&&(d=new m(d,b,null,n,c),f.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==df&&(b=n.relatedTarget||n.fromElement)&&(li(b)||b[zi]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?li(b):null,b!==null&&(v=er(b),y=b.tag,b!==v||y!==5&&y!==27&&y!==6)&&(b=null)):(m=null,b=u),m!==b)){if(y=pg,E="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(y=gg,E="onPointerLeave",p="onPointerEnter",h="pointer"),v=m==null?d:Ms(m),g=b==null?d:Ms(b),d=new y(E,h+"leave",m,n,c),d.target=v,d.relatedTarget=g,E=null,li(c)===u&&(y=new y(p,h+"enter",b,n,c),y.target=g,y.relatedTarget=v,E=y),v=E,m&&b)t:{for(y=m,p=b,h=0,g=y;g;g=ni(g))h++;for(g=0,E=p;E;E=ni(E))g++;for(;0<h-g;)y=ni(y),h--;for(;0<g-h;)p=ni(p),g--;for(;h--;){if(y===p||p!==null&&y===p.alternate)break t;y=ni(y),p=ni(p)}y=null}else y=null;m!==null&&u0(f,d,m,y,!1),b!==null&&v!==null&&u0(f,v,b,y,!0)}}e:{if(d=u?Ms(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var M=Sg;else if(vg(d))if(J0)M=oC;else{M=sC;var O=iC}else m=d.nodeName,!m||m.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?u&&nd(u.elementType)&&(M=Sg):M=rC;if(M&&(M=M(e,u))){W0(f,M,n,c);break e}O&&O(e,d,u),e==="focusout"&&u&&d.type==="number"&&u.memoizedProps.value!=null&&ff(d,"number",d.value)}switch(O=u?Ms(u):window,e){case"focusin":(vg(O)||O.contentEditable==="true")&&(fi=O,pf=u,Os=null);break;case"focusout":Os=pf=fi=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,Mg(f,n,c);break;case"selectionchange":if(uC)break;case"keydown":case"keyup":Mg(f,n,c)}var A;if(rd)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ci?Z0(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(I0&&n.locale!=="ko"&&(ci||x!=="onCompositionStart"?x==="onCompositionEnd"&&ci&&(A=X0()):(Bn=c,id="value"in Bn?Bn.value:Bn.textContent,ci=!0)),O=Tl(u,x),0<O.length&&(x=new mg(x,e,null,n,c),f.push({event:x,listeners:O}),A?x.data=A:(A=K0(n),A!==null&&(x.data=A)))),(A=JM?eC(e,n):tC(e,n))&&(x=Tl(u,"onBeforeInput"),0<x.length&&(O=new mg("onBeforeInput","beforeinput",null,n,c),f.push({event:O,listeners:x}),O.data=A)),FC(f,e,u,n,c)}Gb(f,t)})}function Xs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Tl(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Qs(e,n),i!=null&&a.unshift(Xs(e,i,s)),i=Qs(e,t),i!=null&&a.push(Xs(e,i,s))),e.tag===3)return a;e=e.return}return[]}function ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function u0(e,t,n,a,i){for(var s=t._reactName,r=[];n!==null&&n!==a;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===a)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=Qs(n,s),u!=null&&r.unshift(Xs(n,u,l))):i||(u=Qs(n,s),u!=null&&r.push(Xs(n,u,l)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var YC=/\r\n?/g,XC=/\u0000|\uFFFD/g;function c0(e){return(typeof e=="string"?e:""+e).replace(YC,`
`).replace(XC,"")}function $b(e,t){return t=c0(t),c0(e)===t}function jl(){}function ne(e,t,n,a,i,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Oi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Oi(e,""+a);break;case"className":Ao(e,"class",a);break;case"tabIndex":Ao(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ao(e,n,a);break;case"style":$0(e,a,s);break;case"data":if(t!=="object"){Ao(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Qo(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ne(e,t,"name",i.name,i,null),ne(e,t,"formEncType",i.formEncType,i,null),ne(e,t,"formMethod",i.formMethod,i,null),ne(e,t,"formTarget",i.formTarget,i,null)):(ne(e,t,"encType",i.encType,i,null),ne(e,t,"method",i.method,i,null),ne(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Qo(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=jl);break;case"onScroll":a!=null&&Q("scroll",e);break;case"onScrollEnd":a!=null&&Q("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(w(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(w(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Qo(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Q("beforetoggle",e),Q("toggle",e),Ho(e,"popover",a);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ho(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=AM.get(n)||n,Ho(e,n,a))}}function Hf(e,t,n,a,i,s){switch(n){case"style":$0(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(w(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(w(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Oi(e,a):(typeof a=="number"||typeof a=="bigint")&&Oi(e,""+a);break;case"onScroll":a!=null&&Q("scroll",e);break;case"onScrollEnd":a!=null&&Q("scrollend",e);break;case"onClick":a!=null&&(e.onclick=jl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!H0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[tt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Ho(e,n,a)}}}function Be(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Q("error",e),Q("load",e);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var r=n[s];if(r!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(w(137,t));default:ne(e,t,s,r,n,null)}}i&&ne(e,t,"srcSet",n.srcSet,n,null),a&&ne(e,t,"src",n.src,n,null);return;case"input":Q("invalid",e);var o=s=r=i=null,l=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var c=n[a];if(c!=null)switch(a){case"name":i=c;break;case"type":r=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":s=c;break;case"defaultValue":o=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(w(137,t));break;default:ne(e,t,a,c,n,null)}}V0(e,s,o,l,u,r,i,!1),al(e);return;case"select":Q("invalid",e),a=r=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":r=o;break;case"multiple":a=o;default:ne(e,t,i,o,n,null)}t=s,n=r,e.multiple=!!a,t!=null?vi(e,!!a,t,!1):n!=null&&vi(e,!!a,n,!0);return;case"textarea":Q("invalid",e),s=i=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(w(91));break;default:ne(e,t,r,o,n,null)}F0(e,a,i,s),al(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(a=n[l],a!=null))switch(l){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ne(e,t,l,a,n,null)}return;case"dialog":Q("beforetoggle",e),Q("toggle",e),Q("cancel",e),Q("close",e);break;case"iframe":case"object":Q("load",e);break;case"video":case"audio":for(a=0;a<Ys.length;a++)Q(Ys[a],e);break;case"image":Q("error",e),Q("load",e);break;case"details":Q("toggle",e);break;case"embed":case"source":case"link":Q("error",e),Q("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(w(137,t));default:ne(e,t,u,a,n,null)}return;default:if(nd(t)){for(c in n)n.hasOwnProperty(c)&&(a=n[c],a!==void 0&&Hf(e,t,c,a,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(a=n[o],a!=null&&ne(e,t,o,a,n,null))}function IC(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,r=null,o=null,l=null,u=null,c=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=f;default:a.hasOwnProperty(m)||ne(e,t,m,null,a,f)}}for(var d in a){var m=a[d];if(f=n[d],a.hasOwnProperty(d)&&(m!=null||f!=null))switch(d){case"type":s=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":c=m;break;case"value":r=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(w(137,t));break;default:m!==f&&ne(e,t,d,m,a,f)}}cf(e,r,o,l,u,c,s,i);return;case"select":m=r=o=d=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":m=l;default:a.hasOwnProperty(s)||ne(e,t,s,null,a,l)}for(i in a)if(s=a[i],l=n[i],a.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":d=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:s!==l&&ne(e,t,i,s,a,l)}t=o,n=r,a=m,d!=null?vi(e,!!n,d,!1):!!a!=!!n&&(t!=null?vi(e,!!n,t,!0):vi(e,!!n,n?[]:"",!1));return;case"textarea":m=d=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!a.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ne(e,t,o,null,a,i)}for(r in a)if(i=a[r],s=n[r],a.hasOwnProperty(r)&&(i!=null||s!=null))switch(r){case"value":d=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(w(91));break;default:i!==s&&ne(e,t,r,i,a,s)}G0(e,d,m);return;case"option":for(var b in n)if(d=n[b],n.hasOwnProperty(b)&&d!=null&&!a.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:ne(e,t,b,null,a,d)}for(l in a)if(d=a[l],m=n[l],a.hasOwnProperty(l)&&d!==m&&(d!=null||m!=null))switch(l){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ne(e,t,l,d,a,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)d=n[y],n.hasOwnProperty(y)&&d!=null&&!a.hasOwnProperty(y)&&ne(e,t,y,null,a,d);for(u in a)if(d=a[u],m=n[u],a.hasOwnProperty(u)&&d!==m&&(d!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(w(137,t));break;default:ne(e,t,u,d,a,m)}return;default:if(nd(t)){for(var v in n)d=n[v],n.hasOwnProperty(v)&&d!==void 0&&!a.hasOwnProperty(v)&&Hf(e,t,v,void 0,a,d);for(c in a)d=a[c],m=n[c],!a.hasOwnProperty(c)||d===m||d===void 0&&m===void 0||Hf(e,t,c,d,a,m);return}}for(var p in n)d=n[p],n.hasOwnProperty(p)&&d!=null&&!a.hasOwnProperty(p)&&ne(e,t,p,null,a,d);for(f in a)d=a[f],m=n[f],!a.hasOwnProperty(f)||d===m||d==null&&m==null||ne(e,t,f,d,a,m)}var Qf=null,jf=null;function wl(e){return e.nodeType===9?e:e.ownerDocument}function f0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yb(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jc=null;function ZC(){var e=window.event;return e&&e.type==="popstate"?e===Jc?!1:(Jc=e,!0):(Jc=null,!1)}var Xb=typeof setTimeout=="function"?setTimeout:void 0,KC=typeof clearTimeout=="function"?clearTimeout:void 0,d0=typeof Promise=="function"?Promise:void 0,WC=typeof queueMicrotask=="function"?queueMicrotask:typeof d0!="undefined"?function(e){return d0.resolve(null).then(e).catch(JC)}:Xb;function JC(e){setTimeout(function(){throw e})}function Zn(e){return e==="head"}function h0(e,t){var n=t,a=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<a&&8>a){n=a;var r=e.ownerDocument;if(n&1&&qs(r.documentElement),n&2&&qs(r.body),n&4)for(n=r.head,qs(n),r=n.firstChild;r;){var o=r.nextSibling,l=r.nodeName;r[ir]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=o}}if(i===0){e.removeChild(s),Js(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:a=n.charCodeAt(0)-48;else a=0;n=s}while(n);Js(t)}function Gf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Gf(n),td(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function e3(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ir])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Rt(e.nextSibling),e===null)break}return null}function t3(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Rt(e.nextSibling),e===null))return null;return e}function Ff(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function n3(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Rt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var $f=null;function p0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Ib(e,t,n){switch(t=wl(n),e){case"html":if(e=t.documentElement,!e)throw Error(w(452));return e;case"head":if(e=t.head,!e)throw Error(w(453));return e;case"body":if(e=t.body,!e)throw Error(w(454));return e;default:throw Error(w(451))}}function qs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);td(e)}var At=new Map,m0=new Set;function Ml(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bn=K.d;K.d={f:a3,r:i3,D:s3,C:r3,L:o3,m:l3,X:c3,S:u3,M:f3};function a3(){var e=bn.f(),t=ql();return e||t}function i3(e){var t=Li(e);t!==null&&t.tag===5&&t.type==="form"?jy(t):bn.r(e)}var Qi=typeof document=="undefined"?null:document;function Zb(e,t,n){var a=Qi;if(a&&typeof t=="string"&&t){var i=Tt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),m0.has(i)||(m0.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Be(t,"link",e),Oe(t),a.head.appendChild(t)))}}function s3(e){bn.D(e),Zb("dns-prefetch",e,null)}function r3(e,t){bn.C(e,t),Zb("preconnect",e,t)}function o3(e,t,n){bn.L(e,t,n);var a=Qi;if(a&&e&&t){var i='link[rel="preload"][as="'+Tt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Tt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Tt(n.imageSizes)+'"]')):i+='[href="'+Tt(e)+'"]';var s=i;switch(t){case"style":s=Pi(e);break;case"script":s=ji(e)}At.has(s)||(e=re({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),At.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(pr(s))||t==="script"&&a.querySelector(mr(s))||(t=a.createElement("link"),Be(t,"link",e),Oe(t),a.head.appendChild(t)))}}function l3(e,t){bn.m(e,t);var n=Qi;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Tt(a)+'"][href="'+Tt(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ji(e)}if(!At.has(s)&&(e=re({rel:"modulepreload",href:e},t),At.set(s,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(mr(s)))return}a=n.createElement("link"),Be(a,"link",e),Oe(a),n.head.appendChild(a)}}}function u3(e,t,n){bn.S(e,t,n);var a=Qi;if(a&&e){var i=bi(a).hoistableStyles,s=Pi(e);t=t||"default";var r=i.get(s);if(!r){var o={loading:0,preload:null};if(r=a.querySelector(pr(s)))o.loading=5;else{e=re({rel:"stylesheet",href:e,"data-precedence":t},n),(n=At.get(s))&&Ld(e,n);var l=r=a.createElement("link");Oe(l),Be(l,"link",e),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zo(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:o},i.set(s,r)}}}function c3(e,t){bn.X(e,t);var n=Qi;if(n&&e){var a=bi(n).hoistableScripts,i=ji(e),s=a.get(i);s||(s=n.querySelector(mr(i)),s||(e=re({src:e,async:!0},t),(t=At.get(i))&&qd(e,t),s=n.createElement("script"),Oe(s),Be(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function f3(e,t){bn.M(e,t);var n=Qi;if(n&&e){var a=bi(n).hoistableScripts,i=ji(e),s=a.get(i);s||(s=n.querySelector(mr(i)),s||(e=re({src:e,async:!0,type:"module"},t),(t=At.get(i))&&qd(e,t),s=n.createElement("script"),Oe(s),Be(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function g0(e,t,n,a){var i=(i=Ln.current)?Ml(i):null;if(!i)throw Error(w(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Pi(n.href),n=bi(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Pi(n.href);var s=bi(i).hoistableStyles,r=s.get(e);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=i.querySelector(pr(e)))&&!s._p&&(r.instance=s,r.state.loading=5),At.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},At.set(e,n),s||d3(i,e,n,r.state))),t&&a===null)throw Error(w(528,""));return r}if(t&&a!==null)throw Error(w(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ji(n),n=bi(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(w(444,e))}}function Pi(e){return'href="'+Tt(e)+'"'}function pr(e){return'link[rel="stylesheet"]['+e+"]"}function Kb(e){return re({},e,{"data-precedence":e.precedence,precedence:null})}function d3(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Be(t,"link",n),Oe(t),e.head.appendChild(t))}function ji(e){return'[src="'+Tt(e)+'"]'}function mr(e){return"script[async]"+e}function y0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Tt(n.href)+'"]');if(a)return t.instance=a,Oe(a),a;var i=re({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Oe(a),Be(a,"style",i),Zo(a,n.precedence,e),t.instance=a;case"stylesheet":i=Pi(n.href);var s=e.querySelector(pr(i));if(s)return t.state.loading|=4,t.instance=s,Oe(s),s;a=Kb(n),(i=At.get(i))&&Ld(a,i),s=(e.ownerDocument||e).createElement("link"),Oe(s);var r=s;return r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),Be(s,"link",a),t.state.loading|=4,Zo(s,n.precedence,e),t.instance=s;case"script":return s=ji(n.src),(i=e.querySelector(mr(s)))?(t.instance=i,Oe(i),i):(a=n,(i=At.get(s))&&(a=re({},n),qd(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Oe(i),Be(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(w(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Zo(a,n.precedence,e));return t.instance}function Zo(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,r=0;r<a.length;r++){var o=a[r];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ld(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ko=null;function b0(e,t,n){if(Ko===null){var a=new Map,i=Ko=new Map;i.set(n,a)}else i=Ko,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[ir]||s[je]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var o=a.get(r);o?o.push(s):a.set(r,[s])}}return a}function v0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function h3(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wb(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Is=null;function p3(){}function m3(e,t,n){if(Is===null)throw Error(w(475));var a=Is;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=Pi(n.href),s=e.querySelector(pr(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Cl.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=s,Oe(s);return}s=e.ownerDocument||e,n=Kb(n),(i=At.get(i))&&Ld(n,i),s=s.createElement("link"),Oe(s);var r=s;r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),Be(s,"link",n),t.instance=s}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(a.count++,t=Cl.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function g3(){if(Is===null)throw Error(w(475));var e=Is;return e.stylesheets&&e.count===0&&Yf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Yf(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Cl(){if(this.count--,this.count===0){if(this.stylesheets)Yf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Al=null;function Yf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Al=new Map,t.forEach(y3,e),Al=null,Cl.call(e))}function y3(e,t){if(!(t.state.loading&4)){var n=Al.get(e);if(n)var a=n.get(null);else{n=new Map,Al.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var r=i[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}i=t.instance,r=i.getAttribute("data-precedence"),s=n.get(r)||a,s===a&&n.set(null,i),n.set(r,i),this.count++,a=Cl.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Zs={$$typeof:on,Provider:null,Consumer:null,_currentValue:Ea,_currentValue2:Ea,_threadCount:0};function b3(e,t,n,a,i,s,r,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.hiddenUpdates=Mc(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Jb(e,t,n,a,i,s,r,o,l,u,c,f){return e=new b3(e,t,n,r,o,l,u,f),t=1,s===!0&&(t|=24),s=ct(3,null,null,t),e.current=s,s.stateNode=e,t=hd(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},md(s),e}function ev(e){return e?(e=pi,e):pi}function tv(e,t,n,a,i,s){i=ev(i),a.context===null?a.context=i:a.pendingContext=i,a=qn(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=Hn(e,a,t),n!==null&&(pt(n,e,t),Us(n,e,t))}function S0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hd(e,t){S0(e,t),(e=e.alternate)&&S0(e,t)}function nv(e){if(e.tag===13){var t=qi(e,67108864);t!==null&&pt(t,e,67108864),Hd(e,67108864)}}var xl=!0;function v3(e,t,n,a){var i=U.T;U.T=null;var s=K.p;try{K.p=2,Qd(e,t,n,a)}finally{K.p=s,U.T=i}}function S3(e,t,n,a){var i=U.T;U.T=null;var s=K.p;try{K.p=8,Qd(e,t,n,a)}finally{K.p=s,U.T=i}}function Qd(e,t,n,a){if(xl){var i=Xf(a);if(i===null)Wc(e,t,a,Ol,n),E0(e,a);else if(T3(i,e,t,n,a))a.stopPropagation();else if(E0(e,a),t&4&&-1<E3.indexOf(e)){for(;i!==null;){var s=Li(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=ba(s.pendingLanes);if(r!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var l=1<<31-dt(r);o.entanglements[1]|=l,r&=~l}Xt(s),!(te&6)&&(bl=Ft()+500,hr(0,!1))}}break;case 13:o=qi(s,2),o!==null&&pt(o,s,2),ql(),Hd(s,2)}if(s=Xf(a),s===null&&Wc(e,t,a,Ol,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else Wc(e,t,a,null,n)}}function Xf(e){return e=ad(e),jd(e)}var Ol=null;function jd(e){if(Ol=null,e=li(e),e!==null){var t=er(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=x0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ol=e,null}function av(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lM()){case U0:return 2;case k0:return 8;case nl:case uM:return 32;case N0:return 268435456;default:return 32}default:return 32}}var If=!1,Vn=null,Gn=null,Fn=null,Ks=new Map,Ws=new Map,Nn=[],E3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E0(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Ks.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(t.pointerId)}}function Ss(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Li(t),t!==null&&nv(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function T3(e,t,n,a,i){switch(t){case"focusin":return Vn=Ss(Vn,e,t,n,a,i),!0;case"dragenter":return Gn=Ss(Gn,e,t,n,a,i),!0;case"mouseover":return Fn=Ss(Fn,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return Ks.set(s,Ss(Ks.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,Ws.set(s,Ss(Ws.get(s)||null,e,t,n,a,i)),!0}return!1}function iv(e){var t=li(e.target);if(t!==null){var n=er(t);if(n!==null){if(t=n.tag,t===13){if(t=x0(n),t!==null){e.blockedOn=t,yM(e.priority,function(){if(n.tag===13){var a=ht();a=Jf(a);var i=qi(n,a);i!==null&&pt(i,n,a),Hd(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xf(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);df=a,n.target.dispatchEvent(a),df=null}else return t=Li(n),t!==null&&nv(t),e.blockedOn=n,!1;t.shift()}return!0}function T0(e,t,n){Wo(e)&&n.delete(t)}function w3(){If=!1,Vn!==null&&Wo(Vn)&&(Vn=null),Gn!==null&&Wo(Gn)&&(Gn=null),Fn!==null&&Wo(Fn)&&(Fn=null),Ks.forEach(T0),Ws.forEach(T0)}function Lo(e,t){e.blockedOn===t&&(e.blockedOn=null,If||(If=!0,we.unstable_scheduleCallback(we.unstable_NormalPriority,w3)))}var qo=null;function w0(e){qo!==e&&(qo=e,we.unstable_scheduleCallback(we.unstable_NormalPriority,function(){qo===e&&(qo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(jd(a||n)===null)continue;break}var s=Li(n);s!==null&&(e.splice(t,3),t-=3,Of(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Js(e){function t(l){return Lo(l,e)}Vn!==null&&Lo(Vn,e),Gn!==null&&Lo(Gn,e),Fn!==null&&Lo(Fn,e),Ks.forEach(t),Ws.forEach(t);for(var n=0;n<Nn.length;n++){var a=Nn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)iv(n),n.blockedOn===null&&Nn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],r=i[tt]||null;if(typeof s=="function")r||w0(n);else if(r){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,r=s[tt]||null)o=r.formAction;else if(jd(i)!==null)continue}else o=r.action;typeof o=="function"?n[a+1]=o:(n.splice(a,3),a-=3),w0(n)}}}function Vd(e){this._internalRoot=e}Vl.prototype.render=Vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(w(409));var n=t.current,a=ht();tv(n,a,e,t,null,null)};Vl.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tv(e.current,2,null,e,null,null),ql(),t[zi]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=L0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nn.length&&t!==0&&t<Nn[n].priority;n++);Nn.splice(n,0,e),n===0&&iv(e)}};var M0=C0.version;if(M0!=="19.1.0")throw Error(w(527,M0,"19.1.0"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(w(188)):(e=Object.keys(e).join(","),Error(w(268,e)));return e=tM(t),e=e!==null?O0(e):null,e=e===null?null:e.stateNode,e};var M3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Es=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Es.isDisabled&&Es.supportsFiber))try{tr=Es.inject(M3),ft=Es}catch(e){}var Es;Gl.createRoot=function(e,t){if(!A0(e))throw Error(w(299));var n=!1,a="",i=Jy,s=eb,r=tb,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=Jb(e,1,!1,null,null,n,a,i,s,r,o,null),e[zi]=t.current,zd(e),new Vd(t)};Gl.hydrateRoot=function(e,t,n){if(!A0(e))throw Error(w(299));var a=!1,i="",s=Jy,r=eb,o=tb,l=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=Jb(e,1,!0,t,n!=null?n:null,a,i,s,r,o,l,u),t.context=ev(null),n=t.current,a=ht(),a=Jf(a),i=qn(a),i.callback=null,Hn(n,i,a),n=a,t.current.lanes=n,ar(t,n),Xt(t),e[zi]=t.current,zd(e),new Vl(t)};Gl.version="19.1.0"});var Fl=N((CA,ov)=>{"use strict";function rv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rv)}catch(e){console.error(e)}}rv(),ov.exports=sv()});var uv=N($l=>{"use strict";var C3=Symbol.for("react.transitional.element"),A3=Symbol.for("react.fragment");function lv(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:C3,type:e,key:a,ref:t!==void 0?t:null,props:n}}$l.Fragment=A3;$l.jsx=lv;$l.jsxs=lv});var Pa=N((xA,cv)=>{"use strict";cv.exports=uv()});var O3={};Fd(O3,{default:()=>Wl});module.exports=Jl(O3);var $=require("obsidian");var Y=require("obsidian");var eu={googlePlay:"https://play.google.com/store/apps/details?id=app.readaloudai",appleAppStore:"https://apps.apple.com/app/id6743985203"},Fe={PLAYER_WIDTH:270,PLAYER_HEIGHT:170,QUEUE_WIDTH:340,QUEUE_HEIGHT:400,RIGHT_MARGIN:20,BOTTOM_MARGIN:20},Jn={MAX_WORDS:5e3,MAX_CHARACTERS:3e4};var Uv=Yd(),kv=Xd(),Nv=["en-US-AvaMultilingualNeural","en-US-BrianMultilingualNeural","en-US-AndrewNeural","en-US-AriaNeural","en-US-AvaNeural","en-US-ChristopherNeural","en-US-SteffanNeural","en-IE-ConnorNeural","en-GB-RyanNeural","en-GB-SoniaNeural","en-AU-NatashaNeural","en-AU-WilliamNeural"],Id={selectedVoice:"en-US-AvaNeural",customVoice:"",playbackSpeed:1,showNotices:!0,showStatusBarButton:!0,showMenuItems:!0,generateMP3:!1,outputFolder:"Note Narration Audio",embedInNote:!1,replaceSpacesInFilenames:!1,floatingPlayerPosition:null,disablePlaybackControlPopover:!1,enableReplayOption:!0,enableQueueFeature:!0,queueManagerPosition:null,autoPauseOnWindowBlur:!1,chunkSize:9e3,enableExperimentalFeatures:!1,reducedNoticesOnMobile:!0},tu="note",yr=class extends Y.PluginSettingTab{constructor(n,a){super(n,a);this.plugin=a}async display(){let{containerEl:n}=this;n.empty();let a=n.createEl("div",{cls:"edge-tts-info-div"}),i=document.createElement("p"),s=document.createElement("a");s.href="https://tts.travisvn.com",s.text="tts.travisvn.com",i.append("You can sample available voices at "),i.append(s),a.appendChild(i),new Y.Setting(n).setName("Select voice").setDesc("Choose from the top voices.").setClass("default-style").addDropdown(y=>{Nv.forEach(v=>{y.addOption(v,v)}),y.setValue(this.plugin.settings.selectedVoice),y.onChange(async v=>{this.plugin.settings.selectedVoice=v,await this.plugin.saveSettings()})});let r=document.createDocumentFragment(),o=document.createElement("a");if(o.href="https://tts.travisvn.com",o.text="tts.travisvn.com",r.append("(OPTIONAL) Enter custom voice. Visit "),r.append(o),r.append(" for list of options. "),r.append("Leave empty to use the selected voice above."),new Y.Setting(n).setName("Custom voice").setDesc(r).addText(y=>{y.setPlaceholder("e.g., fr-FR-HenriNeural"),y.setValue(this.plugin.settings.customVoice),y.onChange(async v=>{this.plugin.settings.customVoice=v,await this.plugin.saveSettings()})}),new Y.Setting(n).setName("Playback speed").setDesc("Change playback speed multiplier (ex. 0.5 = 0.5x playback speed (50% speed)). Default = 1.0").addSlider(y=>{y.setLimits(.5,2,.1),y.setValue(this.plugin.settings.playbackSpeed),y.onChange(async v=>{this.plugin.settings.playbackSpeed=v,await this.plugin.saveSettings()}),y.setDynamicTooltip(),y.showTooltip()}),new Y.Setting(n).setName("Show notices").setDesc("Toggle notices for processing status and errors.").addToggle(y=>{y.setValue(this.plugin.settings.showNotices),y.onChange(async v=>{this.plugin.settings.showNotices=v,await this.plugin.saveSettings()})}),new Y.Setting(n).setName("Show status bar button").setDesc("Toggle playback button in the status bar.").addToggle(y=>{y.setValue(this.plugin.settings.showStatusBarButton),y.onChange(async v=>{this.plugin.settings.showStatusBarButton=v,await this.plugin.saveSettings(),v?this.plugin.uiManager.initializeStatusBar():this.plugin.uiManager.removeStatusBarButton()})}),new Y.Setting(n).setName("Show file and editor menu items").setDesc("Toggle menu items in the file and editor menus.").addToggle(y=>{y.setValue(this.plugin.settings.showMenuItems),y.onChange(async v=>{this.plugin.settings.showMenuItems=v,await this.plugin.saveSettings(),v?this.plugin.uiManager.addPluginMenuItems():new Y.Notice("Menu items will be removed after the next reload.")})}),new Y.Setting(n).setName("Disable floating playback controls").setDesc("Hide the floating playback control popover during audio playback.").addToggle(y=>{y.setValue(this.plugin.settings.disablePlaybackControlPopover),y.onChange(async v=>{this.plugin.settings.disablePlaybackControlPopover=v,await this.plugin.saveSettings(),new Y.Notice(`Floating playback controls ${v?"disabled":"enabled"}.`)})}),new Y.Setting(n).setName("Enable replay option").setDesc("Keep playback controls open after audio finishes to allow replaying.").addToggle(y=>{y.setValue(this.plugin.settings.enableReplayOption),y.onChange(async v=>{this.plugin.settings.enableReplayOption=v,await this.plugin.saveSettings(),new Y.Notice(`Replay option ${v?"enabled":"disabled"}.`)})}),new Y.Setting(n).setName("Enable queue feature").setDesc("Enable the playback queue functionality including queue manager and queue-related commands.").addToggle(y=>{y.setValue(this.plugin.settings.enableQueueFeature),y.onChange(async v=>{this.plugin.settings.enableQueueFeature=v,await this.plugin.saveSettings(),new Y.Notice(`Queue feature ${v?"enabled":"disabled"}. Restart Obsidian to fully apply changes.`)})}),new Y.Setting(n).setName("Auto-pause on window focus loss").setDesc("Automatically pause playback when Obsidian loses focus and resume when it regains focus.").addToggle(y=>{y.setValue(this.plugin.settings.autoPauseOnWindowBlur),y.onChange(async v=>{this.plugin.settings.autoPauseOnWindowBlur=v,await this.plugin.saveSettings(),new Y.Notice(`Auto-pause on focus loss ${v?"enabled":"disabled"}.`)})}),n.createEl("h3",{text:"Saving .mp3 of narration"}),Y.Platform.isMobile){let y=n.createEl("div",{cls:"edge-tts-info-div"}),v=document.createElement("p");v.style.fontSize="13px",v.style.color="var(--text-muted)",v.innerHTML=`
        <strong>Note:</strong> MP3 file generation is not available on mobile devices due to file system limitations. 
        However, you can still use the audio playback feature to listen to your notes.
      `,y.appendChild(v)}else{let y=n.createEl("div",{cls:"edge-tts-info-div"}),v=document.createElement("p");v.style.fontSize="13px",v.style.color="var(--text-muted)",v.innerHTML=`
        <strong>Note:</strong> For long notes (over ~1500 words or 9000 characters), MP3 generation will automatically use 
        a chunked approach. This splits the text into smaller parts, generates audio for each part, then combines them. 
        A progress indicator will show the status of each chunk during generation.
      `,y.appendChild(v),new Y.Setting(n).setName("Generate MP3 file").setDesc('Enable option to select "Generate MP3" in the file and editor menus.').addToggle(p=>{p.setValue(this.plugin.settings.generateMP3),p.onChange(async h=>{this.plugin.settings.generateMP3=h,await this.plugin.saveSettings(),h||new Y.Notice("Menu items will be removed after the next reload.")})}),new Y.Setting(n).setName("Output folder").setDesc("Specify the folder to save generated MP3 files.").addText(p=>{p.setPlaceholder("e.g., Note Narration Audio").setValue(this.plugin.settings.outputFolder).onChange(async h=>{this.plugin.settings.outputFolder=h.trim(),await this.plugin.saveSettings()})}),new Y.Setting(n).setName("Embed MP3 in note").setDesc("Embed a link to the generated MP3 file in the note.").addToggle(p=>{p.setValue(this.plugin.settings.embedInNote),p.onChange(async h=>{this.plugin.settings.embedInNote=h,await this.plugin.saveSettings()})}),new Y.Setting(n).setName("Replace spaces in filenames").setDesc("Replaces spaces in mp3 file name with underscores (used for system compatibility).").addToggle(p=>{p.setValue(this.plugin.settings.replaceSpacesInFilenames),p.onChange(async h=>{this.plugin.settings.replaceSpacesInFilenames=h,await this.plugin.saveSettings()})})}let l=n.createDiv({cls:"edge-tts-mobile-app-section"});l.createEl("h3",{text:"\u{1F4F1} Mobile support"}),l.createEl("p",{text:"Create audio narration for your Obsidian notes using our free mobile app."});let u=l.createDiv({cls:"edge-tts-app-store-buttons"}),c=u.createEl("a",{cls:"edge-tts-app-store-button",href:eu.googlePlay,attr:{target:"_blank",rel:"noopener"}});c.innerHTML=Uv;let f=c.querySelector("svg");f&&f.addClass("edge-tts-app-store-icon"),c.createSpan({text:"Google Play"});let d=u.createEl("a",{cls:"edge-tts-app-store-button",href:eu.appleAppStore,attr:{target:"_blank",rel:"noopener"}});d.innerHTML=kv;let m=d.querySelector("svg");m&&m.addClass("edge-tts-app-store-icon"),d.createSpan({text:"App Store"});let b=n.createEl("div",{cls:"edge-tts-star-section"});b.createEl("p",{text:"Please star this project on GitHub if you find it useful \u2B50\uFE0F",cls:"edge-tts-star-message"}),b.createEl("a",{text:"GitHub: Edge TTS Plugin",href:"https://github.com/travisvn/obsidian-edge-tts",cls:"external-link",attr:{target:"_blank",rel:"noopener"}}),n.createEl("h3",{text:"Advanced settings"}),new Y.Setting(n).setName("Enable experimental features").setDesc("Enable access to experimental features that may not be fully stable. These features are gated behind this toggle for safety.").addToggle(y=>{y.setValue(this.plugin.settings.enableExperimentalFeatures),y.onChange(async v=>{this.plugin.settings.enableExperimentalFeatures=v,await this.plugin.saveSettings(),new Y.Notice(`Experimental features ${v?"enabled":"disabled"}.`)})}),Y.Platform.isMobile&&new Y.Setting(n).setName("Reduced notices on mobile").setDesc("Show fewer notification popups on mobile devices to reduce screen clutter. Disable this for more verbose feedback.").addToggle(y=>{y.setValue(this.plugin.settings.reducedNoticesOnMobile),y.onChange(async v=>{this.plugin.settings.reducedNoticesOnMobile=v,await this.plugin.saveSettings(),new Y.Notice(`Mobile notices ${v?"reduced":"verbose"}.`)})}),n.createEl("h3",{text:"Extra settings"}),new Y.Setting(n).setName("Chunk size for long notes").setDesc("Maximum characters per chunk when generating MP3 for long notes. Smaller chunks may be more reliable but take longer. Default: 9000").addSlider(y=>{y.setLimits(5e3,15e3,1e3),y.setValue(this.plugin.settings.chunkSize),y.onChange(async v=>{this.plugin.settings.chunkSize=v,await this.plugin.saveSettings()}),y.setDynamicTooltip(),y.showTooltip()})}};var q=require("obsidian");var Am=require("obsidian"),Aw=Am.Platform.isMobile,W2=!Aw&&typeof window!="undefined"&&window.require,fo;typeof Buffer=="undefined"&&typeof window!="undefined"&&(fo={from:e=>e instanceof ArrayBuffer?new Uint8Array(e):e instanceof Uint8Array?e:typeof e=="string"?new TextEncoder().encode(e):new Uint8Array(0),concat:e=>{let t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t),a=0;for(let i of e)n.set(i,a),a+=i.length;return n}},globalThis.Buffer=fo);var Pt;try{try{Pt=uh(),console.log("Loaded edge-tts-universal/browser (Node.js-free)")}catch(e){console.warn("Could not load 'edge-tts-universal/browser', trying isomorphic fallback.",e);try{Pt=pp(),console.log("Loaded edge-tts-universal/isomorphic as fallback")}catch(t){console.warn("Could not load 'edge-tts-universal/isomorphic', falling back to main entry point.",t),Pt=Cm(),console.log("Loaded edge-tts-universal main entry point as final fallback")}}}catch(e){console.error("Failed to import edge-tts-universal package:",e),Pt=null}var Wt=(Pt==null?void 0:Pt.OUTPUT_FORMAT)||{AUDIO_24KHZ_48KBITRATE_MONO_MP3:"audio-24khz-48kbitrate-mono-mp3",WEBM_24KHZ_16BIT_MONO_OPUS:"webm-24khz-16bit-mono-opus"};function xw(e){let t={};if(e!==void 0){let n=Math.round((e-1)*100);n!==0&&(t.rate=n>0?`+${n}%`:`${n}%`)}return t}var Kt=class{constructor(){if(!Pt)throw new Error("edge-tts-universal package not available");if(this.CommunicateClass=Pt.Communicate||Pt.IsomorphicCommunicate,!this.CommunicateClass)throw new Error("No suitable Communicate class found in the loaded edge-tts-universal package. Expected Communicate or IsomorphicCommunicate.")}async setMetadata(t,n){this.currentVoice=t,this.currentFormat=n}toStream(t,n){if(!this.CommunicateClass)throw new Error("TTS client not initialized");let a={};if(n&&typeof n.rate=="number"){let i=xw(n.rate);a.rate=i.rate}try{let i={voice:this.currentVoice};a.rate&&(i.rate=a.rate),a.pitch&&(i.pitch=a.pitch),a.volume&&(i.volume=a.volume);let s;try{s=new this.CommunicateClass(t,i)}catch(l){console.warn("Failed to create Communicate with prosody options, trying with voice only:",l);let u={voice:this.currentVoice};s=new this.CommunicateClass(t,u)}let r=s.stream();return{listeners:new Map,on(l,u){this.listeners.has(l)||this.listeners.set(l,[]),this.listeners.get(l).push(u),l==="data"&&!this.isConsuming&&this.consumeAsyncGenerator()},emit(l,...u){(this.listeners.get(l)||[]).forEach(f=>f(...u))},isConsuming:!1,async consumeAsyncGenerator(){this.isConsuming=!0;try{for await(let l of r)if(l.type==="audio"&&l.data){let u;l.data instanceof Uint8Array?u=l.data:l.data instanceof ArrayBuffer?u=new Uint8Array(l.data):typeof Buffer!="undefined"&&Buffer.isBuffer&&Buffer.isBuffer(l.data)?u=new Uint8Array(l.data):fo&&typeof l.data=="object"?u=fo.from(l.data):(console.warn("Unexpected audio data type:",typeof l.data,l.data),u=new Uint8Array(0)),this.emit("data",u)}this.emit("end")}catch(l){console.error("TTS stream: error consuming generator:",l),this.emit("error",l)}}}}catch(i){throw console.error("Error creating TTS stream:",i),new Error(`Failed to create TTS stream: ${i instanceof Error?i.message:"Unknown error"}`)}}};var xm=require("obsidian");function zt(e){let t=/^(---|\.\.\.)([\s\S]*?)\1\n?/;return e.replace(t,"").trim()}function Ow(e){return e.replace(/>=/g,"\u2265").replace(/<=/g,"\u2264")}function Lt(e,t=!1){let s=e.replace(/^-{3}[\s\S]*?-{3}\n?/,"").replace(/https?:\/\/[^\s]+/g,"").replace(/```[\s\S]*?```/g,"").replace(/(\*\*|__)(.*?)\1/g,"$2").replace(/(\*|_)(.*?)\1/g,"$2").replace(/`([^`]*)`/g,"$1").replace(/~~(.*?)~~/g,"$1").replace(/^[#*-]+\s*/gm,"").replace(/^[\-\+\*]\s+/gm,"").replace(/^\d+\.\s+/gm,"").replace(/^>\s+/gm,"").replace(/^[-*]{3,}\s*$/gm,"");return s=Ow(s),s=s.replace(/<([^>\s]+)[^>]*>/g,""),s=s.trim(),s}function Jt(e){let t=e.trim(),n=t.split(/\s+/).filter(b=>b.length>0),a=n.length,i=t.length,s=a>Jn.MAX_WORDS,r=i>Jn.MAX_CHARACTERS;if(!s&&!r)return{content:t,wasTruncated:!1,originalWordCount:a,originalCharCount:i,finalWordCount:a,finalCharCount:i};let o=a/Jn.MAX_WORDS,l=i/Jn.MAX_CHARACTERS,u=o>l?"words":"characters",c;if(u==="words"){let b=Jn.MAX_WORDS-10;c=n.slice(0,b).join(" ")}else{let b=Jn.MAX_CHARACTERS-50;c=t.substring(0,b)}c=_w(c);let d=c.split(/\s+/).filter(b=>b.length>0).length,m=c.length;return{content:c,wasTruncated:!0,originalWordCount:a,originalCharCount:i,finalWordCount:d,finalCharCount:m,truncationReason:u}}function _w(e){let t=/[.!?]\s+/g,n=Array.from(e.matchAll(t));if(n.length>0){let r=n[n.length-1],o=r.index+r[0].length-1;return e.substring(0,o)}let a=/\n\s*\n/g,i=Array.from(e.matchAll(a));if(i.length>0){let r=i[i.length-1];return e.substring(0,r.index)}let s=e.lastIndexOf(" ");return s>e.length*.8?e.substring(0,s):e}function ma(e){return!(!e.showNotices||xm.Platform.isMobile&&e.reducedNoticesOnMobile)}var lc=class{constructor(){}},ho=class{constructor(t,n,a,i,s,r,o){this.isPaused=!1;this.currentPlaybackId=0;this.wasPlayingBeforeBlur=!1;this.playbackQueue=[];this.currentQueueIndex=-1;this.isPlayingFromQueue=!1;this.loopEnabled=!1;this.sleepTimerTimeout=null;this.sleepTimerMinutes=0;this.mediaSource=null;this.sourceBuffer=null;this.completeMp3BufferArray=[];this.mseAudioQueue=[];this.isAppendingBuffer=!1;this.isStreamingWithMSE=!1;this.isSwitchingToFullFile=!1;this.streamedPlaybackTimeBeforeSwitch=0;this.mediaSessionSupported=!1;this.settings=t,this.updateStatusBarCallback=n,this.showFloatingPlayerCallback=a,this.hideFloatingPlayerCallback=i,this.updateFloatingPlayerCallback=s,this.fileManager=r,this.app=o,this.audioElement=new Audio,this.audioElement.preload="auto",this.setupAudioEventListeners(),this.setupAutoPauseListeners(),this.initializeMediaSession()}setupAudioEventListeners(){this.audioElement.onloadedmetadata=()=>{if(!(this.isStreamingWithMSE&&!this.isSwitchingToFullFile)){if(this.isSwitchingToFullFile){this.audioElement.currentTime=this.streamedPlaybackTimeBeforeSwitch,this.isSwitchingToFullFile=!1,this.isPaused||this.audioElement.play().catch(t=>console.error("Error playing after source switch:",t)),this.updateFloatingPlayerCallback({currentTime:this.audioElement.currentTime,duration:this.audioElement.duration,isPlaying:!this.audioElement.paused,isLoading:!1});return}this.updateFloatingPlayerCallback({currentTime:this.audioElement.currentTime,duration:this.audioElement.duration,isPlaying:!this.audioElement.paused,isLoading:!1}),this.updateMediaSessionMetadata(this.getCurrentAudioTitle(),this.audioElement.duration)}},this.audioElement.ontimeupdate=()=>{var t;this.settings.disablePlaybackControlPopover||this.updateFloatingPlayerCallback({currentTime:this.audioElement.currentTime,duration:this.isStreamingWithMSE&&!((t=this.mediaSource)!=null&&t.duration)?1/0:this.audioElement.duration,isPlaying:!this.audioElement.paused,isLoading:!1}),this.updateMediaSessionPosition()},this.audioElement.onended=()=>{if(this.isStreamingWithMSE&&this.mediaSource&&this.mediaSource.readyState==="ended"){console.log("MSE stream ended."),this.settings.enableReplayOption&&!this.settings.disablePlaybackControlPopover?(this.isPaused=!0,this.updateFloatingPlayerCallback({currentTime:this.audioElement.currentTime,duration:this.audioElement.duration,isPlaying:!1,isLoading:!1})):(this.resetPlaybackStateAndHidePlayer(),this.updateStatusBarCallback(!1));return}if(ma(this.settings)&&new q.Notice("Finished reading aloud."),this.isPlayingFromQueue){setTimeout(()=>this.playNextInQueue(),1e3);return}this.settings.enableReplayOption&&!this.settings.disablePlaybackControlPopover?(this.isPaused=!0,this.updateStatusBarCallback(!1),this.settings.disablePlaybackControlPopover||this.updateFloatingPlayerCallback({currentTime:this.audioElement.duration,duration:this.audioElement.duration,isPlaying:!1,isLoading:!1})):(this.resetPlaybackStateAndHidePlayer(),this.updateStatusBarCallback(!1))},this.audioElement.onpause=()=>{var t;this.isPaused=!0,this.updateStatusBarCallback(!0),this.settings.disablePlaybackControlPopover||this.updateFloatingPlayerCallback({currentTime:this.audioElement.currentTime,duration:this.isStreamingWithMSE&&!((t=this.mediaSource)!=null&&t.duration)?1/0:this.audioElement.duration,isPlaying:!1,isLoading:!1}),this.mediaSessionSupported&&navigator.mediaSession&&(navigator.mediaSession.playbackState="paused")},this.audioElement.onplay=()=>{var t;this.isPaused=!1,this.updateStatusBarCallback(!0),this.settings.disablePlaybackControlPopover||this.updateFloatingPlayerCallback({currentTime:this.audioElement.currentTime,duration:this.isStreamingWithMSE&&!((t=this.mediaSource)!=null&&t.duration)?1/0:this.audioElement.duration,isPlaying:!0,isLoading:!1}),this.mediaSessionSupported&&navigator.mediaSession&&(navigator.mediaSession.playbackState="playing",this.isAndroid()?(this.setupMediaSessionHandlers(),setTimeout(()=>{this.updateMediaSessionMetadata(this.getCurrentAudioTitle(),this.audioElement.duration)},300)):setTimeout(()=>{this.updateMediaSessionMetadata(this.getCurrentAudioTitle(),this.audioElement.duration)},100))}}setupAutoPauseListeners(){window.addEventListener("blur",()=>{this.settings.autoPauseOnWindowBlur&&!this.audioElement.paused&&(this.wasPlayingBeforeBlur=!0,this.pausePlayback())}),window.addEventListener("focus",()=>{this.settings.autoPauseOnWindowBlur&&this.wasPlayingBeforeBlur&&this.audioElement.paused&&(this.wasPlayingBeforeBlur=!1,this.resumePlayback())})}initializeMediaSession(){if(!this.settings.enableExperimentalFeatures){console.log("Media Session: Experimental features disabled");return}typeof window!="undefined"&&"mediaSession"in navigator?(this.mediaSessionSupported=!0,console.log("Media Session: API supported, setting up handlers"),this.isAndroid()?(console.log("Media Session: Android detected, using delayed initialization"),setTimeout(()=>{this.setupMediaSessionHandlers()},500)):this.setupMediaSessionHandlers()):console.log("Media Session: API not supported in this browser")}setupMediaSessionHandlers(){if(!(!this.mediaSessionSupported||!navigator.mediaSession))try{navigator.mediaSession.setActionHandler("play",()=>{this.resumePlayback()}),navigator.mediaSession.setActionHandler("pause",()=>{this.pausePlayback()}),navigator.mediaSession.setActionHandler("stop",()=>{this.stopPlayback()}),navigator.mediaSession.setActionHandler("seekbackward",t=>{let n=t.seekOffset||10;this.jumpBackward(n)}),navigator.mediaSession.setActionHandler("seekforward",t=>{let n=t.seekOffset||10;this.jumpForward(n)}),navigator.mediaSession.setActionHandler("seekto",t=>{t.seekTime!==void 0&&this.seekPlayback(t.seekTime)}),this.settings.enableQueueFeature&&(navigator.mediaSession.setActionHandler("previoustrack",()=>{this.isPlayingFromQueue&&this.currentQueueIndex>0&&this.playQueueItem(this.currentQueueIndex-1)}),navigator.mediaSession.setActionHandler("nexttrack",()=>{this.isPlayingFromQueue&&this.currentQueueIndex<this.playbackQueue.length-1&&this.playQueueItem(this.currentQueueIndex+1)}))}catch(t){console.warn("Failed to set up Media Session handlers:",t)}}updateMediaSessionMetadata(t,n){if(!(!this.mediaSessionSupported||!navigator.mediaSession))try{let a={title:t||"Edge TTS Audio",artist:"Obsidian Edge TTS",album:"Text-to-Speech"};if(this.isPlayingFromQueue&&this.playbackQueue.length>0){let s=` (${this.currentQueueIndex+1}/${this.playbackQueue.length})`;a.title=(t||"Queue Item")+s}console.log("Media Session: Setting metadata:",a),navigator.mediaSession.metadata=new MediaMetadata(a);let i=this.audioElement.paused?"paused":"playing";console.log("Media Session: Setting playback state:",i),navigator.mediaSession.playbackState=i,n&&n!==1/0&&(console.log("Media Session: Setting position state:",{duration:n,position:this.audioElement.currentTime}),this.isAndroid()?setTimeout(()=>{var s;try{(s=navigator.mediaSession)==null||s.setPositionState({duration:n,playbackRate:this.audioElement.playbackRate,position:this.audioElement.currentTime})}catch(r){console.warn("Android position state failed:",r)}},100):navigator.mediaSession.setPositionState({duration:n,playbackRate:this.audioElement.playbackRate,position:this.audioElement.currentTime}))}catch(a){console.warn("Failed to update Media Session metadata:",a)}}updateMediaSessionPosition(){if(!(!this.mediaSessionSupported||!navigator.mediaSession))try{let t=this.audioElement.duration;t&&t!==1/0&&!isNaN(t)&&navigator.mediaSession.setPositionState({duration:t,playbackRate:this.audioElement.playbackRate,position:this.audioElement.currentTime})}catch(t){}}clearMediaSession(){if(!(!this.mediaSessionSupported||!navigator.mediaSession))try{navigator.mediaSession.metadata=null,navigator.mediaSession.playbackState="none"}catch(t){console.warn("Failed to clear Media Session:",t)}}getCurrentAudioTitle(){return this.isPlayingFromQueue&&this.currentQueueIndex>=0&&this.playbackQueue[this.currentQueueIndex]?this.playbackQueue[this.currentQueueIndex].title||"Queue Item":"Edge TTS Audio"}isAndroid(){return/Android/i.test(navigator.userAgent)}appendNextChunkToSourceBuffer(){if(this.isAppendingBuffer||!this.sourceBuffer||this.sourceBuffer.updating||this.mseAudioQueue.length===0)return;if(this.mediaSource&&this.mediaSource.readyState==="ended"){this.isAppendingBuffer=!1;return}this.isAppendingBuffer=!0;let t=this.mseAudioQueue.shift();try{this.sourceBuffer.appendBuffer(t)}catch(n){if(console.error("Error appending buffer:",n),n.name==="QuotaExceededError"){console.warn("MSE QuotaExceededError. Playback might be affected."),this.isAppendingBuffer=!1,this.stopPlaybackInternal(),this.settings.showNotices&&new q.Notice("Audio buffer limit reached. Playback stopped.");return}this.isAppendingBuffer=!1}}isMSESupported(){return typeof window!="undefined"&&"MediaSource"in window&&typeof MediaSource!="undefined"&&MediaSource.isTypeSupported&&MediaSource.isTypeSupported("audio/mpeg")}async startPlayback(t){this.stopPlaybackInternal(),this.currentPlaybackId++;let n=this.currentPlaybackId,a=this.isMSESupported();if(this.isStreamingWithMSE=a,this.isPaused=!1,this.completeMp3BufferArray=[],this.mseAudioQueue=[],this.isAppendingBuffer=!1,this.settings.disablePlaybackControlPopover||this.showFloatingPlayerCallback({currentTime:0,duration:a?1/0:0,isPlaying:!1,isLoading:!0}),!t.trim()){ma(this.settings)&&new q.Notice("No text selected or available."),this.settings.disablePlaybackControlPopover||this.hideFloatingPlayerCallback(),this.isStreamingWithMSE=!1;return}let i=Lt(zt(t));if(!i.trim()){this.settings.showNotices&&new q.Notice("No readable text after filtering."),this.settings.disablePlaybackControlPopover||this.hideFloatingPlayerCallback(),this.isStreamingWithMSE=!1;return}a?await this.startMSEPlayback(i,n):await this.startFallbackPlayback(i,n)}async startMSEPlayback(t,n){this.mediaSource=new MediaSource,this.audioElement.src=URL.createObjectURL(this.mediaSource),this.mediaSource.addEventListener("sourceopen",()=>{if(!(this.currentPlaybackId!==n||!this.mediaSource)){URL.revokeObjectURL(this.audioElement.src);try{this.sourceBuffer=this.mediaSource.addSourceBuffer("audio/mpeg"),this.sourceBuffer.mode="sequence",this.sourceBuffer.addEventListener("updateend",()=>{if(this.isAppendingBuffer=!1,!this.isPaused&&this.audioElement.paused&&this.sourceBuffer&&this.sourceBuffer.buffered.length>0){let a=this.audioElement.play();a!==void 0&&a.then(i=>{this.currentPlaybackId===n&&!this.settings.disablePlaybackControlPopover&&this.updateFloatingPlayerCallback({currentTime:this.audioElement.currentTime,duration:1/0,isPlaying:!0,isLoading:!0})}).catch(i=>{console.error("Error starting MSE playback:",i),this.settings.showNotices&&new q.Notice("Error starting audio playback."),this.stopPlaybackInternal()})}this.appendNextChunkToSourceBuffer()}),this.sourceBuffer.addEventListener("error",a=>{console.error("SourceBuffer error",a),this.settings.showNotices&&new q.Notice("Audio playback error (SourceBuffer)."),this.stopPlaybackInternal()}),this.appendNextChunkToSourceBuffer()}catch(a){console.error("Error setting up MediaSource SourceBuffer:",a),this.settings.showNotices&&new q.Notice("Failed to initialize audio stream."),this.stopPlaybackInternal()}}}),this.mediaSource.addEventListener("sourceended",()=>{}),this.mediaSource.addEventListener("sourceclose",()=>{this.isStreamingWithMSE=!1}),await this.processTTSStream(t,n,Wt.AUDIO_24KHZ_48KBITRATE_MONO_MP3,!0)}async startFallbackPlayback(t,n){await this.processTTSStream(t,n,Wt.AUDIO_24KHZ_48KBITRATE_MONO_MP3,!1)}async processTTSStream(t,n,a,i){try{this.settings.showNotices&&new q.Notice(i?"Starting audio stream...":"Generating audio..."),this.updateStatusBarCallback(!0);let s=new Kt,r=this.settings.customVoice.trim()||this.settings.selectedVoice;await s.setMetadata(r,a);let o=new lc;o.rate=this.settings.playbackSpeed;let l=s.toStream(t,o);l.on("data",u=>{this.currentPlaybackId===n&&(this.completeMp3BufferArray.push(u),i&&(this.mseAudioQueue.push(u),this.appendNextChunkToSourceBuffer()))}),l.on("end",async()=>{this.currentPlaybackId===n&&(i?await this.finishMSEPlayback(n):await this.finishFallbackPlayback(n))})}catch(s){console.error("Error processing TTS stream:",s),this.currentPlaybackId===n&&(this.settings.showNotices&&new q.Notice("Failed to read note aloud."),this.stopPlaybackInternal())}}async finishMSEPlayback(t){if(await(async()=>{for(;this.mseAudioQueue.length>0||this.isAppendingBuffer;)await new Promise(s=>setTimeout(s,50))})(),this.mediaSource&&this.mediaSource.readyState==="open"&&this.sourceBuffer)try{if(!this.sourceBuffer.updating)this.mediaSource.endOfStream();else{let s=()=>{var r;if(this.mediaSource&&this.mediaSource.readyState==="open")try{this.mediaSource.endOfStream()}catch(o){console.warn("Error in endOfStream (onUpdateEnd)",o)}(r=this.sourceBuffer)==null||r.removeEventListener("updateend",s)};this.sourceBuffer.addEventListener("updateend",s)}}catch(s){console.warn("Error calling endOfStream on TTS end:",s)}if(this.completeMp3BufferArray.length===0){this.settings.showNotices&&new q.Notice("TTS stream was empty."),this.settings.disablePlaybackControlPopover||(this.updateFloatingPlayerCallback({currentTime:0,duration:0,isPlaying:!1,isLoading:!1}),this.hideFloatingPlayerCallback()),this.updateStatusBarCallback(!1),this.isStreamingWithMSE=!1;return}let a=Buffer.concat(this.completeMp3BufferArray),i=await this.fileManager.saveTempAudioFile(a);if(this.currentPlaybackId!==t){this.isStreamingWithMSE=!1;return}!i&&this.settings.showNotices&&!q.Platform.isMobile&&new q.Notice("Failed to save temporary audio for playback."),this.settings.disablePlaybackControlPopover||this.updateFloatingPlayerCallback({currentTime:this.audioElement.currentTime,duration:this.audioElement.duration,isPlaying:!this.audioElement.paused,isLoading:!1})}async finishFallbackPlayback(t){if(this.completeMp3BufferArray.length===0){this.settings.showNotices&&new q.Notice("TTS stream was empty."),this.settings.disablePlaybackControlPopover||(this.updateFloatingPlayerCallback({currentTime:0,duration:0,isPlaying:!1,isLoading:!1}),this.hideFloatingPlayerCallback()),this.updateStatusBarCallback(!1);return}try{this.settings.showNotices&&new q.Notice("Processing audio for playback...");let n;if(q.Platform.isMobile||typeof Buffer=="undefined"){let i=this.completeMp3BufferArray.reduce((o,l)=>o+l.length,0),s=new Uint8Array(i),r=0;for(let o of this.completeMp3BufferArray)s.set(o,r),r+=o.length;n=s}else n=Buffer.concat(this.completeMp3BufferArray);if(this.currentPlaybackId!==t)return;if(await this.fileManager.saveTempAudioFile(n)){this.audioElement.src=this.fileManager.getTempAudioFileResourcePath()||"",this.audioElement.load();let i=()=>{if(this.currentPlaybackId!==t)return;this.settings.disablePlaybackControlPopover||this.updateFloatingPlayerCallback({currentTime:0,duration:this.audioElement.duration,isPlaying:!1,isLoading:!1});let r=this.audioElement.play();r!==void 0&&r.then(()=>{this.currentPlaybackId===t&&!this.settings.disablePlaybackControlPopover&&this.updateFloatingPlayerCallback({currentTime:this.audioElement.currentTime,duration:this.audioElement.duration,isPlaying:!0,isLoading:!1})}).catch(o=>{console.error("Error starting temp file playback:",o),this.settings.showNotices&&new q.Notice("Error starting audio playback."),this.stopPlaybackInternal()}),this.audioElement.removeEventListener("loadedmetadata",i)},s=()=>{this.settings.showNotices&&new q.Notice("Failed to load temp audio file."),this.fallbackToBlobPlayback(n,t),this.audioElement.removeEventListener("error",s),this.audioElement.removeEventListener("loadedmetadata",i)};this.audioElement.addEventListener("loadedmetadata",i,{once:!0}),this.audioElement.addEventListener("error",s,{once:!0})}else this.fallbackToBlobPlayback(n,t)}catch(n){console.error("Error in finishFallbackPlayback:",n),this.settings.showNotices&&new q.Notice("Failed to process audio for mobile playback."),this.settings.disablePlaybackControlPopover||(this.updateFloatingPlayerCallback({currentTime:0,duration:0,isPlaying:!1,isLoading:!1}),this.hideFloatingPlayerCallback()),this.updateStatusBarCallback(!1)}}fallbackToBlobPlayback(t,n){try{let a;if(t instanceof Uint8Array)a=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);else{let l=new Uint8Array(t);a=l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)}let i=new Blob([a],{type:"audio/mpeg"}),s=URL.createObjectURL(i);this.audioElement.src=s,this.audioElement.load();let r=()=>{this.settings.showNotices&&new q.Notice("Audio playback failed on mobile device."),this.settings.disablePlaybackControlPopover||(this.updateFloatingPlayerCallback({currentTime:0,duration:0,isPlaying:!1,isLoading:!1}),this.hideFloatingPlayerCallback()),this.updateStatusBarCallback(!1),URL.revokeObjectURL(s),this.audioElement.removeEventListener("error",r),this.audioElement.removeEventListener("loadedmetadata",o)},o=()=>{if(this.currentPlaybackId!==n){URL.revokeObjectURL(s);return}this.settings.disablePlaybackControlPopover||this.updateFloatingPlayerCallback({currentTime:0,duration:this.audioElement.duration,isPlaying:!1,isLoading:!1});let l=this.audioElement.play();l!==void 0&&l.then(()=>{this.currentPlaybackId===n&&!this.settings.disablePlaybackControlPopover&&this.updateFloatingPlayerCallback({currentTime:this.audioElement.currentTime,duration:this.audioElement.duration,isPlaying:!0,isLoading:!1})}).catch(u=>{console.error("Error starting blob playback:",u),this.settings.showNotices&&new q.Notice("Final audio playback attempt failed."),this.stopPlaybackInternal()}),this.audioElement.addEventListener("ended",()=>{URL.revokeObjectURL(s)},{once:!0}),this.audioElement.removeEventListener("loadedmetadata",o),this.audioElement.removeEventListener("error",r)};this.audioElement.addEventListener("loadedmetadata",o,{once:!0}),this.audioElement.addEventListener("error",r,{once:!0})}catch(a){console.error("Error in fallbackToBlobPlayback:",a),this.settings.showNotices&&new q.Notice("Critical audio playback error."),this.settings.disablePlaybackControlPopover||(this.updateFloatingPlayerCallback({currentTime:0,duration:0,isPlaying:!1,isLoading:!1}),this.hideFloatingPlayerCallback()),this.updateStatusBarCallback(!1)}}pausePlayback(){this.audioElement&&!this.audioElement.paused&&this.audioElement.pause()}resumePlayback(){this.audioElement&&this.audioElement.paused&&this.audioElement.play().catch(t=>console.error("Error resuming playback:",t))}stopPlayback(){this.currentPlaybackId++,this.stopPlaybackInternal()}stopPlaybackInternal(){if(this.currentPlaybackId++,this.isStreamingWithMSE=!1,this.isSwitchingToFullFile=!1,this.streamedPlaybackTimeBeforeSwitch=0,this.mseAudioQueue=[],this.isAppendingBuffer=!1,this.cancelSleepTimer(),this.mediaSource){if(this.mediaSource.readyState==="open"&&this.sourceBuffer&&this.sourceBuffer.updating)try{this.sourceBuffer.abort()}catch(t){console.warn("Error aborting sourceBuffer:",t)}if(this.mediaSource.readyState==="open")try{this.sourceBuffer&&this.mediaSource.endOfStream()}catch(t){console.warn("Error calling endOfStream on mediaSource stop:",t)}this.audioElement.src.startsWith("blob:")&&URL.revokeObjectURL(this.audioElement.src),this.mediaSource=null,this.sourceBuffer=null}this.audioElement&&(this.audioElement.pause(),this.audioElement.src&&!this.audioElement.src.startsWith("blob:")?(this.audioElement.src="",this.audioElement.load()):this.audioElement.src||this.audioElement.load(),this.settings.disablePlaybackControlPopover||this.updateFloatingPlayerCallback({currentTime:0,duration:0,isPlaying:!1,isLoading:!1}),this.resetPlaybackStateAndHidePlayer(),this.updateStatusBarCallback(!1)),this.completeMp3BufferArray=[],this.clearMediaSession()}resetPlaybackStateAndHidePlayer(){this.isPaused=!1,this.settings.disablePlaybackControlPopover||this.hideFloatingPlayerCallback()}replayPlayback(){this.audioElement&&this.audioElement.src&&this.audioElement.duration>0?(this.audioElement.currentTime=0,this.isPaused=!1,this.audioElement.play().catch(t=>{console.error("Error during replay:",t),this.settings.showNotices&&new q.Notice("Error replaying audio."),this.stopPlaybackInternal()})):(this.settings.showNotices&&new q.Notice("No audio to replay or audio not fully loaded."),this.stopPlaybackInternal())}isPlaybackPaused(){return this.isPaused}isPlaying(){return this.audioElement!==null&&!this.audioElement.paused}jumpForward(t=10){if(this.audioElement&&this.audioElement.duration>0){let n=Math.min(this.audioElement.currentTime+t,this.audioElement.duration);this.seekPlayback(n)}}jumpBackward(t=10){if(this.audioElement&&this.audioElement.duration>0){let n=Math.max(this.audioElement.currentTime-t,0);this.seekPlayback(n)}}updateSettings(t){this.settings=t,this.initializeMediaSession()}seekPlayback(t){if(this.audioElement&&this.audioElement.seekable&&this.audioElement.seekable.length>0){let n=Math.max(0,Math.min(t,this.audioElement.duration));isFinite(n)&&isFinite(this.audioElement.duration)&&this.audioElement.duration>0?this.audioElement.currentTime=n:console.warn("Cannot seek: Audio duration is not yet available or is invalid.",{currentTime:this.audioElement.currentTime,duration:this.audioElement.duration,readyState:this.audioElement.readyState,seekable:this.audioElement.seekable})}else console.warn("Cannot seek: Audio element is not seekable or has no seekable ranges.",{readyState:this.audioElement.readyState,seekable:this.audioElement.seekable})}setFloatingPlayerCallbacks(t,n,a){this.showFloatingPlayerCallback=i=>{this.settings.disablePlaybackControlPopover||t(i)},this.hideFloatingPlayerCallback=()=>{this.settings.disablePlaybackControlPopover||n()},this.updateFloatingPlayerCallback=i=>{this.settings.disablePlaybackControlPopover||a(i)}}setQueueChangeCallback(t){this.queueChangeCallback=t}setQueueUIUpdateCallback(t){this.queueUIUpdateCallback=t}notifyQueueChange(){this.queueChangeCallback&&this.queueChangeCallback()}notifyQueueUIUpdate(){this.queueUIUpdateCallback&&this.queueUIUpdateCallback()}addToQueue(t,n){this.playbackQueue.push({text:t,title:n}),this.settings.showNotices&&new q.Notice(`Added "${n||"text"}" to playback queue (${this.playbackQueue.length} items)`),this.notifyQueueChange()}async playQueue(){if(this.playbackQueue.length===0){this.settings.showNotices&&new q.Notice("Playback queue is empty.");return}this.currentQueueIndex=0,this.isPlayingFromQueue=!0,this.notifyQueueUIUpdate(),await this.playCurrentQueueItem()}async playNextInQueue(){if(!this.isPlayingFromQueue||this.currentQueueIndex>=this.playbackQueue.length-1)if(this.loopEnabled&&this.playbackQueue.length>0){this.currentQueueIndex=0,this.notifyQueueUIUpdate(),this.settings.showNotices&&new q.Notice("Queue looping - restarting from beginning."),await this.playCurrentQueueItem();return}else{this.isPlayingFromQueue=!1,this.currentQueueIndex=-1,this.notifyQueueUIUpdate(),this.settings.showNotices&&new q.Notice("Finished playing queue.");return}this.currentQueueIndex++,this.notifyQueueUIUpdate(),await this.playCurrentQueueItem()}async playCurrentQueueItem(){let t=this.playbackQueue[this.currentQueueIndex];t&&(this.settings.showNotices&&new q.Notice(`Playing ${this.currentQueueIndex+1}/${this.playbackQueue.length}: ${t.title||"Untitled"}`),await this.startPlayback(t.text))}clearQueue(){this.playbackQueue=[],this.currentQueueIndex=-1,this.isPlayingFromQueue=!1,this.settings.showNotices&&new q.Notice("Playback queue cleared."),this.notifyQueueChange(),this.notifyQueueUIUpdate()}getQueueStatus(){return{queue:[...this.playbackQueue],currentIndex:this.currentQueueIndex,isPlayingFromQueue:this.isPlayingFromQueue}}async playQueueItem(t){if(t<0||t>=this.playbackQueue.length){this.settings.showNotices&&new q.Notice("Invalid queue item index.");return}this.currentQueueIndex=t,this.isPlayingFromQueue=!0,this.notifyQueueUIUpdate(),await this.playCurrentQueueItem()}removeQueueItem(t){if(t<0||t>=this.playbackQueue.length){this.settings.showNotices&&new q.Notice("Invalid queue item index.");return}let n=this.playbackQueue.splice(t,1)[0];this.isPlayingFromQueue&&(t<this.currentQueueIndex?this.currentQueueIndex--:t===this.currentQueueIndex&&this.currentQueueIndex>=this.playbackQueue.length&&(this.isPlayingFromQueue=!1,this.currentQueueIndex=-1,this.stopPlayback())),this.settings.showNotices&&new q.Notice(`Removed "${n.title||"Untitled"}" from queue.`),this.notifyQueueChange(),this.notifyQueueUIUpdate()}moveQueueItem(t,n){if(t<0||t>=this.playbackQueue.length||n<0||n>=this.playbackQueue.length||t===n)return;let a=this.playbackQueue.splice(t,1)[0];this.playbackQueue.splice(n,0,a),this.isPlayingFromQueue&&(t===this.currentQueueIndex?this.currentQueueIndex=n:t<this.currentQueueIndex&&n>=this.currentQueueIndex?this.currentQueueIndex--:t>this.currentQueueIndex&&n<=this.currentQueueIndex&&this.currentQueueIndex++),this.settings.showNotices&&new q.Notice(`Moved "${a.title||"Untitled"}" in queue.`),this.notifyQueueChange(),this.notifyQueueUIUpdate()}setSleepTimer(t){this.cancelSleepTimer(),this.sleepTimerMinutes=t,this.sleepTimerTimeout=window.setTimeout(()=>{this.settings.showNotices&&new q.Notice("Sleep timer expired. Stopping playback."),this.stopPlayback(),this.sleepTimerTimeout=null,this.sleepTimerMinutes=0},t*60*1e3),this.settings.showNotices&&new q.Notice(`Sleep timer set for ${t} minute${t!==1?"s":""}`)}cancelSleepTimer(){this.sleepTimerTimeout&&(clearTimeout(this.sleepTimerTimeout),this.sleepTimerTimeout=null,this.sleepTimerMinutes>0&&this.settings.showNotices&&new q.Notice("Sleep timer cancelled"),this.sleepTimerMinutes=0)}getSleepTimerStatus(){return{isActive:this.sleepTimerTimeout!==null,remainingMinutes:this.sleepTimerMinutes}}setLoopEnabled(t){this.loopEnabled=t}getLoopEnabled(){return this.loopEnabled}};var J=require("obsidian");var qt=null,Rw=null;if(!J.Platform.isMobile)try{qt=require("path"),Rw=require("os")}catch(e){console.warn("Node.js modules not available:",e)}function Uw(e){if(qt&&qt.dirname)return qt.dirname(e);let t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t===-1?".":e.substring(0,t)}function kw(e,t){if(qt&&qt.basename)return qt.basename(e,t);let n=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\")),a=n===-1?e:e.substring(n+1);return t&&a.endsWith(t)&&(a=a.substring(0,a.length-t.length)),a}function Nw(...e){return qt&&qt.join?qt.join(...e):(0,J.normalizePath)(e.join("/"))}var po=class{constructor(t,n,a){this.tempAudioPath=null;this.app=t,this.settings=n,a&&(this.tempAudioPath=a)}async extractFileContent(t){let n=this.app.vault.getAbstractFileByPath(t);if(n instanceof J.TFile)try{return await this.app.vault.read(n)}catch(a){return console.error("Error reading file content:",a),null}else return console.warn("The specified file is not a TFile (markdown file)."),null}async embedMP3InNote(t,n,a){try{if(a){let i=a.getSelection(),s=a.getCursor("to"),r=`

![[${t}]]
`;i?a.replaceSelection(`${i}${r}`):a.replaceRange(r,s),this.settings.showNotices&&new J.Notice("MP3 embedded after the selected text.")}else{if(!n){console.error("Error embedding MP3 in note due to filePath and editor not being passed to embedMP3InNote"),this.settings.showNotices&&new J.Notice("Failed to embed MP3 in note.");return}let i=this.app.vault.getAbstractFileByPath(n);if(!(i instanceof J.TFile)){this.settings.showNotices&&new J.Notice(`File not found or is not a valid markdown file: ${n}`);return}let s=await this.app.vault.read(i),r=`![[${t}]]`,o=`${s}

${r}`;await this.app.vault.modify(i,o),this.settings.showNotices&&new J.Notice("MP3 embedded in note.")}}catch(i){console.error("Error embedding MP3 in note:",i),this.settings.showNotices&&new J.Notice("Failed to embed MP3 in note.")}}async saveMP3File(t,n){try{let a;if(t instanceof Uint8Array&&!(t instanceof Buffer))if(typeof Buffer!="undefined"&&Buffer.from)a=Buffer.from(t);else throw new Error("Buffer not available and cannot convert Uint8Array");else a=t;let i=this.settings.replaceSpacesInFilenames?"Note_Narration_Audio":"Note Narration Audio",s=(0,J.normalizePath)(this.settings.outputFolder||i);await this.app.vault.adapter.exists(s)||await this.app.vault.adapter.mkdir(s);let r=(0,J.getLanguage)(),o=new Date,u=new Intl.DateTimeFormat(r,{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(o).replace(/,/g,"").trim();u=u.replace(/[\\/:*?"<>|]/g,"-");let c=n?kw(n,".md")||tu:tu;c=c.replace(/[\\/:*?"<>|]/g,"-"),this.settings.replaceSpacesInFilenames&&(c=c.replace(/\s+/g,"_"),u=u.replace(/\s+/g,"_"));let f=this.settings.replaceSpacesInFilenames?`${c}_-_${u}.mp3`:`${c} - ${u}.mp3`,d=(0,J.normalizePath)(`${s}/${f}`);await this.app.vault.createBinary(d,a);let m=this.app.vault.adapter;if(m instanceof J.FileSystemAdapter){let b=m.getBasePath(),y=Nw(b,s,f);this.settings.showNotices&&new J.Notice(`MP3 saved to: ${y}`)}else this.settings.showNotices&&new J.Notice(`MP3 saved to: ${d}`);return d}catch(a){return console.error("Error saving MP3:",a),this.settings.showNotices&&new J.Notice("Failed to save MP3 file."),null}}async saveTempAudioFile(t){if(J.Platform.isMobile)return console.log("Temporary file saving is not supported on mobile platforms."),null;if(!this.tempAudioPath)return console.error("Temporary audio path is not set in FileOperationsManager."),this.settings.showNotices&&new J.Notice("Failed to save temporary audio: path not set."),null;let n=this.app.vault.adapter;if(!(n instanceof J.FileSystemAdapter))return console.error("File system adapter not available for temp audio."),this.settings.showNotices&&new J.Notice("Unable to save temporary audio file."),null;let a;if(t instanceof Uint8Array&&!(t instanceof Buffer))if(typeof Buffer!="undefined"&&Buffer.from)a=Buffer.from(t);else return console.error("Buffer not available for temp file creation"),null;else a=t;try{let i=Uw(this.tempAudioPath);return await n.exists(i)||await n.mkdir(i),await n.writeBinary(this.tempAudioPath,a),this.app.vault.adapter.getResourcePath(this.tempAudioPath)}catch(i){return console.error("Error saving temporary audio file:",i),this.settings.showNotices&&new J.Notice("Failed to save temporary audio file."),null}}getTempAudioFileResourcePath(){return J.Platform.isMobile||!this.tempAudioPath?null:this.app.vault.adapter.getResourcePath(this.tempAudioPath)}async cleanupTempAudioFile(){if(J.Platform.isMobile||!this.tempAudioPath)return;let t=this.app.vault.adapter;if(t instanceof J.FileSystemAdapter)try{await t.exists(this.tempAudioPath)&&await t.remove(this.tempAudioPath)}catch(n){console.error("Error cleaning up temporary audio file:",n)}}updateSettings(t){this.settings=t}};var Ke=require("obsidian");var ga=require("obsidian");var mo=class{constructor(){}};var go=class{constructor(t){this.tasks=new Map;this.processingQueue=[];this.isProcessing=!1;this.settings=t}createTask(t,n){if(ga.Platform.isMobile)throw new Error("MP3 generation is not supported on mobile devices due to file system limitations. Use audio playback instead.");let a=Jt(t);if(a.wasTruncated){let l=a.truncationReason==="words"?"word":"character",u=a.truncationReason==="words"?"5,000 words":"30,000 characters";this.settings.showNotices&&new ga.Notice(`Content exceeds MP3 generation limit (${u}). Generating MP3 for the first ${a.finalWordCount.toLocaleString()} words (${a.finalCharCount.toLocaleString()} characters). Original content had ${a.originalWordCount.toLocaleString()} words.`,8e3)}let i=Lt(zt(a.content));if(!i.trim())throw new Error("No readable text after filtering");let s=`tts-${Date.now()}-${Math.floor(Math.random()*1e3)}`,r=this.settings.customVoice.trim()||this.settings.selectedVoice,o={id:s,text:i,status:"pending",progress:0,createdAt:new Date,outputFormat:n,voice:r,playbackSpeed:this.settings.playbackSpeed};return this.tasks.set(s,o),this.processingQueue.push(s),this.isProcessing||this.processNextTask(),o}async processNextTask(){if(this.processingQueue.length===0){this.isProcessing=!1;return}this.isProcessing=!0;let t=this.processingQueue.shift(),n=this.tasks.get(t);if(!n){setTimeout(()=>this.processNextTask(),0);return}n.status="processing",this.tasks.set(t,n);try{let a=new Kt;await a.setMetadata(n.voice,n.outputFormat);let i=new mo;i.rate=n.playbackSpeed;let s=a.toStream(n.text,i),r=[],o=n.text.length*50,l=0;s.on("data",u=>{r.push(u),l+=u.length,n.progress=Math.min(99,Math.floor(l/o*100)),this.tasks.set(t,n)}),await new Promise((u,c)=>{s.on("end",()=>{let d;if(ga.Platform.isMobile||typeof Buffer=="undefined"){let m=r.reduce((y,v)=>y+v.length,0);d=new Uint8Array(m);let b=0;for(let y of r)d.set(y,b),b+=y.length}else d=Buffer.concat(r);n.buffer=d,n.status="completed",n.progress=100,n.completedAt=new Date,this.tasks.set(t,n),u()});let f=setTimeout(()=>{n.status!=="completed"&&(n.status="failed",n.error="Timed out waiting for TTS stream to complete",this.tasks.set(t,n),c(new Error("TTS processing timeout")))},6e4);s.on("end",()=>{clearTimeout(f)})})}catch(a){n.status="failed",n.error=a.message||"Unknown error",this.tasks.set(t,n),console.error("TTS generation error:",a)}setTimeout(()=>this.processNextTask(),10)}getTask(t){return this.tasks.get(t)}getAllTasks(){return Array.from(this.tasks.values())}cleanupOldTasks(t=36e5){let n=new Date().getTime();for(let[a,i]of this.tasks.entries())(i.status==="completed"||i.status==="failed")&&n-i.createdAt.getTime()>t&&this.tasks.delete(a)}async generateAudioBuffer(t){try{let n=Jt(t);if(n.wasTruncated){let u=n.truncationReason==="words"?"word":"character",c=n.truncationReason==="words"?"5,000 words":"30,000 characters";this.settings.showNotices&&new ga.Notice(`Content exceeds playback limit (${c}). Playing first ${n.finalWordCount.toLocaleString()} words (${n.finalCharCount.toLocaleString()} characters). Original content had ${n.originalWordCount.toLocaleString()} words.`,8e3)}let a=Lt(zt(n.content));if(!a.trim())throw new Error("No readable text after filtering");let i=this.settings.customVoice.trim()||this.settings.selectedVoice,s=new Kt;await s.setMetadata(i,Wt.WEBM_24KHZ_16BIT_MONO_OPUS);let r=new mo;r.rate=this.settings.playbackSpeed;let o=s.toStream(a,r),l=[];return new Promise((u,c)=>{o.on("data",d=>{l.push(d)}),o.on("end",async()=>{let d;if(ga.Platform.isMobile||typeof Buffer=="undefined"){let m=l.reduce((v,p)=>v+p.length,0),b=new Uint8Array(m),y=0;for(let v of l)b.set(v,y),y+=v.length;d=b.buffer}else{let m=Buffer.concat(l);d=m.buffer.slice(m.byteOffset,m.byteOffset+m.byteLength)}try{let b=await new AudioContext().decodeAudioData(d);u(b)}catch(m){c(m)}});let f=setTimeout(()=>{c(new Error("TTS processing timeout"))},3e4);o.on("end",()=>{clearTimeout(f)})})}catch(n){return console.error("Error generating audio buffer:",n),null}}updateSettings(t){this.settings=t}};var yo=class{constructor(t,n,a,i){this.statusBarEl=null;this.ribbonIconEl=null;this.plugin=t,this.settings=n,this.audioManager=a,this.ttsEngine=i}initializeStatusBar(){this.statusBarEl=this.plugin.addStatusBarItem(),this.updateStatusBar()}removeStatusBarButton(){this.statusBarEl&&(this.statusBarEl.remove(),this.statusBarEl=null)}updateStatusBar(t=!1){if(!this.statusBarEl)return;if(!this.settings.showStatusBarButton){this.removeStatusBarButton();return}if(this.statusBarEl.empty(),this.hasActiveTasks())this.renderTaskProgressIndicator();else if(t){let a=createEl("span",{cls:"edge-tts-status-bar-control"});(0,Ke.setTooltip)(a,this.audioManager.isPlaybackPaused()?"Resume":"Pause",{placement:"top"}),(0,Ke.setIcon)(a,this.audioManager.isPlaybackPaused()?"circle-play":"circle-pause"),a.onclick=()=>this.audioManager.isPlaybackPaused()?this.audioManager.resumePlayback():this.audioManager.pausePlayback(),this.statusBarEl.appendChild(a);let i=createEl("span",{cls:"edge-tts-status-bar-control"});(0,Ke.setTooltip)(i,"Stop",{placement:"top"}),(0,Ke.setIcon)(i,"square"),i.onclick=()=>this.audioManager.stopPlayback(),this.statusBarEl.appendChild(i)}else{let a=createEl("span",{cls:"edge-tts-status-bar-control"});(0,Ke.setTooltip)(a,"Read note aloud",{placement:"top"}),(0,Ke.setIcon)(a,"audio-lines"),a.onclick=()=>this.plugin.readNoteAloud(),this.statusBarEl.appendChild(a)}}renderTaskProgressIndicator(){if(!this.statusBarEl||!this.ttsEngine)return;let t=this.ttsEngine.getAllTasks(),n=t.filter(r=>r.status==="processing"),a=t.filter(r=>r.status==="pending"),i=createEl("div",{cls:"edge-tts-status-bar-progress-container"}),s=createEl("span",{cls:"edge-tts-status-bar-icon"});if((0,Ke.setIcon)(s,"cpu"),i.appendChild(s),n.length>0){let r=n[0],o=createEl("span",{cls:"edge-tts-status-bar-text",text:`${r.progress}%`});i.appendChild(o);let l=n.length+a.length,u=l>1?`${l} tasks`:"1 task";(0,Ke.setTooltip)(i,`Processing TTS: ${u}`,{placement:"top"})}else if(a.length>0){let r=createEl("span",{cls:"edge-tts-status-bar-text",text:"Waiting..."});i.appendChild(r);let o=a.length,l=o>1?`${o} tasks`:"1 task";(0,Ke.setTooltip)(i,`Waiting to process: ${l}`,{placement:"top"})}this.statusBarEl.appendChild(i)}hasActiveTasks(){return this.ttsEngine?this.ttsEngine.getAllTasks().some(n=>n.status==="pending"||n.status==="processing"):!1}addPluginRibbonIcon(){this.ribbonIconEl&&this.ribbonIconEl.remove(),this.ribbonIconEl=this.plugin.addRibbonIcon("audio-lines","Read note aloud",()=>{this.plugin.readNoteAloud()})}removePluginRibbonIcon(){this.ribbonIconEl&&(this.ribbonIconEl.remove(),this.ribbonIconEl=null)}addPluginMenuItems(){this.plugin.registerEvent(this.plugin.app.workspace.on("file-menu",(t,n)=>{t.addItem(a=>{a.setTitle("Read note aloud").setIcon("audio-lines").onClick(async()=>{this.plugin.readNoteAloud(void 0,void 0,n.path)})}),this.settings.enableQueueFeature&&t.addItem(a=>{a.setTitle("Add to playback queue").setIcon("list-plus").onClick(async()=>{let i=await this.plugin.fileManager.extractFileContent(n.path);i&&(this.audioManager.addToQueue(i,n.basename),this.plugin.queueUIManager&&!this.plugin.queueUIManager.getIsQueueVisible()&&this.plugin.queueUIManager.showQueue())})}),this.settings.generateMP3&&!Ke.Platform.isMobile&&t.addItem(a=>{a.setTitle("Generate MP3").setIcon("microphone").onClick(async()=>{await this.plugin.generateMP3(void 0,void 0,n.path)})})})),this.plugin.registerEvent(this.plugin.app.workspace.on("editor-menu",(t,n,a)=>{t.addItem(i=>{i.setTitle("Read note aloud").setIcon("audio-lines").onClick(async()=>{this.plugin.readNoteAloud(n,a)})}),this.settings.enableQueueFeature&&t.addItem(i=>{i.setTitle("Add selection to queue").setIcon("list-plus").onClick(async()=>{var o;let s=n.getSelection(),r=((o=a.file)==null?void 0:o.basename)||"Untitled";s.trim()?this.audioManager.addToQueue(s,`${r} (selection)`):this.audioManager.addToQueue(n.getValue(),r),this.plugin.queueUIManager&&!this.plugin.queueUIManager.getIsQueueVisible()&&this.plugin.queueUIManager.showQueue()})}),this.settings.generateMP3&&!Ke.Platform.isMobile&&t.addItem(i=>{i.setTitle("Generate MP3").setIcon("microphone").onClick(async()=>{await this.plugin.generateMP3(n,a)})})}))}setTTSEngine(t){this.ttsEngine=t}updateSettings(t){this.settings=t}};var hv=Ce(en()),pv=Ce(Fl());var Ge=Ce(en()),fv=require("obsidian"),V=Ce(Pa()),vn=({icon:e,className:t,size:n=20})=>{let a=(0,Ge.useRef)(null);return(0,Ge.useEffect)(()=>{if(a.current){a.current.innerHTML="",(0,fv.setIcon)(a.current,e);let i=a.current.querySelector("svg");i&&n&&(i.style.width=`${n}px`,i.style.height=`${n}px`)}},[e,n]),(0,V.jsx)("span",{ref:a,className:t,style:{display:"flex",alignItems:"center",justifyContent:"center"}})},dv=({isVisible:e,onClose:t,onPause:n,onResume:a,onStop:i,isPaused:s,initialPosition:r={x:50,y:50},onDragEnd:o,currentTime:l=0,duration:u=0,onSeek:c,onReplay:f,onJumpForward:d,onJumpBackward:m,isLoading:b=!1,queueInfo:y,onToggleQueue:v,isQueueVisible:p=!1})=>{let[h,g]=(0,Ge.useState)(r),[E,M]=(0,Ge.useState)(!1),O=(0,Ge.useRef)({x:0,y:0}),A=(0,Ge.useRef)(null),x=(0,Ge.useCallback)(I=>{if("touches"in I){let Me=I.touches[0]||I.changedTouches[0];return{clientX:Me.clientX,clientY:Me.clientY}}else return{clientX:I.clientX,clientY:I.clientY}},[]),H=(0,Ge.useCallback)(I=>{let Me=I.target;if(!(Me.closest("button")||Me.closest(".seek-slider")||Me.classList.contains("floating-player-close-button-icon"))){if(M(!0),A.current){let Kn=A.current.getBoundingClientRect(),ye=x(I.nativeEvent);O.current={x:ye.clientX-Kn.left,y:ye.clientY-Kn.top}}I.preventDefault()}},[x]),R=(0,Ge.useCallback)(I=>{if(E){let Me=x(I);g({x:Me.clientX-O.current.x,y:Me.clientY-O.current.y})}},[E,x]),S=(0,Ge.useCallback)(()=>{E&&(M(!1),o&&o(h))},[E,o,h]);(0,Ge.useEffect)(()=>(E?(document.addEventListener("mousemove",R),document.addEventListener("mouseup",S),document.addEventListener("touchmove",R,{passive:!1}),document.addEventListener("touchend",S)):(document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",S),document.removeEventListener("touchmove",R),document.removeEventListener("touchend",S)),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",S),document.removeEventListener("touchmove",R),document.removeEventListener("touchend",S)}),[E,R,S]),(0,Ge.useEffect)(()=>{g(r)},[r]);let C=I=>{c&&c(parseFloat(I.target.value))},D=I=>{if(I===1/0)return"\u221E";let Me=Math.floor(I/60),Kn=Math.floor(I%60).toString().padStart(2,"0");return`${Me}:${Kn}`};if(!e)return null;let X=s,k=u>0&&l>=u-.1,_=X&&k&&!!f;return(0,V.jsxs)("div",{ref:A,className:"floating-player-ui",style:{left:`${h.x}px`,top:`${h.y}px`,cursor:E?"grabbing":"grab",touchAction:"none"},onMouseDown:H,onTouchStart:H,children:[(0,V.jsx)("div",{onClick:t,className:"floating-player-close-button","aria-label":"Close Player",children:(0,V.jsx)(vn,{icon:"x",size:16,className:"floating-player-close-button-icon"})}),v&&(0,V.jsx)("div",{onClick:v,className:`floating-player-queue-button ${y&&y.isPlayingFromQueue||b?"top-position":"bottom-position"}`,"aria-label":p?"Hide Queue":"Show Queue",children:(0,V.jsx)(vn,{icon:"list-music",size:12})}),!b&&(0,V.jsx)("div",{onClick:i,"aria-label":"Stop",className:"player-control-button player-stop-button",children:(0,V.jsx)(vn,{icon:"square",size:16,className:"floating-player-close-button-icon"})}),(0,V.jsxs)("div",{className:"player-content",children:[y&&y.isPlayingFromQueue&&(0,V.jsxs)("div",{className:"queue-info",style:{fontSize:"11px",color:"var(--text-muted)",marginBottom:"4px",textAlign:"center"},children:["Queue: ",y.currentIndex+1,"/",y.totalItems,y.currentTitle&&(0,V.jsx)("div",{style:{fontSize:"10px",opacity:.8},children:y.currentTitle})]}),u>0&&(0,V.jsx)("div",{className:"player-progress",children:b?(0,V.jsx)("div",{style:{fontStyle:"italic",color:"var(--text-muted)",fontSize:"12px",textAlign:"center",width:"100%"},children:"Streaming..."}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("span",{children:D(l)}),(0,V.jsx)("input",{type:"range",min:"0",max:u,value:l,onChange:C,className:"seek-slider",disabled:!c||u===0||b,"aria-label":"Seek"}),(0,V.jsx)("span",{children:D(u)})]})}),(0,V.jsxs)("div",{className:"player-controls",children:[b&&(0,V.jsx)("div",{className:"player-loading-indicator",title:"Loading...","aria-label":"Loading...",children:(0,V.jsx)(vn,{icon:"loader-2",size:18})}),!b&&(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("div",{className:"player-main-controls",children:[_&&f&&(0,V.jsx)("button",{onClick:f,"aria-label":"Replay",children:(0,V.jsx)(vn,{icon:"rotate-cw"})}),!_&&m&&u!=1/0&&(0,V.jsx)("div",{onClick:m,"aria-label":"Jump Backward 10s",className:"player-control-button",children:(0,V.jsx)(vn,{icon:"rotate-ccw"})}),!_&&s&&a&&(0,V.jsx)("button",{onClick:a,"aria-label":"Resume",children:(0,V.jsx)(vn,{icon:"play"})}),!_&&!s&&n&&(0,V.jsx)("button",{onClick:n,"aria-label":"Pause",children:(0,V.jsx)(vn,{icon:"pause"})}),!_&&d&&u!=1/0&&(0,V.jsx)("div",{onClick:d,"aria-label":"Jump Forward 10s",className:"player-control-button",children:(0,V.jsx)(vn,{icon:"rotate-cw"})})]})})]})]})]})};var Yl=class{constructor(t){this.hostElement=null;this.reactRoot=null;this.lastPosition=void 0;this.isPlayerVisible=!1;this.currentPlaybackState={currentTime:0,duration:0,isPlaying:!1,isLoading:!1};this.resizeDebounceTimeout=null;this.RESIZE_DEBOUNCE_DELAY=250;this.debouncedWindowResize=()=>{this.resizeDebounceTimeout&&clearTimeout(this.resizeDebounceTimeout),this.resizeDebounceTimeout=window.setTimeout(()=>{this.handleWindowResize()},this.RESIZE_DEBOUNCE_DELAY)};this.audioManager=t.audioManager,this.savePosition=t.savePositionCallback,this.queueUIManager=t.queueUIManager,this.enableQueueFeature=t.enableQueueFeature,this.handleWindowResize=this.handleWindowResize.bind(this),window.addEventListener("resize",this.debouncedWindowResize),this.renderComponent()}handleWindowResize(){if(!this.isPlayerVisible||!this.lastPosition)return;let{innerWidth:t,innerHeight:n}=window,a=this.lastPosition.x+Fe.PLAYER_WIDTH,i=this.lastPosition.y+Fe.PLAYER_HEIGHT;(this.lastPosition.x>t-Fe.RIGHT_MARGIN||this.lastPosition.y>n-Fe.BOTTOM_MARGIN||a<Fe.RIGHT_MARGIN||i<Fe.BOTTOM_MARGIN)&&this.resetPlayerPosition()}createHostElement(){this.hostElement||(this.hostElement=document.createElement("div"),this.hostElement.id="obsidian-edge-tts-floating-player-host",document.body.appendChild(this.hostElement),this.reactRoot=pv.default.createRoot(this.hostElement))}showPlayer(t){this.createHostElement(),this.isPlayerVisible=!0,t?this.currentPlaybackState=t:this.currentPlaybackState={currentTime:0,duration:0,isPlaying:!1,isLoading:this.currentPlaybackState.isLoading},this.renderComponent()}hidePlayer(){this.isPlayerVisible=!1,this.lastPosition&&this.savePosition(this.lastPosition).catch(t=>{console.error("Failed to save player position on hide:",t)}),this.renderComponent()}togglePlayerVisibility(){this.isPlayerVisible?this.hidePlayer():this.showPlayer()}updatePlayerState(t){this.currentPlaybackState=t,this.isPlayerVisible&&this.renderComponent()}getIsPlayerVisible(){return this.isPlayerVisible}resetPlayerPosition(){let t=typeof window!="undefined"?window.innerWidth-Fe.PLAYER_WIDTH:50,n=typeof window!="undefined"?window.innerHeight-Fe.PLAYER_HEIGHT:50;this.lastPosition={x:t,y:n},this.savePosition(this.lastPosition).catch(a=>{console.error("Failed to save player position on reset:",a)}),this.isPlayerVisible&&this.renderComponent()}renderComponent(){var t,n;if(this.reactRoot){let a=typeof window!="undefined"?window.innerWidth-Fe.PLAYER_WIDTH:50,i=typeof window!="undefined"?window.innerHeight-Fe.PLAYER_HEIGHT:50,s=(t=this.lastPosition)!=null?t:{x:a,y:i},r=this.enableQueueFeature?this.audioManager.getQueueStatus():{queue:[],currentIndex:-1,isPlayingFromQueue:!1},o=this.enableQueueFeature&&r.isPlayingFromQueue?{currentIndex:r.currentIndex,totalItems:r.queue.length,currentTitle:(n=r.queue[r.currentIndex])==null?void 0:n.title,isPlayingFromQueue:r.isPlayingFromQueue}:void 0;this.reactRoot.render(hv.default.createElement(dv,{isVisible:this.isPlayerVisible,onClose:()=>this.hidePlayer(),onPause:this.audioManager.isPlaybackPaused()?void 0:()=>this.audioManager.pausePlayback(),onResume:this.audioManager.isPlaybackPaused()?()=>this.audioManager.resumePlayback():void 0,onStop:()=>this.audioManager.stopPlayback(),isPaused:!this.currentPlaybackState.isPlaying,initialPosition:s,onDragEnd:l=>{this.lastPosition=l,this.savePosition(l).catch(u=>{console.error("Failed to save player position on drag end:",u)})},currentTime:this.currentPlaybackState.currentTime,duration:this.currentPlaybackState.duration,onSeek:l=>this.audioManager.seekPlayback(l),onReplay:()=>this.audioManager.replayPlayback(),onJumpForward:()=>this.audioManager.jumpForward(),onJumpBackward:()=>this.audioManager.jumpBackward(),isLoading:this.currentPlaybackState.isLoading,queueInfo:o,onToggleQueue:this.enableQueueFeature&&this.queueUIManager?()=>{var l;return(l=this.queueUIManager)==null?void 0:l.toggleQueueVisibility()}:void 0,isQueueVisible:this.enableQueueFeature&&this.queueUIManager?this.queueUIManager.getIsQueueVisible():!1}))}}setInitialSavedPosition(t){t&&(this.lastPosition=t,this.isPlayerVisible&&this.renderComponent())}getCurrentPosition(){return this.lastPosition}setQueueUIManager(t){this.queueUIManager=t}updateQueueFeatureEnabled(t){this.enableQueueFeature=t,this.isPlayerVisible&&this.renderComponent()}destroy(){this.reactRoot&&(this.reactRoot.unmount(),this.reactRoot=null),this.hostElement&&(this.hostElement.remove(),this.hostElement=null),this.isPlayerVisible=!1,window.removeEventListener("resize",this.debouncedWindowResize),this.resizeDebounceTimeout&&clearTimeout(this.resizeDebounceTimeout)}};var yv=Ce(en()),bv=Ce(Fl());var at=Ce(en()),mv=require("obsidian"),B=Ce(Pa()),kt=({icon:e,className:t,size:n=16})=>{let a=(0,at.useRef)(null);return(0,at.useEffect)(()=>{if(a.current){a.current.innerHTML="",(0,mv.setIcon)(a.current,e);let i=a.current.querySelector("svg");i&&n&&(i.style.width=`${n}px`,i.style.height=`${n}px`)}},[e,n]),(0,B.jsx)("span",{ref:a,className:t,style:{display:"flex",alignItems:"center",justifyContent:"center"}})},gv=({isVisible:e,onClose:t,queue:n,currentIndex:a,isPlayingFromQueue:i,onPlayItem:s,onRemoveItem:r,onClearQueue:o,onMoveItem:l,onPlayQueue:u,loopEnabled:c,onToggleLoop:f,initialPosition:d={x:100,y:100},onDragEnd:m})=>{let[b,y]=(0,at.useState)(d),[v,p]=(0,at.useState)(!1),[h,g]=(0,at.useState)({x:0,y:0}),[E,M]=(0,at.useState)(!0),O=(0,at.useRef)(null),A=(0,at.useRef)(null),x=k=>{if("touches"in k){let _=k.touches[0]||k.changedTouches[0];return{clientX:_.clientX,clientY:_.clientY}}else return{clientX:k.clientX,clientY:k.clientY}},H=k=>{let _=k.target;if(!(!_.closest(".queue-header")||_.closest(".queue-header-buttons"))){if(p(!0),O.current){let I=O.current.getBoundingClientRect(),Me=x(k.nativeEvent);g({x:Me.clientX-I.left,y:Me.clientY-I.top})}k.preventDefault()}},R=k=>{if(v){let _=x(k);y({x:_.clientX-h.x,y:_.clientY-h.y})}},S=()=>{v&&(p(!1),m&&m(b))};(0,at.useEffect)(()=>{if(E&&i&&a>=0&&A.current){let k=A.current.querySelector(`.queue-item:nth-child(${a+1})`);k&&k.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}},[E,i,a]),(0,at.useEffect)(()=>(v?(document.addEventListener("mousemove",R),document.addEventListener("mouseup",S),document.addEventListener("touchmove",R,{passive:!1}),document.addEventListener("touchend",S)):(document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",S),document.removeEventListener("touchmove",R),document.removeEventListener("touchend",S)),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",S),document.removeEventListener("touchmove",R),document.removeEventListener("touchend",S)}),[v,h]),(0,at.useEffect)(()=>{y(d)},[d]);let C=(k,_=25)=>k.length>_?k.substring(0,_)+"...":k,D=()=>{M(!E)},X=()=>{f(!c)};return e?(0,B.jsxs)("div",{ref:O,className:"queue-manager-ui",style:{left:`${b.x}px`,top:`${b.y}px`,cursor:v?"grabbing":void 0,touchAction:"none"},onMouseDown:H,onTouchStart:H,children:[(0,B.jsxs)("div",{className:"queue-header",children:[(0,B.jsxs)("div",{className:"queue-header-title-section",children:[(0,B.jsx)(kt,{icon:"list-music",size:18}),(0,B.jsx)("span",{className:"queue-header-title",children:"Playback Queue"}),(0,B.jsx)("span",{className:"queue-header-count",children:n.length})]}),(0,B.jsxs)("div",{className:"queue-header-buttons",children:[(0,B.jsxs)("div",{className:"queue-header-buttons-row",children:[n.length>0&&(0,B.jsx)("button",{onClick:D,className:`queue-mini-button ${E?"active":""}`,"aria-label":E?"Disable auto-scroll":"Enable auto-scroll",title:E?"Auto-scroll enabled":"Auto-scroll disabled",children:(0,B.jsx)(kt,{icon:E?"scroll-text":"scroll",size:12})}),n.length>0&&(0,B.jsx)("button",{onClick:X,className:`queue-mini-button ${c?"active":""}`,"aria-label":c?"Disable loop":"Enable loop",title:c?"Loop enabled":"Loop disabled",children:(0,B.jsx)(kt,{icon:"repeat",size:12})}),(0,B.jsx)("button",{onClick:t,className:"queue-mini-button","aria-label":"Close Queue",children:(0,B.jsx)(kt,{icon:"x",size:12})})]}),(0,B.jsxs)("div",{className:"queue-header-buttons-row",children:[n.length>0&&u&&(0,B.jsx)("button",{onClick:u,className:"queue-mini-button play-button","aria-label":"Play Queue from Beginning",children:(0,B.jsx)(kt,{icon:"play",size:12})}),n.length>0&&(0,B.jsx)("button",{onClick:o,className:"queue-mini-button","aria-label":"Clear Queue",children:(0,B.jsx)(kt,{icon:"trash-2",size:12})})]})]})]}),(0,B.jsx)("div",{ref:A,className:`queue-content-area ${n.length===0?"has-empty-message":""}`,children:n.length===0?(0,B.jsxs)("div",{className:"queue-empty-message",children:[(0,B.jsx)(kt,{icon:"list-music",size:48}),(0,B.jsx)("div",{className:"queue-empty-title",children:"Queue is empty"}),(0,B.jsx)("div",{className:"queue-empty-instructions",children:"Add notes to your playback queue by:"}),(0,B.jsxs)("div",{className:"queue-empty-instruction-list",children:[(0,B.jsx)("div",{children:"\u2022 Right-clicking on notes"}),(0,B.jsx)("div",{children:'\u2022 Using "Add to queue" menu items'}),(0,B.jsx)("div",{children:"\u2022 Using keyboard shortcuts"})]})]}):n.map((k,_)=>(0,B.jsxs)("div",{className:`queue-item ${_===a&&i?"is-playing":""}`,onClick:()=>s(_),children:[(0,B.jsx)("div",{className:"queue-item-number-status",children:_===a&&i?(0,B.jsx)(kt,{icon:"volume-2",size:14}):_+1}),(0,B.jsx)("div",{className:"queue-item-title",title:k.title||"Untitled",children:C(k.title||"Untitled")}),_===a&&i&&(0,B.jsx)("div",{className:"queue-item-playing-indicator"}),(0,B.jsxs)("div",{className:"queue-item-controls",children:[_>0&&(0,B.jsx)("button",{onClick:I=>{I.stopPropagation(),l(_,_-1)},className:"queue-item-control-button",title:"Move Up",children:(0,B.jsx)(kt,{icon:"chevron-up",size:14})}),_<n.length-1&&(0,B.jsx)("button",{onClick:I=>{I.stopPropagation(),l(_,_+1)},className:"queue-item-control-button",title:"Move Down",children:(0,B.jsx)(kt,{icon:"chevron-down",size:14})}),(0,B.jsx)("button",{onClick:I=>{I.stopPropagation(),r(_)},className:"queue-item-control-button queue-item-remove-button",title:"Remove from Queue",children:(0,B.jsx)(kt,{icon:"x",size:14})})]})]},_))})]}):null};var Xl=class{constructor(t){this.hostElement=null;this.reactRoot=null;this.lastPosition=void 0;this.isQueueVisible=!1;this.resizeDebounceTimeout=null;this.RESIZE_DEBOUNCE_DELAY=250;this.debouncedWindowResize=()=>{this.resizeDebounceTimeout&&clearTimeout(this.resizeDebounceTimeout),this.resizeDebounceTimeout=window.setTimeout(()=>{this.handleWindowResize()},this.RESIZE_DEBOUNCE_DELAY)};this.audioManager=t.audioManager,this.savePosition=t.savePositionCallback,this.handleWindowResize=this.handleWindowResize.bind(this),window.addEventListener("resize",this.debouncedWindowResize),this.renderComponent()}handleWindowResize(){if(!this.isQueueVisible||!this.hostElement)return;let t=this.hostElement.querySelector(".queue-manager-ui");if(!t)return;let n=t.getBoundingClientRect(),{innerWidth:a,innerHeight:i}=window,s=50;(n.right<s||n.left>a-s||n.bottom<s||n.top>i-s)&&(console.log("Queue manager is out of bounds, repositioning..."),this.repositionQueueInBounds())}createHostElement(){this.hostElement||(this.hostElement=document.createElement("div"),this.hostElement.id="obsidian-edge-tts-queue-manager-host",document.body.appendChild(this.hostElement),this.reactRoot=bv.default.createRoot(this.hostElement))}showQueue(){this.createHostElement(),this.isQueueVisible=!0,this.renderComponent()}hideQueue(){this.isQueueVisible=!1,this.lastPosition&&this.savePosition(this.lastPosition).catch(t=>{console.error("Failed to save queue position on hide:",t)}),this.renderComponent()}toggleQueueVisibility(){this.isQueueVisible?this.hideQueue():this.showQueue()}getIsQueueVisible(){return this.isQueueVisible}updateQueue(){this.isQueueVisible&&this.renderComponent()}resetQueuePosition(){this.repositionQueueInBounds()}repositionQueueInBounds(){if(!this.hostElement)return;let t=this.hostElement.querySelector(".queue-manager-ui");if(!t)return;let n=t.getBoundingClientRect(),{innerWidth:a,innerHeight:i}=window,s=30,r=a-n.width-s,o=i-n.height-Fe.PLAYER_HEIGHT-s,l=r,u=o;l<s&&(l=s),u<s&&(u=s),l+n.width>a-s&&(l=a-n.width-s),u+n.height>i-s&&(u=i-n.height-s),l=Math.max(s,Math.min(l,a-n.width-s)),u=Math.max(s,Math.min(u,i-n.height-s)),this.lastPosition={x:l,y:u},this.savePosition(this.lastPosition).catch(c=>{console.error("Failed to save queue position on reposition:",c)}),this.isQueueVisible&&this.renderComponent()}renderComponent(){var t;if(this.reactRoot){let n=typeof window!="undefined"?window.innerWidth-Fe.QUEUE_WIDTH:50,a=typeof window!="undefined"?window.innerHeight-Fe.QUEUE_HEIGHT:50,i=(t=this.lastPosition)!=null?t:{x:n,y:a},s=this.audioManager.getQueueStatus();this.reactRoot.render(yv.default.createElement(gv,{isVisible:this.isQueueVisible,onClose:()=>this.hideQueue(),queue:s.queue,currentIndex:s.currentIndex,isPlayingFromQueue:s.isPlayingFromQueue,onPlayItem:r=>this.audioManager.playQueueItem(r),onRemoveItem:r=>{this.audioManager.removeQueueItem(r),this.updateQueue()},onClearQueue:()=>{this.audioManager.clearQueue(),this.updateQueue()},onMoveItem:(r,o)=>{this.audioManager.moveQueueItem(r,o),this.updateQueue()},onPlayQueue:()=>this.audioManager.playQueue(),loopEnabled:this.audioManager.getLoopEnabled(),onToggleLoop:r=>{this.audioManager.setLoopEnabled(r),this.updateQueue()},initialPosition:i,onDragEnd:r=>{this.lastPosition=r,this.savePosition(r).catch(o=>{console.error("Failed to save queue position on drag end:",o)})}}))}}setInitialSavedPosition(t){t&&(this.lastPosition=t,this.isQueueVisible&&this.renderComponent())}getCurrentPosition(){return this.lastPosition}destroy(){this.reactRoot&&(this.reactRoot.unmount(),this.reactRoot=null),this.hostElement&&(this.hostElement.remove(),this.hostElement=null),this.isQueueVisible=!1,window.removeEventListener("resize",this.debouncedWindowResize),this.resizeDebounceTimeout&&clearTimeout(this.resizeDebounceTimeout)}};var Ev=Ce(en()),Tv=Ce(Fl());var Zl=Ce(en()),vv=require("obsidian"),G=Ce(Pa()),Il=({icon:e,className:t,size:n=16})=>{let a=(0,Zl.useRef)(null);return(0,Zl.useEffect)(()=>{if(a.current){a.current.innerHTML="",(0,vv.setIcon)(a.current,e);let i=a.current.querySelector("svg");i&&n&&(i.style.width=`${n}px`,i.style.height=`${n}px`)}},[e,n]),(0,G.jsx)("span",{ref:a,className:t,style:{display:"flex",alignItems:"center",justifyContent:"center"}})};var Sv=({isVisible:e,onClose:t,totalChunks:n,chunks:a,currentPhase:i,overallProgress:s,errorMessage:r,noteTitle:o="Unknown Note"})=>{if(!e)return null;let l=()=>{switch(i){case"splitting":return"Splitting note into chunks...";case"generating":return"Generating audio chunks...";case"combining":return"Combining audio files...";case"completed":return"MP3 generation completed!";case"error":return"Error occurred during generation";default:return"Processing..."}},u=()=>{switch(i){case"splitting":return"scissors";case"generating":return"cpu";case"combining":return"package";case"completed":return"check-circle";case"error":return"alert-circle";default:return"loader-2"}},c=b=>{switch(b){case"pending":return"clock";case"processing":return"loader-2";case"completed":return"check";case"failed":return"x";default:return"circle"}},f=b=>{switch(b){case"pending":return"Waiting";case"processing":return"Processing";case"completed":return"Done";case"failed":return"Failed";default:return"Unknown"}},d=a.filter(b=>b.status==="completed").length,m=a.filter(b=>b.status==="failed").length;return(0,G.jsxs)("div",{className:"chunked-progress-ui",children:[(0,G.jsx)("div",{className:"chunked-progress-header",children:(0,G.jsxs)("div",{className:"chunked-progress-title-section",children:[(0,G.jsx)(Il,{icon:u(),size:18,className:i==="generating"?"spinning":""}),(0,G.jsx)("span",{className:"chunked-progress-title",children:"MP3 Generation"}),(i==="completed"||i==="error")&&(0,G.jsx)("button",{onClick:t,className:"chunked-progress-close-button","aria-label":"Close",children:(0,G.jsx)(Il,{icon:"x",size:14})})]})}),(0,G.jsxs)("div",{className:"chunked-progress-content",children:[(0,G.jsx)("div",{className:"chunked-progress-note-title",title:o,children:o.length>30?o.substring(0,30)+"...":o}),(0,G.jsxs)("div",{className:"chunked-progress-phase",children:[(0,G.jsx)("span",{className:"chunked-progress-phase-text",children:l()}),i!=="completed"&&i!=="error"&&(0,G.jsxs)("span",{className:"chunked-progress-percentage",children:[Math.round(s),"%"]})]}),i==="error"&&r&&(0,G.jsxs)("div",{className:"chunked-progress-error",children:[(0,G.jsx)(Il,{icon:"alert-triangle",size:14}),(0,G.jsx)("span",{children:r})]}),(0,G.jsx)("div",{className:"chunked-progress-overall-bar",children:(0,G.jsx)("div",{className:`chunked-progress-overall-fill ${i==="error"?"error":""}`,style:{width:`${s}%`}})}),(0,G.jsxs)("div",{className:"chunked-progress-stats",children:[(0,G.jsxs)("span",{children:["Total Chunks: ",n]}),a.length>0&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("span",{children:["Completed: ",d]}),m>0&&(0,G.jsxs)("span",{className:"error-text",children:["Failed: ",m]})]})]}),a.length>0&&i==="generating"&&(0,G.jsxs)("div",{className:"chunked-progress-chunks",children:[(0,G.jsx)("div",{className:"chunked-progress-chunks-header",children:(0,G.jsx)("span",{children:"Chunk Progress:"})}),(0,G.jsx)("div",{className:"chunked-progress-chunks-list",children:a.map((b,y)=>(0,G.jsxs)("div",{className:`chunked-progress-chunk ${b.status}`,title:b.error||`Chunk ${y+1}: ${f(b.status)}`,children:[(0,G.jsx)("span",{className:"chunked-progress-chunk-number",children:y+1}),(0,G.jsx)(Il,{icon:c(b.status),size:12,className:b.status==="processing"?"spinning":""}),b.status==="processing"&&b.progress>0&&(0,G.jsxs)("span",{className:"chunked-progress-chunk-progress",children:[b.progress,"%"]})]},b.id))})]})]})]})};var Kl=class{constructor(){this.hostElement=null;this.reactRoot=null;this.state={isVisible:!1,totalChunks:0,chunks:[],currentPhase:"splitting",overallProgress:0};this.resizeDebounceTimeout=null;this.RESIZE_DEBOUNCE_DELAY=250;this.debouncedWindowResize=()=>{this.resizeDebounceTimeout&&clearTimeout(this.resizeDebounceTimeout),this.resizeDebounceTimeout=window.setTimeout(()=>{this.handleWindowResize()},this.RESIZE_DEBOUNCE_DELAY)};this.handleWindowResize=this.handleWindowResize.bind(this),window.addEventListener("resize",this.debouncedWindowResize)}handleWindowResize(){!this.state.isVisible||!this.hostElement||this.updatePosition()}createHostElement(){this.hostElement||(this.hostElement=document.createElement("div"),this.hostElement.id="obsidian-edge-tts-chunked-progress-host",document.body.appendChild(this.hostElement),this.reactRoot=Tv.default.createRoot(this.hostElement),this.updatePosition())}updatePosition(){if(!this.hostElement)return;let t=20,n=30,a=200,i=t,s=n+t;this.hostElement.style.position="fixed",this.hostElement.style.right=`${i}px`,this.hostElement.style.bottom=`${s}px`,this.hostElement.style.zIndex="1000",this.hostElement.style.pointerEvents=this.state.isVisible?"auto":"none"}show(t={}){this.createHostElement(),this.state={...this.state,...t,isVisible:!0},this.renderComponent()}hide(){this.state.isVisible=!1,this.renderComponent()}updateState(t){this.state={...this.state,...t},this.state.isVisible&&this.renderComponent()}updateChunk(t,n){let a=this.state.chunks.findIndex(i=>i.id===t);if(a!==-1){let i=[...this.state.chunks];i[a]={...i[a],...n},this.updateState({chunks:i})}}addChunk(t){this.updateState({chunks:[...this.state.chunks,t]})}setChunks(t){this.updateState({chunks:t})}getState(){return{...this.state}}calculateOverallProgress(){if(this.state.currentPhase==="splitting")return 5;if(this.state.currentPhase==="generating"){if(this.state.chunks.length===0)return 5;let t=this.state.chunks.filter(o=>o.status==="completed").length,n=this.state.chunks.filter(o=>o.status==="processing"),a=t*100;n.forEach(o=>{a+=Math.max(o.progress,10)});let i=n.filter(o=>o.progress===0).length;a+=i*5;let r=5+a/(this.state.chunks.length*100)*80;return Math.min(85,r)}else{if(this.state.currentPhase==="combining")return 90;if(this.state.currentPhase==="completed")return 100;if(this.state.currentPhase==="error")return this.state.overallProgress}return 0}renderComponent(){if(this.reactRoot){let t=this.calculateOverallProgress();this.reactRoot.render(Ev.default.createElement(Sv,{isVisible:this.state.isVisible,onClose:()=>this.hide(),totalChunks:this.state.totalChunks,chunks:this.state.chunks,currentPhase:this.state.currentPhase,overallProgress:t,errorMessage:this.state.errorMessage,noteTitle:this.state.noteTitle})),this.state.isVisible&&this.updatePosition()}}destroy(){this.reactRoot&&(this.reactRoot.unmount(),this.reactRoot=null),this.hostElement&&(this.hostElement.remove(),this.hostElement=null),this.state.isVisible=!1,window.removeEventListener("resize",this.debouncedWindowResize),this.resizeDebounceTimeout&&clearTimeout(this.resizeDebounceTimeout)}};var Gd=class{constructor(){}},Sn=class{static splitTextIntoChunks(t,n=Sn.DEFAULT_MAX_CHUNK_LENGTH){let a=[],i="",s=t.split(/\n\s*\n/);for(let r of s)if(r.length>n){i.trim()&&(a.push(i.trim()),i="");let o=r.split(/(?<=[.!?])\s+/);for(let l of o)if(l.length>n){let u=l.split(/\s+/),c="";for(let f of u)(c+" "+f).length>n?(c.trim()&&a.push(c.trim()),c=f):c+=(c?" ":"")+f;c.trim()&&(i=c.trim())}else(i+`

`+l).length>n?(i.trim()&&a.push(i.trim()),i=l):i+=(i?" ":"")+l}else{let o=i+(i?`

`:"")+r;o.length>n&&i.trim()?(a.push(i.trim()),i=r):i=o}return i.trim()&&a.push(i.trim()),a.filter(r=>r.trim().length>0)}static needsChunking(t,n){let a=Lt(zt(t)),i=(n==null?void 0:n.chunkSize)||Sn.DEFAULT_MAX_CHUNK_LENGTH,s=a.length,r=a.split(/\s+/).length;return s>i||r>Sn.MAX_WORD_LENGTH}static async generateChunkedMP3(t){let{text:n,settings:a,progressManager:i,noteTitle:s="Note",maxChunkLength:r=Sn.DEFAULT_MAX_CHUNK_LENGTH}=t;try{let o=Jt(n);if(o.wasTruncated){let v=o.truncationReason==="words"?"word":"character",p=o.truncationReason==="words"?"5,000 words":"30,000 characters";i.updateState({currentPhase:"splitting",noteTitle:s,overallProgress:0,errorMessage:`Content truncated: exceeded ${p} limit. Processing first ${o.finalWordCount.toLocaleString()} words.`}),a.showNotices&&console.warn(`Content exceeds MP3 generation limit (${p}). Generating MP3 for the first ${o.finalWordCount.toLocaleString()} words. Original content had ${o.originalWordCount.toLocaleString()} words.`),await new Promise(h=>setTimeout(h,2e3))}i.updateState({currentPhase:"splitting",noteTitle:s,overallProgress:0,errorMessage:void 0});let l=Lt(zt(o.content));if(!l.trim())throw new Error("No readable text after filtering");let u=Sn.splitTextIntoChunks(l,r);if(u.length===0)throw new Error("No valid chunks created from text");let c=u.map((v,p)=>({id:`chunk-${p}`,text:v,status:"pending",progress:0}));i.updateState({currentPhase:"generating",totalChunks:c.length,chunks:c});let f=a.customVoice.trim()||a.selectedVoice,d=Wt.AUDIO_24KHZ_48KBITRATE_MONO_MP3,m=new Gd;m.rate=a.playbackSpeed;let b=[];for(let v=0;v<c.length;v++){let p=c[v];try{i.updateChunk(p.id,{status:"processing",progress:0}),i.updateState({});let h=new Kt;await h.setMetadata(f,d);let g=h.toStream(p.text,m),E=[],M=p.text.length*50,O=0;g.on("data",x=>{E.push(x),O+=x.length;let H=Math.min(99,Math.floor(O/M*100));i.updateChunk(p.id,{progress:H}),H%10===0&&i.updateState({})});let A=await new Promise((x,H)=>{g.on("end",()=>{let S=Buffer.concat(E);x(S)});let R=S=>{console.error(`Stream error for chunk ${v+1}:`,S),H(S)};try{g.on("error",R)}catch(S){}setTimeout(()=>{H(new Error(`Timeout generating chunk ${v+1}`))},12e4)});i.updateChunk(p.id,{status:"completed",progress:100}),i.updateState({}),b.push(A)}catch(h){console.error(`Error generating chunk ${v+1}:`,h),i.updateChunk(p.id,{status:"failed",error:h instanceof Error?h.message:"Unknown error"})}v<c.length-1&&await new Promise(h=>setTimeout(h,500))}if(b.length===0)throw new Error("Failed to generate any audio chunks");i.updateState({currentPhase:"combining"});let y=Buffer.concat(b);return i.updateState({currentPhase:"completed"}),y}catch(o){return console.error("Chunked MP3 generation error:",o),i.updateState({currentPhase:"error",errorMessage:o instanceof Error?o.message:"Unknown error occurred"}),null}}static estimateChunkCount(t,n){let a=Lt(zt(t)),i=(n==null?void 0:n.chunkSize)||Sn.DEFAULT_MAX_CHUNK_LENGTH;return Math.ceil(a.length/i)}static getRecommendedChunkSize(t,n){let a=(n==null?void 0:n.chunkSize)||Sn.DEFAULT_MAX_CHUNK_LENGTH,i=Lt(zt(t));return i.length>5e4?Math.min(a,7e3):i.length>2e4?Math.min(a,8e3):a}},En=Sn;En.DEFAULT_MAX_CHUNK_LENGTH=9e3,En.MAX_WORD_LENGTH=1500;var Wl=class extends $.Plugin{constructor(){super(...arguments);this.mp3GenerationTasks=new Map}async onload(){await this.loadSettings();let n=this.app.vault.configDir+"/plugins/"+this.manifest.id+"/temp",a=n+"/tts-temp-audio.mp3";this.fileManager=new po(this.app,this.settings,a),await this.fileManager.cleanupTempAudioFile(),await this.app.vault.adapter.exists(n)||await this.app.vault.adapter.mkdir(n),this.ttsEngine=new go(this.settings),this.audioManager=new ho(this.settings,this.updateStatusBar.bind(this),i=>{console.warn("showFloatingPlayerCallback not yet initialized with data:",i)},()=>{console.warn("hideFloatingPlayerCallback not yet initialized")},i=>{console.warn("updateFloatingPlayerCallback not yet initialized with data:",i)},this.fileManager,this.app),this.floatingUIManager=new Yl({audioManager:this.audioManager,savePositionCallback:async i=>{this.settings.floatingPlayerPosition=i,await this.saveSettings()},enableQueueFeature:this.settings.enableQueueFeature}),this.settings.enableQueueFeature&&(this.queueUIManager=new Xl({audioManager:this.audioManager,savePositionCallback:async i=>{this.settings.queueManagerPosition=i,await this.saveSettings()}}),this.queueUIManager&&this.floatingUIManager.setQueueUIManager(this.queueUIManager)),this.audioManager.setFloatingPlayerCallbacks(i=>this.floatingUIManager.showPlayer(i),()=>this.floatingUIManager.hidePlayer(),i=>this.floatingUIManager.updatePlayerState(i)),this.settings.enableQueueFeature&&this.queueUIManager&&(this.audioManager.setQueueChangeCallback(()=>{var i;(i=this.queueUIManager)==null||i.updateQueue()}),this.audioManager.setQueueUIUpdateCallback(()=>{var i;(i=this.queueUIManager)==null||i.updateQueue()})),this.uiManager=new yo(this,this.settings,this.audioManager,this.ttsEngine),this.settings.floatingPlayerPosition&&this.floatingUIManager.setInitialSavedPosition(this.settings.floatingPlayerPosition),this.settings.enableQueueFeature&&this.queueUIManager&&this.settings.queueManagerPosition&&this.queueUIManager.setInitialSavedPosition(this.settings.queueManagerPosition),this.chunkedProgressManager=new Kl,this.addSettingTab(new yr(this.app,this)),this.uiManager.addPluginRibbonIcon(),this.settings.showStatusBarButton&&this.uiManager.initializeStatusBar(),this.settings.showMenuItems&&this.uiManager.addPluginMenuItems(),this.registerInterval(window.setInterval(()=>this.monitorTasks(),1e3)),this.addCommand({id:"read-note-aloud",name:"Read note aloud",editorCallback:(i,s)=>{this.readNoteAloud(i,s)}}),$.Platform.isMobile||this.addCommand({id:"generate-mp3",name:"Generate MP3",editorCallback:(i,s)=>{this.generateMP3(i,s)}}),this.addCommand({id:"stop-tts-playback",name:"Stop TTS playback",callback:()=>{this.audioManager.stopPlayback()}}),this.addCommand({id:"pause-resume-playback",name:"Pause/Resume playback",callback:()=>{this.audioManager.isPlaybackPaused()?this.audioManager.resumePlayback():this.audioManager.pausePlayback()}}),this.addCommand({id:"jump-forward-10s",name:"Jump forward 10 seconds",callback:()=>this.audioManager.jumpForward()}),this.addCommand({id:"jump-backward-10s",name:"Jump backward 10 seconds",callback:()=>this.audioManager.jumpBackward()}),this.addCommand({id:"read-selected-text",name:"Read selected text aloud",editorCallback:(i,s)=>{let r=i.getSelection();r.trim()?this.audioManager.startPlayback(r):ma(this.settings)&&new $.Notice("No text selected.")}}),this.addCommand({id:"show-floating-playback-controls",name:"Show floating playback controls",callback:()=>{this.floatingUIManager.getIsPlayerVisible()||this.floatingUIManager.showPlayer()}}),this.addCommand({id:"reset-floating-player-position",name:"Reset floating player position",callback:()=>{this.floatingUIManager.resetPlayerPosition(),ma(this.settings)&&new $.Notice("Floating player position reset.")}}),this.settings.enableQueueFeature&&(this.addCommand({id:"add-note-to-queue",name:"Add current note to playback queue",editorCallback:(i,s)=>{var l;let r=((l=s.file)==null?void 0:l.basename)||"Untitled",o=i.getValue();this.audioManager.addToQueue(o,r)}}),this.addCommand({id:"add-selection-to-queue",name:"Add selected text to playback queue",editorCallback:(i,s)=>{var o;let r=i.getSelection();if(r.trim()){let l=((o=s.file)==null?void 0:o.basename)||"Untitled";this.audioManager.addToQueue(r,`${l} (selection)`)}else ma(this.settings)&&new $.Notice("No text selected.")}}),this.addCommand({id:"play-queue",name:"Play entire queue",callback:()=>{this.audioManager.playQueue()}}),this.addCommand({id:"clear-queue",name:"Clear playback queue",callback:()=>{this.audioManager.clearQueue()}}),this.addCommand({id:"show-queue-status",name:"Show queue status",callback:()=>{let i=this.audioManager.getQueueStatus(),s=i.queue.length===0?"Playback queue is empty.":`Queue has ${i.queue.length} items. ${i.isPlayingFromQueue?`Currently playing item ${i.currentIndex+1}.`:"Not currently playing from queue."}`;this.settings.showNotices&&new $.Notice(s)}})),this.addCommand({id:"set-sleep-timer-15min",name:"Set sleep timer (15 minutes)",callback:()=>{this.audioManager.setSleepTimer(15)}}),this.addCommand({id:"set-sleep-timer-30min",name:"Set sleep timer (30 minutes)",callback:()=>{this.audioManager.setSleepTimer(30)}}),this.addCommand({id:"set-sleep-timer-60min",name:"Set sleep timer (60 minutes)",callback:()=>{this.audioManager.setSleepTimer(60)}}),this.addCommand({id:"cancel-sleep-timer",name:"Cancel sleep timer",callback:()=>{this.audioManager.cancelSleepTimer()}}),this.settings.enableQueueFeature&&this.queueUIManager&&(this.addCommand({id:"show-queue-manager",name:"Show queue manager",callback:()=>{var i;(i=this.queueUIManager)==null||i.showQueue()}}),this.addCommand({id:"toggle-queue-manager",name:"Toggle queue manager",callback:()=>{var i;(i=this.queueUIManager)==null||i.toggleQueueVisibility()}}),this.addCommand({id:"reset-queue-position",name:"Reset queue manager position",callback:()=>{var i;(i=this.queueUIManager)==null||i.resetQueuePosition(),this.settings.showNotices&&new $.Notice("Queue manager position reset.")}})),$.Platform.isMobile||this.addCommand({id:"force-chunked-mp3-generation",name:"Force chunked MP3 generation",editorCallback:(i,s)=>{var o;let r=i.getSelection()||i.getValue();if(r.trim()){let l=Jt(r);if(l.wasTruncated){let u=l.truncationReason==="words"?"word":"character",c=l.truncationReason==="words"?"5,000 words":"30,000 characters";this.settings.showNotices&&new $.Notice(`Content exceeds MP3 generation limit (${c}). Generating MP3 for the first ${l.finalWordCount.toLocaleString()} words (${l.finalCharCount.toLocaleString()} characters). Original content had ${l.originalWordCount.toLocaleString()} words.`,8e3)}this.generateChunkedMP3(l.content,i,(o=s.file)==null?void 0:o.path)}else this.settings.showNotices&&new $.Notice("No text available for chunked generation.")}}),this.addCommand({id:"debug-media-session",name:"Debug Media Session API support",callback:()=>{let i="mediaSession"in navigator,s=i&&"MediaMetadata"in window,r=this.settings.enableExperimentalFeatures,o=/Android/i.test(navigator.userAgent),l=/iPad|iPhone|iPod/.test(navigator.userAgent),u=[`Media Session API: ${i?"\u2705 Supported":"\u274C Not supported"}`,`MediaMetadata: ${s?"\u2705 Supported":"\u274C Not supported"}`,`Experimental features: ${r?"\u2705 Enabled":"\u274C Disabled"}`,`Platform: ${$.Platform.isMobile?"Mobile":"Desktop"}`,`OS: ${o?"Android":l?"iOS":"Other"}`,`Expected to work: ${i&&r?l?"\u2705 Yes (iOS)":o?"\u26A0\uFE0F Maybe (Android)":"\u26A0\uFE0F Unknown":"\u274C No"}`];console.log("Media Session Debug Info:",u),new $.Notice(`Media Session Debug:
${u.join(`
`)}`,12e3)}})}monitorTasks(){for(let[n,a]of this.mp3GenerationTasks.entries()){let i=this.ttsEngine.getTask(a.taskId);if(!i){this.mp3GenerationTasks.delete(n);continue}i.status==="completed"&&i.buffer?(this.mp3GenerationTasks.delete(n),this.fileManager.saveMP3File(i.buffer,a.filePath).then(s=>{s&&this.settings.embedInNote&&this.fileManager.embedMP3InNote(s,a.filePath,a.editor)}),this.settings.showNotices&&new $.Notice("MP3 generation complete")):i.status==="failed"&&(this.mp3GenerationTasks.delete(n),this.settings.showNotices&&new $.Notice(`MP3 generation failed: ${i.error||"Unknown error"}`))}Math.random()<.0033&&this.ttsEngine.cleanupOldTasks()}updateStatusBar(n=!1){this.uiManager.updateStatusBar(n)}async readNoteAloud(n,a,i){let s="";if(i){let o=await this.fileManager.extractFileContent(i);if(o)s=o;else{this.settings.showNotices&&new $.Notice("Failed to read note aloud.");return}}else{let o=a!=null?a:this.app.workspace.getActiveViewOfType($.MarkdownView);!n&&o&&(n=o.editor),n&&o&&(s=n.getSelection()||n.getValue())}let r=Jt(s);if(r.wasTruncated){let o=r.truncationReason==="words"?"word":"character",l=r.truncationReason==="words"?"5,000 words":"30,000 characters";this.settings.showNotices&&new $.Notice(`Content exceeds playback limit (${l}). Playing first ${r.finalWordCount.toLocaleString()} words (${r.finalCharCount.toLocaleString()} characters). Original content had ${r.originalWordCount.toLocaleString()} words.`,8e3)}await this.audioManager.startPlayback(r.content)}async generateMP3(n,a,i){if($.Platform.isMobile){this.settings.showNotices&&new $.Notice("MP3 generation is not supported on mobile devices due to file system limitations. Use audio playback instead.");return}let s="";if(i){let l=await this.fileManager.extractFileContent(i);if(l)s=l;else{this.settings.showNotices&&new $.Notice("Failed to generate MP3: could not read file.");return}}else{let l=a!=null?a:this.app.workspace.getActiveViewOfType($.MarkdownView);!n&&l&&(n=l.editor),n&&l&&(s=n.getSelection()||n.getValue())}if(!s.trim()){this.settings.showNotices&&new $.Notice("No text selected or available.");return}let r=Jt(s);if(r.wasTruncated){let l=r.truncationReason==="words"?"word":"character",u=r.truncationReason==="words"?"5,000 words":"30,000 characters";this.settings.showNotices&&new $.Notice(`Content exceeds MP3 generation limit (${u}). Generating MP3 for the first ${r.finalWordCount.toLocaleString()} words (${r.finalCharCount.toLocaleString()} characters). Original content had ${r.originalWordCount.toLocaleString()} words.`,8e3)}let o=r.content;if(En.needsChunking(o,this.settings)){await this.generateChunkedMP3(o,n,i);return}try{this.settings.showNotices&&new $.Notice("Starting MP3 generation in background...");let l=this.ttsEngine.createTask(o,Wt.AUDIO_24KHZ_48KBITRATE_MONO_MP3),u=`mp3-${Date.now()}`;this.mp3GenerationTasks.set(u,{taskId:l.id,editor:n,filePath:i})}catch(l){console.error("Error starting MP3 generation:",l),this.settings.showNotices&&new $.Notice("Failed to start MP3 generation.")}}async generateChunkedMP3(n,a,i){var s,r;if($.Platform.isMobile){this.settings.showNotices&&new $.Notice("MP3 generation is not supported on mobile devices due to file system limitations. Use audio playback instead.");return}try{let o=i&&((r=(s=this.app.vault.getAbstractFileByPath(i))==null?void 0:s.name)==null?void 0:r.replace(/\.md$/,""))||"Note";this.chunkedProgressManager.show({noteTitle:o,totalChunks:En.estimateChunkCount(n,this.settings)});let l=await En.generateChunkedMP3({text:n,settings:this.settings,progressManager:this.chunkedProgressManager,noteTitle:o,maxChunkLength:En.getRecommendedChunkSize(n,this.settings)});if(l){let u=await this.fileManager.saveMP3File(l,i);u&&this.settings.embedInNote&&await this.fileManager.embedMP3InNote(u,i,a),this.settings.showNotices&&new $.Notice("Chunked MP3 generation completed successfully!"),setTimeout(()=>{this.chunkedProgressManager.hide()},3e3)}else this.settings.showNotices&&new $.Notice("Failed to generate chunked MP3."),setTimeout(()=>{this.chunkedProgressManager.hide()},5e3)}catch(o){console.error("Error in chunked MP3 generation:",o),this.chunkedProgressManager.updateState({currentPhase:"error",errorMessage:o instanceof Error?o.message:"Unknown error occurred"}),this.settings.showNotices&&new $.Notice("Failed to generate chunked MP3."),setTimeout(()=>{this.chunkedProgressManager.hide()},5e3)}}async loadSettings(){this.settings=Object.assign({},Id,await this.loadData())}async saveSettings(){await this.saveData(this.settings),this.audioManager.updateSettings(this.settings),this.fileManager.updateSettings(this.settings),this.uiManager.updateSettings(this.settings),this.ttsEngine.updateSettings(this.settings),this.floatingUIManager.updateQueueFeatureEnabled(this.settings.enableQueueFeature)}onunload(){var s,r,o,l,u;console.log("Unloading Obsidian Edge TTS Plugin"),this.uiManager.removePluginRibbonIcon(),this.audioManager.stopPlayback(),this.uiManager.removeStatusBarButton();let n=this.floatingUIManager.getCurrentPosition(),a=(s=this.queueUIManager)==null?void 0:s.getCurrentPosition(),i=!1;n&&(((r=this.settings.floatingPlayerPosition)==null?void 0:r.x)!==n.x||((o=this.settings.floatingPlayerPosition)==null?void 0:o.y)!==n.y)&&(this.settings.floatingPlayerPosition=n,i=!0),a&&(((l=this.settings.queueManagerPosition)==null?void 0:l.x)!==a.x||((u=this.settings.queueManagerPosition)==null?void 0:u.y)!==a.y)&&(this.settings.queueManagerPosition=a,i=!0),i&&this.saveData(this.settings).catch(c=>console.error("Failed to save UI positions on unload:",c)),this.floatingUIManager.destroy(),this.queueUIManager&&this.queueUIManager.destroy(),this.chunkedProgressManager.destroy()}};
/*! Bundled license information:

axios/dist/browser/axios.cjs:
  (*! Axios v1.9.0 Copyright (c) 2025 Matt Zabriskie and contributors *)

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/

/* nosourcemap */